(function(t){function e(e){for(var a,n,r=e[0],l=e[1],d=e[2],h=0,u=[];h<r.length;h++)n=r[h],Object.prototype.hasOwnProperty.call(i,n)&&i[n]&&u.push(i[n][0]),i[n]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);c&&c(e);while(u.length)u.shift()();return o.push.apply(o,d||[]),s()}function s(){for(var t,e=0;e<o.length;e++){for(var s=o[e],a=!0,r=1;r<s.length;r++){var l=s[r];0!==i[l]&&(a=!1)}a&&(o.splice(e--,1),t=n(n.s=s[0]))}return t}var a={},i={app:0},o=[];function n(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=t,n.c=a,n.d=function(t,e,s){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(s,a,function(e){return t[e]}.bind(null,a));return s},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=e,r=r.slice();for(var d=0;d<r.length;d++)e(r[d]);var c=l;o.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"034f":function(t,e,s){"use strict";var a=s("3ebb"),i=s.n(a);i.a},"0c44":function(t,e,s){"use strict";var a=s("1e01"),i=s.n(a);i.a},1084:function(t,e,s){var a=s("24fb");e=a(!1),e.push([t.i,".sliders[data-v-70444063]{font-size:.9rem}.con-vs-slider[data-v-70444063]{margin-top:10px;margin-bottom:10px}.expand-enter-active[data-v-70444063],.expand-leave-active[data-v-70444063]{-webkit-transition:all .3s;transition:all .3s;height:100px;overflow:hidden}.expand-enter[data-v-70444063],.expand-leave-to[data-v-70444063]{height:0}",""]),t.exports=e},1107:function(t,e,s){var a=s("24fb");e=a(!1),e.push([t.i,"#console{width:100%;height:465px}#buttons{z-index:999}#logs{margin-top:10px;width:100%;height:355px;font-size:.7rem;line-height:1.3;border-radius:6px;padding:9px;-webkit-box-sizing:border-box;box-sizing:border-box;resize:none;outline:none;text-transform:none;text-decoration:none}textarea:disabled{background:#fff}#chart{width:100%;height:380px}",""]),t.exports=e},1307:function(t,e,s){var a=s("24fb");e=a(!1),e.push([t.i,".panel[data-v-d73c2ca8]{margin-top:-5px}.panel .vs-input[data-v-d73c2ca8]{width:100px}#grid-chart[data-v-d73c2ca8]{width:100%;height:350px}#bts[data-v-d73c2ca8]{font-size:.9rem}",""]),t.exports=e},"1e01":function(t,e,s){var a=s("1084");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=s("499e").default;i("55e21570",a,!0,{sourceMap:!1,shadowMode:!1})},"254b":function(t,e,s){"use strict";var a=s("dc0e"),i=s.n(a);i.a},"2d23":function(t,e,s){s("a630"),s("c975"),s("fb6a"),s("a434"),s("b64b"),s("d3b7"),s("25f0"),s("6062"),s("3ca3"),s("ddb0");var a=0,i=8,o=4,n=s("c869");function r(t){for(var e=[Math.floor(t-n.beacon-a)/2,Math.floor(t-n.beacon-a)/2],s=n.uplink.slice(),i=n.downlink.slice(),r={broadcast:{}},d=0;d<o;d++)r[d]={uplink:{},downlink:{}};var c=Math.floor(16/o),h=[],u=[],f=[],p=0,v=0;for(d=0;d<o;d++)h[d]=a,u[d]=l(s,e[0]-p),f[d]=l(i,e[1]-v),p+=u[d][0],v+=f[d][0];for(var _=s.length-1;_>=0;--_)for(d=0;d<o;d++){var m=0;r[d].uplink[_]={start:h[d],end:h[d]+u[d][_],channels:[d*c,(d+1)*c+m]},h[d]+=u[d][_]}r.broadcast={start:h[0],end:h[0]+n.beacon};for(d=0;d<o;d++)h[d]=t;for(var y=i.length-1;y>=0;--y)for(d=0;d<o;d++){m=0;r[d].downlink[y]={start:h[d]-f[d][y],end:h[d],channels:[d*c,(d+1)*c+m]},h[d]-=f[d][y]}return window.console.log("patition:",r),r}function l(t,e){for(var s=JSON.parse(JSON.stringify(t)),a=0,i=0;i<s.length;++i)a+=s[i];for(i=0;i<s.length;++i)s[i]=s[i]*e/a;for(i=1;i<s.length;++i)s[i]+=s[i-1];for(i=0;i<s.length;++i)s[i]=Math.floor(s[i]+.5);for(i=s.length-1;i>0;--i)s[i]-=s[i-1];return s}function d(t,e,s){if(!(this instanceof d))return new d(t,e,s);this.slotFrameLength=t,this.channels=e,this.algorithm=s,this.rows=o,this.schedule=new Array(t),this.topology={0:[]},this.used_subslot=[],this.isFull=!1,this.nonOptimalCount=0;for(var n=0;n<t;++n)this.schedule[n]=new Array(16);for(var l in this.channels){e=this.channels[l];for(var c=0;c<this.slotFrameLength;++c)this.schedule[c][e]=new Array(i)}this.partition=r(t),this.channelRows={};for(var h=0;h<o;h++){var u=this.partition[h].uplink[0].channels;this.channelRows[h]=[];for(l=u[0];l<u[1];l++)this.channelRows[h].push(l+1)}console.log(this.channelRows),this.setTopology=function(t){this.topo=t},this.add_slot=function(t,e){this.add_subslot(t,{offset:0,period:1},e)},this.add_subslot=function(t,e,s,a){for(var o=e.offset*i/e.period,n=(e.offset+1)*i/e.period,r=o;r<n;++r)this.schedule[t.slot_offset][t.channel_offset][r]={type:s.type,layer:s.layer,sender:s.sender,receiver:s.receiver};this.used_subslot.push({slot:[t.slot_offset,t.channel_offset],subslot:[e.offset,e.period],cell:s,is_optimal:a}),"uplink"==s.type&&(null!=this.topology[s.receiver]?-1==this.topology[s.receiver].indexOf(s.sender)&&this.topology[s.receiver].push(s.sender):this.topology[s.receiver]=[s.sender])},this.remove_slot=function(t){this.remove_subslot(t,{offset:0,period:1})},this.remove_subslot=function(t,e){for(var s=e.offset*i/e.period,a=(e.offset+1)*i/e.period,o=s;o<a;++o)this.schedule[t.slot_offset][t.channel_offset][o]=null;for(var n=0;n<this.used_subslot.length;n++)this.used_subslot[n].slot[0]==t.slot_offset&&this.used_subslot[n].slot[1]==t.channel_offset&&this.used_subslot[n].subslot[0]==e.offset&&this.used_subslot[n].subslot[1]==e.period&&(this.used_subslot.splice(n,1),n--)},this.remove_usedsubslot=function(t,e,s){for(var a=0;a<this.used_subslot.length;a++)this.used_subslot[a].cell.sender==t&&this.used_subslot[a].cell.receiver==e&&this.used_subslot[a].cell.type==s&&(this.used_subslot.splice(a,1),a--)},this.available_subslot=function(t,e,s,o,n){if(e.slot_offset<a)return!1;if("beacon"==o.type&&e.channel_offset!=this.channels[0])return!1;if(null!=this.partition.broadcast){var r=this.partition.broadcast.start,l=this.partition.broadcast.end;if("beacon"==o.type){if(e.slot_offset<r||e.slot_offset>=l)return!1}else if(e.slot_offset>=r&&e.slot_offset<l)return!1}for(var d=s.offset*i/s.period,c=(s.offset+1)*i/s.period,h=d;h<c;++h)if(null!=this.schedule[e.slot_offset][e.channel_offset][h])return!1;for(var u in this.channels){var f=this.channels[u];for(h=d;h<c;++h)if(null!=this.schedule[e.slot_offset][f][h]){if("beacon"==this.schedule[e.slot_offset][f][h].type)return!1;if(-1!=t.indexOf(this.schedule[e.slot_offset][f][h].sender))return!1;if(-1!=t.indexOf(this.schedule[e.slot_offset][f][h].receiver))return!1}}if(n&&o.layer>0&&"beacon"!=o.type){var p=0;p="uplink"==o.type?t[1]:t[0];var v=this.find_cell(p,o.type);if("uplink"==o.type){if(e.slot_offset>v.slot[0])return!1}else if(e.slot_offset<v.slot[0])return!1}return!0},this.inpartition_slots=function(t,e,s){var a=[],i=0,o=0;"beacon"==e.type&&null!=this.partition.broadcast&&(i=this.partition.broadcast.start,o=this.partition.broadcast.end),"uplink"==e.type&&null!=this.partition[s].uplink&&null!=this.partition[s].uplink[e.layer.toString()]&&(i=this.partition[s].uplink[e.layer.toString()].start,o=this.partition[s].uplink[e.layer.toString()].end),"downlink"==e.type&&null!=this.partition[s].downlink&&null!=this.partition[s].downlink[e.layer.toString()]&&(i=this.partition[s].downlink[e.layer.toString()].start,o=this.partition[s].downlink[e.layer.toString()].end),2==t&&("uplink"==e.type?o+=30:i-=30);for(var n=[],r=0;r<o-i;++r)n.push(0);if(0==t||2==t)if("uplink"==e.type)for(r=0;r<o-i;r++)n[r]=o-1-r;else for(r=0;r<o-i;++r)n[r]=i+r;else if(1==t)if("uplink"==e.type)for(r=0;r<o-i;r++)n[r]=o-1-r;else for(r=0;r<o-i;++r)n[r]=i+r;for(r=0;r<o-i;++r){var l=n[r];if(0==t||2==t)if("beacon"==e.type)a.push({slot_offset:l,channel_offset:this.channels[0]});else for(var d in this.channelRows[s]){var c=this.channelRows[s][d];a.push({slot_offset:l,channel_offset:c})}else if(1==t)for(var h=1;h<this.channels.length-1;h++){c=this.channels[h];a.push({slot_offset:l,channel_offset:c})}}return a},this.calc_needed_slots=function(t,e,s){var a=this.inpartition_slots(2,{type:e,layer:s},t),i=JSON.parse(JSON.stringify(this.schedule)),o=JSON.parse(JSON.stringify(this.used_subslot));this.assign_slot_sim=function(t){for(var o={},n=0;n<a.length;++n){var r=a[n],l=0;if(null!=i[r.slot_offset][r.channel_offset][0])i[r.slot_offset][r.channel_offset][0].type!=e&&i[r.slot_offset][r.channel_offset][0].layer!=s&&(l=r);else{var d=[t.sender,t.receiver];l=r}if(l){var c=0;c="uplink"==t.type?t.receiver:t.sender;var h=this.find_cell(c,t.type,t.layer-1);if("uplink"==t.sendertype){if(r.slot_offset>h)continue}else if(r.slot_offset<h&&Math.abs(r.slot_offset-h)<60)continue;var u=0;for(var f in this.channels){var p=this.channels[f];null!=i[l.slot_offset][p][0]?-1==d.indexOf(i[l.slot_offset][p][0].sender)&&-1==d.indexOf(i[l.slot_offset][p][0].receiver)&&u++:u++}if(u==this.channels.length){i[l.slot_offset][l.channel_offset][0]={type:t.type,layer:t.layer,row:t.row,sender:t.sender,receiver:t.receiver,is_optimal:1},o={slot:[l.slot_offset,l.channel_offset],cell:t,is_optimal:1};break}}}return o};for(var n=0;n<this.used_subslot.length;n++)if(!this.used_subslot[n].is_optimal&&this.used_subslot[n].cell.type==e&&this.used_subslot[n].cell.row==t&&this.used_subslot[n].cell.layer==s){var r=this.assign_slot_sim(this.used_subslot[n].cell);null!=r&&o.push(r)}for(var l=0,d=[this.partition[t][e][s].start,this.partition[t][e][s].end],c=d[0],h=d[1],u=0;u<o.length;u++)o[u].is_optimal&&o[u].cell.type==e&&o[u].cell.row==t&&o[u].cell.layer==s&&(h>=o[u].slot[0]&&(h=o[u].slot[0]),c<=o[u].slot[0]&&(c=o[u].slot[0]));return l=0==t?d[0]-h:c+1-d[1],l},this.adjust_partition_offset=function(t,e,s,a){if("broadcast"!=e&&0!=a){for(var o in this.channelRows[t]){var n=this.channelRows[t][o];if(a>0)for(var r=this.partition[t][e][s].end;r>=this.partition[t][e][s].start;r--)for(var l=0;l<i;++l)null!=this.schedule[r][n][l]&&(this.schedule[r+a][n][l]=this.schedule[r][n][l],this.schedule[r][n][l]=null);else for(r=this.partition[t][e][s].start;r<this.partition[t][e][s].end;r++)for(l=0;l<i;++l)null!=this.schedule[r][n][l]&&(this.schedule[r+a][n][l]=this.schedule[r][n][l],this.schedule[r][n][l]=null)}for(var d=0,c=0;c<this.used_subslot.length;c++)this.used_subslot[c].cell.type==e&&this.used_subslot[c].cell.row==t&&this.used_subslot[c].cell.layer==s&&this.used_subslot[c].is_optimal&&(this.used_subslot[c].slot[0]+=a,d++);return"uplink"==e?(this.partition[t][e][s-1].start+=a,this.partition[t][e][s].end+=a):(this.partition[t][e][s].end+=a,this.partition[t][e][s].start+=a),d}},this.adjust_partition_size=function(t,e,s,a,i){"broadcast"!=e&&("left"==a&&(this.partition[t][e][s].start-=i),"right"==a&&(this.partition[t][e][s].end+=i),1==s&&("uplink"==e&&"right"==a&&(this.partition[t]["uplink"][0].start=this.partition[t]["uplink"][1].end),"downlink"==e&&"left"==a&&(this.partition[t]["downlink"][0].end=this.partition[t]["downlink"][1].start)))},this.get_gap=function(t,e,s){return 2},this.adjustment_summary={0:{},1:{}},this.adjust=function(t,e,s){if(0!=s){sides=["right","left"];var a="uplink"==e?0:1,i="uplink"==e?1:-1,o=this.get_gap(t,e,s),n=this.calc_needed_slots(t,e,s)+o;if(n>0)for(var r=1;r<s+(1-a);r++){var l=this.adjust_partition_offset(t,e,r,n*i),d=e[0]+r;null==this.adjustment_summary[t][d]&&(this.adjustment_summary[t][d]={affected_cells:l,offset:0}),this.adjustment_summary[t][d].offset+=n*i}else for(r=s-a;r>0;r--){l=this.adjust_partition_offset(t,e,r,n*i),d=e[0]+r;null==this.adjustment_summary[t][d]&&(this.adjustment_summary[t][d]={affected_cells:l,offset:0}),this.adjustment_summary[t][d].offset+=n*i}"downlink"==e&&this.adjust_partition_size(t,e,s,sides[a],n),this.adjust(t,e,s-1)}},this.find_cell=function(t,e){for(var s=0;s<this.used_subslot.length;s++)if("uplink"==e){if(this.used_subslot[s].cell.sender==t&&this.used_subslot[s].cell.type==e)return this.used_subslot[s]}else if("downlink"==e&&this.used_subslot[s].cell.receiver==t&&this.used_subslot[s].cell.type==e)return this.used_subslot[s];console.log("cannot find this cell",t,e)},this.get_subtree_size=function(t){if(null==this.topology[t])return 0;for(var e=this.topology[t].length,s=0;s<this.topology[t].length;s++)e+=this.get_subtree_size(this.topology[t][s]);return e},this.get_conflict_slots=function(){for(var t={},e=this.partition.broadcast.end;e<69;e++){for(var s={},a=[],i=1;i<17;i++)null!=this.schedule[e][i][0]&&(null==s[this.schedule[e][i][0].sender]?s[this.schedule[e][i][0].sender]=i:a.push(s[this.schedule[e][i][0].sender],i),null==s[this.schedule[e][i][0].receiver]?s[this.schedule[e][i][0].receiver]=i:a.push(s[this.schedule[e][i][0].receiver],i));a.length>0&&(t[e]=Array.from(new Set(a)))}return t},this.get_idle_slots=function(t,e,s){for(var a=this.partition[t][e][s].start;a<this.partition[t][e][s].end;a++)for(var i in this.channelRows[t]){var o=this.channelRows[t][i];if(null!=this.schedule[a][o][0])return a-this.partition[t][e][s].start}return this.partition[t][e][s].end-this.partition[t][e][s].start},this.get_idles_all=function(){for(var t=[],e=1;e<Object.keys(this.partition[0]["uplink"]).length;e++)t[e]=this.get_idle_slots(e);return t},this.inter_partition_adjustment=function(t,e){},this.get_needed_slots=function(t,e){JSON.parse(JSON.stringify(this.schedule)),JSON.parse(JSON.stringify(this.used_subslot));for(var s=0;s<this.used_subslot.length;s++)!this.used_subslot[s].is_optimal&&this.used_subslot[s].cell.type==t&&this.used_subslot[s].cell.layer},this.intra_partition_adjustment=function(t,e){console.log("adjusting "+t+" layer "+e+"...");var s=0;return s+=this.minimize_used_slots(t,e),s+=this.adjust_subtree_distribution(t,e),s},this.get_subtree_size_list=function(t,e){for(var s=[],a=0;a<this.used_subslot.length;a++)this.used_subslot[a].cell.layer==e&&this.used_subslot[a].cell.type==t&&s.push({slot:this.used_subslot[a].slot[0],sender:this.used_subslot[a].cell.sender,size:this.get_subtree_size(this.used_subslot[a].cell.sender),row:this.used_subslot[a].cell.row,receiver:this.used_subslot[a].cell.receiver,ch:this.used_subslot[a].slot[1]});return s.sort((function(t,e){return t.slot>e.slot?1:-1})),s},this.adjust_subtree_distribution=function(t,e){this.total_edits=0;var s=this.get_subtree_size_list(t,e);if(0==e){for(var a=this.partition[1][t][e].end,i=0,o=0;o<s.length;o++)if(s[o].slot==a){i=o;break}var n=JSON.parse(JSON.stringify(s));n.sort((function(t,e){return t.size>e.size?1:-1}));for(var r=n[i].size,l=0;l<i;l++)if(s[l].size>r)for(m=i;m<s.length;m++)if(s[m].size<=r){var d=JSON.parse(JSON.stringify(s[m])),c=JSON.parse(JSON.stringify(s[l]));s[m].sender=c.sender,s[m].receiver=c.receiver,s[m].size=c.size,s[l].sender=d.sender,s[l].receiver=d.receiver,s[l].size=d.size;break}for(var h=0;h<i;h++){for(var u=JSON.parse(JSON.stringify(s[h])),f=h,p=h+1;p<i.length;p++)s[p].size<u.size&&f++;if(f!=h){while(u.size==s[f].size)f++;d=JSON.parse(JSON.stringify(s[f]));s[f].sender=u.sender,s[f].receiver=u.receiver,s[f].size=u.size,u=d;while(f!=h){f=h;for(p=h+1;p<s.length;p++)s[p].size<u.size&&f++;while(u.size==s[f].size)f++;d=JSON.parse(JSON.stringify(s[f]));s[f].sender=u.sender,s[f].receiver=u.receiver,s[f].size=u.size,u=d}}}this.sequence=[],this.new_schedule=[];for(var v=0;v<s.length;v++)this.sequence.push(this.find_cell(s[v].sender,"uplink")),this.new_schedule.push({slot:{slot_offset:s[v].slot,channel_offset:s[v].ch},row:s[v].row});for(var _=0;_<this.sequence.length;_++)this.sequence[_].adjusted=!1,this.sequence[_].slot[0]==this.new_schedule[_].slot.slot_offset&&(this.sequence[_].adjusted=!0);this.tmpCellIndex=-1,this.rmTmpCellFlag=0;for(var m=0;m<this.sequence.length;m++)this.adjust_schedule(m,[m]),-1!=this.tmpCellIndex&&(this.rmTmpCellFlag=1,this.adjust_schedule(this.tmpCellIndex,[]))}else if(e>0){s.sort((function(t,e){return t.size<e.size?1:-1}));for(p=0;p<s.length;p++)if(s[p].row>0&&s[p].size>0){var y=this.find_cell(s[p].sender,"uplink"),g=this.find_empty_subslot([y.cell.sender,y.cell.receiver],1,{type:y.cell.type,layer:y.cell.layer});if(0==g.row&&g.is_optimal)s[p].slot=g.slot.slot_offset,s[p].ch=g.slot.channel_offset,s[p].row=g.row,this.add_subslot(g.slot,g.subslot,{type:y.cell.type,layer:y.cell.layer,row:g.row,sender:y.cell.sender,receiver:y.cell.receiver},g.is_optimal),this.remove_slot({slot_offset:y.slot[0],channel_offset:y.slot[1]}),this.total_edits++;else{var b=[],w=[],x=[];for(l=0;l<s.length;l++)0==s[l].row&&(s[l].size<s[p].size&&b.push(s[l]),s[l].receiver==s[p].receiver&&(w.push(s[l]),x.push(s[l].slot)));b.sort((function(t,e){return t.size>e.size?1:-1})),w.sort((function(t,e){return t.size>e.size?1:-1}));var k=100;w.length>0&&(k=w[0].size);var S=0;for(m=0;m<b.length;m++)if(b[m].size<k&&-1==x.indexOf(b[m].slot)){var $=this.find_cell(s[p].sender,"uplink"),z=this.find_cell(b[m].sender,"uplink");this.remove_slot({slot_offset:$.slot[0],channel_offset:$.slot[1]}),this.remove_slot({slot_offset:z.slot[0],channel_offset:z.slot[1]}),this.add_subslot({slot_offset:z.slot[0],channel_offset:z.slot[1]},{offset:0,period:1},{type:$.cell.type,layer:$.cell.layer,row:z.cell.row,sender:$.cell.sender,receiver:$.cell.receiver},1);g=this.find_empty_subslot([z.cell.sender,z.cell.receiver],1,{type:z.cell.type,layer:z.cell.layer});this.add_subslot(g.slot,g.subslot,{type:z.cell.type,layer:z.cell.layer,row:g.row,sender:z.cell.sender,receiver:z.cell.receiver},g.is_optimal),s[p].slot=z.slot[0],s[p].ch=z.slot[1],s[p].row=z.cell.row,b[m].slot=g.slot.slot_offset,b[m].ch=g.slot.channel_offset,b[m].row=g.row,S=1,g.slot.slot_offset==$.slot[0]&&g.slot.channel_offset==$.slot[1]?this.total_edits+=3:this.total_edits+=2;break}if(!S&&k<s[p].size){$=this.find_cell(s[p].sender,"uplink"),z=this.find_cell(w[0].sender,"uplink");this.remove_slot({slot_offset:$.slot[0],channel_offset:$.slot[1]}),this.remove_slot({slot_offset:z.slot[0],channel_offset:z.slot[1]}),this.add_subslot({slot_offset:z.slot[0],channel_offset:z.slot[1]},{offset:0,period:1},{type:$.cell.type,layer:$.cell.layer,row:z.cell.row,sender:$.cell.sender,receiver:$.cell.receiver},1);g=this.find_empty_subslot([z.cell.sender,z.cell.receiver],1,{type:z.cell.type,layer:z.cell.layer});this.add_subslot(g.slot,g.subslot,{type:z.cell.type,layer:z.cell.layer,row:g.row,sender:z.cell.sender,receiver:z.cell.receiver},g.is_optimal),s[p].slot=z.slot[0],s[p].ch=z.slot[1],s[p].row=z.cell.row,w[0].slot=g.slot.slot_offset,w[0].ch=g.slot.channel_offset,w[0].row=g.row,g.slot.slot_offset==$.slot[0]&&g.slot.channel_offset==$.slot[1]?this.total_edits+=3:this.total_edits+=2}}}}return console.log("    adjust subtree distribution: "+this.total_edits+" edits"),this.total_edits},this.adjust_subtree_distribution_v0=function(t,e){var s=JSON.parse(JSON.stringify(this.schedule)),a=JSON.parse(JSON.stringify(this.used_subslot)),o=this.get_subtree_size_list(t,e);o.sort((function(t,e){return t.size<e.size?1:-1})),this.sequence=[];for(var n=0;n<o.length;n++){var r=this.find_cell(o[n].sender,"uplink");this.sequence.push(r),this.schedule[o[n].slot][o[n].ch]=new Array(i),this.remove_usedsubslot(r.cell.sender,r.cell.receiver,r.cell.type)}this.new_schedule=[];for(var l=0;l<this.sequence.length;l++){r=this.sequence[l];var d=this.find_empty_subslot([r.cell.sender,r.cell.receiver],1,{type:r.cell.type,layer:r.cell.layer});this.new_schedule.push(d),this.add_subslot(d.slot,d.subslot,{row:d.row,type:"uplink",layer:r.cell.layer,sender:r.cell.sender,receiver:r.cell.receiver},d.is_optimal)}this.schedule=JSON.parse(JSON.stringify(s)),this.used_subslot=JSON.parse(JSON.stringify(a));for(var c=0;c<this.sequence.length;c++)this.sequence[c].adjusted=!1,this.sequence[c].slot[0]==this.new_schedule[c].slot.slot_offset&&(this.sequence[c].adjusted=!0);this.total_edits=0,this.tmpCellIndex=-1,this.rmTmpCellFlag=0;for(var h=0;h<this.sequence.length;h++)this.adjust_schedule(h,[h]),-1!=this.tmpCellIndex&&(this.rmTmpCellFlag=1,this.adjust_schedule(this.tmpCellIndex,[]));return console.log("adjust subtree distribution of "+t+" layer "+e+": "+this.total_edits+" edits"),this.total_edits},this.adjust_schedule=function(t,e){var s=this.sequence[t],a=this.new_schedule[t];if(!s.adjusted){for(var i=[],o=-1,n=[],r=0;r<this.channelRows[a.row].length;r++){var l=this.channelRows[a.row][r];if(null==this.schedule[a.slot.slot_offset][l][0])i.push(l);else{for(var d=0,c=0;c<this.sequence.length;c++)this.sequence[c].cell.sender==this.schedule[a.slot.slot_offset][l][0].sender&&(d=c);this.schedule[a.slot.slot_offset][l][0].receiver==s.cell.receiver?o=d:this.sequence[d].adjusted||n.push(d)}}var h=0;a.slot.slot_offset;-1!=o?-1!=e.indexOf(o)?(this.add_subslot({slot_offset:10,channel_offset:10},{offset:0,period:1},this.sequence[t].cell,0),this.tmpCellIndex=t,10,h=1):(e.push(o),this.adjust_schedule(o,e),this.add_subslot({slot_offset:a.slot.slot_offset,channel_offset:this.sequence[o].slot[1]},{offset:0,period:1},{row:a.row,type:s.cell.type,layer:s.cell.layer,sender:s.cell.sender,receiver:s.cell.receiver},1)):i.length>0?this.add_subslot({slot_offset:a.slot.slot_offset,channel_offset:i[0]},{offset:0,period:1},{row:a.row,type:s.cell.type,layer:s.cell.layer,sender:s.cell.sender,receiver:s.cell.receiver},1):n.length>0&&(e.push(n[0]),this.adjust_schedule(n[0],e),this.add_subslot({slot_offset:a.slot.slot_offset,channel_offset:this.sequence[n[0]].slot[1]},{offset:0,period:1},{row:a.row,type:s.cell.type,layer:s.cell.layer,sender:s.cell.sender,receiver:s.cell.receiver},1)),-1!=this.tmpCellIndex&&this.rmTmpCellFlag?(this.remove_slot({slot_offset:10,channel_offset:10}),this.tmpCellIndex=-1,this.rmTmpCellFlag=0):this.remove_slot({slot_offset:s.slot[0],channel_offset:s.slot[1]}),this.total_edits++,h||(s.adjusted=!0)}},this.adjust_gap=function(t){for(var e=this.find_cell(t,"uplink"),s=[],a=Object.keys(this.partition[0].uplink).length-1;a>e.cell.layer;a--){var i=this.get_idle_slots(2,"uplink",a);i>0&&(s.push(a),i)}},this.minimize_used_slots=function(t,e){var s=0;if(0==e)return s;for(var a=[],i={},o=0,n=0;n<this.used_subslot.length;n++)if(this.used_subslot[n].cell.type==t&&this.used_subslot[n].cell.layer==e){o++;var r=this.used_subslot[n],l="uplink"==t?r.cell.receiver:r.cell.sender;null==i[l]?i[l]=[r]:i[l].push(r)}if(0==o)return s;for(var n in i)a.push(i[n]);a.sort((function(t,e){return t.length<e.length?1:-1}));var d=a[0].length,c=Math.ceil(o/6),h=Math.max(d,c),u=this.count_used_slots(t,e);if(console.log("minimum needed slots is "+h+", using "+u+" now"),h<u)return console.log("perform used slots minimization"),s;var f=[];if(h<this.partition[0][t][e].end-this.partition[0][t][e].start)for(var p=0;p<h;p++)f.push(this.partition[0][t][e].end-1-p)},this.shuffle_slots=function(){for(var t=[],e=0;e<this.slotFrameLength;++e)for(var s in this.channels){var a=this.channels[s];t.push({slot_offset:e,channel_offset:a})}for(var o=t.length-1;o>0;o--){var n=Math.floor(Math.random()*(o+1)),r=t[o];t[o]=t[n],t[n]=r}var l=this.schedule;return t.sort((function(t,e){for(var s=0,a=0,o=l[t.slot_offset][t.channel_offset],n=l[e.slot_offset][e.channel_offset],r=0;r<i;++r)null==o[r]&&++s,null==n[r]&&++a;return s-a})),t},this.count_used_slotss=function(){for(var t=0,e=0;e<127;e++){for(var s=0,a=1;a<17;a++)if(null!=this.schedule[e][a][0]){s=1;break}1==s&&t++}return t},this.count_multi_ch_slots=function(){for(var t=0,e=0;e<127;e++){for(var s=0,a=1;a<8;a++)null!=this.schedule[e][a][0]&&s++;s>1&&t++}return t},this.LDSF=function(t,e){var s,a="uplink"==e.type?t[1]:a=t[0],i=[],o=5,n=120/o,r=[];if(0==a)if(s=block_numz,s%2!=0&&(s-=1),"uplink"==e.type){for(var l=s;l>=0;l-=2)r.push(l);for(l=n;l>s;l-=2)r.push(l)}else{for(l=s;l<=n;l+=2)r.push(l);for(l=0;l<s;l+=2)r.push(l)}else{var d=this.find_cell(a,e.type);if(null!=d){var c=Math.floor(d.slot[0]/o);if("uplink"==e.type){s=0==c?n:c-1;for(l=s;l>=0;l-=2)r.push(l);for(l=n;l>s;l-=2)r.push(l)}else{s=c==n?0:c+1;for(l=s;l<=n;l+=2)r.push(l);for(l=0;l<s;l+=2)r.push(l)}}}for(var h=0;h<r.length;h++)for(var u=r[h]*o;u<(r[h]+1)*o;u++)for(var f=1;f<17;f++)i.push({slot_offset:u,channel_offset:f});return i},this.LLSF=function(t,e){var s=[],a=[];if(0==t)return this.shuffle_slots();var i=this.find_cell(t,e);if("uplink"==e){for(var o=i.slot[0]-1;o>=10;o--)a.push(o);for(var n=126;n>i.slot[0];n--)a.push(n)}else{for(o=i.slot[0]+1;o<127;o++)a.push(o);for(n=10;n<i.slot[0];n++)a.push(n)}for(var r=0;r<a.length;r++)for(var l=a[r],d=1;d<17;d++)s.push({slot_offset:l,channel_offset:d});return s},this.count_used_slots=function(t,e){for(var s={},a=0;a<this.used_subslot.length;a++)if(this.used_subslot[a].is_optimal&&this.used_subslot[a].cell.type==t&&this.used_subslot[a].cell.layer==e){var i=this.used_subslot[a];null==s[i.slot[0]]?s[i.slot[0]]=[i]:s[i.slot[0]].push(i)}return Object.keys(s).length},this.adjust_unaligned_cells=function(){for(var t=JSON.parse(JSON.stringify(this.used_subslot)),e=0;e<t.length;e++)if(!t[e].is_optimal){var s=t[e],a=this.find_empty_subslot([s.cell.sender,s.cell.receiver],1,{type:s.cell.type,layer:s.cell.layer},s.cell.row);a.is_optimal&&(this.add_subslot(a.slot,a.subslot,{row:s.cell.row,type:s.cell.type,layer:s.cell.layer,sender:s.cell.sender,receiver:s.cell.receiver},a.is_optimal),this.remove_subslot({slot_offset:s.slot[0],channel_offset:s.slot[1]},{offset:s.subslot[0],period:s.subslot[1]}))}},this.dynamic_partition_adjustment=function(){for(var t=Object.keys(this.partition[0]["uplink"]).length-1,e=0;e<1;e++)this.adjust(e,"uplink",t);console.log("Partitions offset adjustment summary:",this.adjustment_summary);for(var s=JSON.parse(JSON.stringify(this.used_subslot)),a=0;a<s.length;a++)if(!s[a].is_optimal){var i=s[a];this.remove_subslot({slot_offset:i.slot[0],channel_offset:i.slot[1]},{offset:i.subslot[0],period:i.subslot[1]});var o=this.find_empty_subslot([i.cell.sender,i.cell.receiver],1,{type:i.cell.type,layer:i.cell.layer},i.cell.row);this.add_subslot(o.slot,o.subslot,{row:i.cell.row,type:i.cell.type,layer:i.cell.layer,sender:i.cell.sender,receiver:i.cell.receiver},o.is_optimal)}},this.find_empty_subslot=function(t,e,s){var a,i=1,n="uplink"==s.type?t[1]:n=t[0];rows=[];for(var r=0;r<o;r++)rows.push(r);if("random"!=this.algorithm)if("LLSF"!=this.algorithm){if("LDSF"!=this.algorithm){for(var l=0;l<o;l++){r=rows[l],a=this.inpartition_slots(0,s,r);for(c=0;c<a.length;++c)for(h=a[c],u=0;u<e;++u)if(this.available_subslot(t,h,{period:e,offset:u},s,i))return{slot:h,subslot:{offset:u,period:e},row:r,is_optimal:1}}this.nonOptimalCount++,a=this.inpartition_slots(1,{type:s.type,layer:0},0);for(c=0;c<a.length;++c)for(h=a[c],u=0;u<e;++u)if(this.available_subslot(t,h,{period:e,offset:u},s,0)){var d={slot:h,subslot:{offset:u,period:e},row:0,is_optimal:0};return d}console.log(t,s,"No empty slot found"),a=this.shuffle_slots();for(c=0;c<a.length;++c)for(h=a[c],u=0;u<e;++u)if(this.available_subslot(t,h,{period:e,offset:u},s,0))return{slot:h,subslot:{offset:u,period:e},row:0,is_optimal:0};return this.isFull=!0,{slot:{slot_offset:5,channel_offset:10},row:0,subslot:{offset:0,period:16},is_optimal:0}}a=this.LDSF(t,s);for(var c=0;c<a.length;++c)for(var h=a[c],u=0;u<e;++u)if(this.available_subslot(t,h,{period:e,offset:u},s,0))return{slot:h,subslot:{offset:u,period:e},row:0,is_optimal:1};console.log(t,s,"not found")}else{a="beacon"==s.type?this.inpartition_slots(0,s,0):this.LLSF(n,s.type);for(var c=0;c<a.length;++c)for(var h=a[c],u=0;u<e;++u)if(this.available_subslot(t,h,{period:e,offset:u},s,0))return{slot:h,subslot:{offset:u,period:e},row:0,is_optimal:1}}else{a="beacon"==s.type?this.inpartition_slots(0,s,0):this.shuffle_slots();for(var c=0;c<a.length;++c)for(var h=a[c],u=0;u<e;++u)if(this.available_subslot(t,h,{period:e,offset:u},s,0))return{slot:h,subslot:{offset:u,period:e},row:0,is_optimal:1}}},this.remove_node=function(t){for(var e=0;e<this.slotFrameLength;++e)for(var s in this.channels)for(var a=this.channels[s],o=0;o<i;++o)null!=this.schedule[e][a][o]&&(this.schedule[e][a][o].sender!=t&&this.schedule[e][a][o].receiver!=t||(this.schedule[e][a][o]=null));for(var n=0;n<this.used_subslot.length;n++)this.used_subslot[n].cell.sender!=t&&this.used_subslot[n].cell.receiver!=t||(this.used_subslot.splice(n,1),n--)},this.periodOffsetToSubslot=function(t,e){return t*(i/e%i)}}t.exports={create_scheduler:d,SUBSLOTS:i}},"2fdf":function(t,e,s){var a=s("24fb");e=a(!1),e.push([t.i,".bts[data-v-46c786ef]{float:right}.bts .vs-button[data-v-46c786ef]{margin-left:10px;font-size:.7rem;font-weight:600}.links[data-v-46c786ef]{text-align:left}.links #name[data-v-46c786ef]{font-size:1rem}.links #number[data-v-46c786ef]{font-size:1.2rem}#sch-table[data-v-46c786ef]{width:100%;height:255px}",""]),t.exports=e},"31ff":function(t,e,s){var a=s("2fdf");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=s("499e").default;i("711764e2",a,!0,{sourceMap:!1,shadowMode:!1})},3458:function(t,e,s){"use strict";var a=s("e8ec"),i=s.n(a);i.a},"3c84":function(t,e,s){var a=s("24fb");e=a(!1),e.push([t.i,"#ntitle{text-align:right;font-weight:500;font-size:1.35rem;margin-left:90px;margin-bottom:20px}#ntitle #subtitle{font-size:1.2rem}#nbar{height:105px;z-index:1;position:absolute;margin-top:-80px;color:#fff}#nbar li{margin-right:30px;margin-bottom:20px}#nbar a{font-size:1rem}",""]),t.exports=e},"3cb8":function(t,e,s){var a=s("24fb");e=a(!1),e.push([t.i,"#map{font-size:1rem}#fBt{border-radius:6px 0 0 6px}#lBt{border-radius:0 6px 6px 0}#gmap{margin-top:8px;width:100%;height:648px}.gm-style-iw+button{display:none}",""]),t.exports=e},"3ebb":function(t,e,s){var a=s("e31a");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=s("499e").default;i("517436b3",a,!0,{sourceMap:!1,shadowMode:!1})},"42dd":function(t,e,s){"use strict";var a=s("8082"),i=s.n(a);i.a},"4f78":function(t,e,s){var a=s("b93f");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=s("499e").default;i("156fb244",a,!0,{sourceMap:!1,shadowMode:!1})},"56d7":function(t,e,s){"use strict";s.r(e);s("e260"),s("e6cf"),s("cca6"),s("a79d");var a=s("2b0e"),i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("div",{attrs:{id:"content-wrap"}},[s("Navbar"),s("Sidebar"),s("keep-alive",[s("router-view")],1)],1),s("Footer")],1)},o=[],n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("vs-navbar",{staticClass:"nabarx",attrs:{id:"nbar",color:"linear-gradient(to right, #0A1E38 , #2A5788)"}},[s("div",{attrs:{slot:"title"},slot:"title"},[s("vs-navbar-title",{attrs:{id:"ntitle"}},[s("div",[t._v("6TiSCH")]),s("div",{attrs:{id:"subtitle"}},[t._v("@UConn")])])],1),s("vs-navbar-item",[s("Events",{staticStyle:{cursor:"pointer"}})],1)],1)],1)},r=[],l=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("vs-dropdown",{attrs:{id:"events","vs-custom-content":"","vs-trigger-click":""}},[s("a",{attrs:{"href.prevent":""}},[t._v("Events")]),s("vs-dropdown-menu",[s("div",[s("ECharts",{attrs:{autoresize:"",options:t.option}})],1),s("vs-table",{attrs:{id:"t","max-items":"13",stripe:"",pagination:"",data:t.events},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.data;return t._l(a,(function(e,i){return s("vs-tr",{key:i},[s("vs-td",[t._v(" "+t._s(a[i].datetime)+" ")]),s("vs-td",[t._v(" "+t._s(a[i].event)+" ")])],1)}))}}])},[s("template",{slot:"thead"},[s("vs-th",[t._v(" Date ")]),s("vs-th",[t._v(" Event ")])],1)],2)],1)],1)},d=[],c=(s("99af"),s("fb6a"),s("ac1f"),s("5319"),s("bf19"),s("9ca8")),h=(s("ef97"),s("007d"),s("0a6d"),{components:{ECharts:c["a"]},data:function(){return{events:[],option:{tooltip:{trigger:"axis"},dataZoom:[{type:"inside",start:0,end:100}],xAxis:{type:"category",data:[]},yAxis:{show:!1,type:"value",scale:!0},series:[{name:"Events count",data:[],smooth:!0,type:"line"}]}}},methods:{getTopoHistory:function(){var t=this;this.$api.gateway.getTopoHistory().then((function(e){if(1==e.data.flag){for(var s=[],a=Date.now(),i={},o=0;o<e.data.data.length;o++){var n=new Date(e.data.data[o].first_appear),r=new Date(n.getTime()-6e4*n.getTimezoneOffset());s.push({timestamp:e.data.data[o].first_appear,datetime:r.toJSON().substr(5,14).replace("T"," "),event:"Node ".concat(e.data.data[o].sensor_id," connected to Node ").concat(e.data.data[o].parent)}),i[e.data.data[o].sensor_id]=e.data.data[o].last_seen}for(var l in i)if(a-i[l]>6e5){var d=new Date(i[l]),c=new Date(d.getTime()-6e4*d.getTimezoneOffset());s.push({timestamp:i[l],datetime:c.toJSON().substr(5,14).replace("T"," "),event:"Node ".concat(l," lost")})}t.events=s.sort((function(t,e){return e.timestamp-t.timestamp}));for(var h=t.events[t.events.length-1].datetime,u=new Date(2020,parseInt(h.slice(0,2))-1,h.slice(3,5),h.slice(6,8)).getTime(),f={},p=u;p<a;p+=36e5){var v=new Date(p),_=new Date(v.getTime()-6e4*v.getTimezoneOffset());f[_.toJSON().substr(5,8).replace("T"," ")]=0}for(var m=0;m<t.events.length;m++)t.events[m].datetime.substr(0,8)in f&&(f[t.events[m].datetime.substr(0,8)]+=1);for(var y in f)t.option.xAxis.data.push(y),t.option.series[0].data.push(f[y])}}))}},mounted:function(){this.getTopoHistory()}}),u=h,f=(s("d259"),s("2877")),p=Object(f["a"])(u,l,d,!1,null,null,null),v=p.exports,_={components:{Events:v}},m=_,y=(s("d52d"),Object(f["a"])(m,n,r,!1,null,null,null)),g=y.exports,b=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"parentx"},[s("vs-sidebar",{staticClass:"sidebarx",attrs:{reduce:t.reduce,"reduce-not-rebound":t.reduceNotRebound,"reduce-not-hover-expand":t.notExpand,"hidden-background":t.hiddenBG,parent:"body","default-index":t.cur_index,color:"danger",spacer:""},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[s("div",{staticClass:"header-sidebar",attrs:{slot:"header"},slot:"header"},[s("vs-avatar",{attrs:{size:"small",src:"https://upload.wikimedia.org/wikipedia/en/thumb/5/56/University_of_Connecticut_seal.svg/1200px-University_of_Connecticut_seal.svg.png"}})],1),s("vs-sidebar-group",{attrs:{open:"",title:"Application",align:"left"}},[s("vs-sidebar-item",{attrs:{to:"/dashboard",index:"1",icon:"dashboard"}},[t._v(" Dashboard ")]),s("vs-sidebar-item",{attrs:{to:"/scheduler",index:"2",icon:"schedule"}},[t._v(" Scheduler ")]),s("vs-sidebar-item",{attrs:{to:"/analysis",index:"3",icon:"bar_chart"}},[t._v(" Analysis ")])],1),s("vs-divider",{attrs:{icon:"person",position:"left"}},[t._v(" User ")]),s("vs-sidebar-item",{attrs:{index:"5",icon:"account_box"}},[t._v(" Profile ")])],1)],1)},w=[],x=(s("c975"),{data:function(){return{cur_index:1,active:!0,paths:["/dashboard","/scheduler","/analysis"],notExpand:!1,hiddenBG:!0,reduce:!0,reduceNotRebound:!0}},methods:{biu:function(){this.cur_index=this.paths.indexOf(this.$route.path)+1}},created:function(){this.biu()}}),k=x,S=(s("61e4"),Object(f["a"])(k,b,w,!1,null,"5ddbea69",null)),$=S.exports,z=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"footer"},[s("vs-card",{attrs:{id:"card"}},[s("vs-row",{attrs:{"vs-align":"center","vs-type":"flex"}},[s("vs-col",{staticClass:"c",attrs:{"vs-offset":"9","vs-w":"4","vs-align":"center"}},[s("h3",[s("a",{attrs:{href:"https://cps.cse.uconn.edu/"}},[t._v("â’¸ Cyber-Physical Systems Laboratory, UConn")])])])],1)],1)],1)},T=[],E={},C=E,R=(s("3458"),Object(f["a"])(C,z,T,!1,null,"3e4ee0f8",null)),O=R.exports,L={name:"app",components:{Navbar:g,Sidebar:$,Footer:O}},B=L,P=(s("034f"),Object(f["a"])(B,i,o,!1,null,null,null)),N=P.exports,A=s("fb9a"),j=s.n(A),M=s("8c4f"),I=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("vs-row",[s("vs-col",{attrs:{"vs-offset":"0.8","vs-w":"5"}},[s("DeviceCnt")],1),s("vs-col",{attrs:{"vs-offset":"0.3","vs-w":"2.6125"}},[s("Uptime")],1),s("vs-col",{attrs:{"vs-offset":"0.25","vs-w":"2.6125"}},[s("TxTotal")],1)],1),s("vs-row",{attrs:{"vs-align":"flex-start","vs-w":"12"}},[s("vs-col",{attrs:{"vs-offset":"0.8","vs-w":"5"}},[s("NWTable"),s("RSSiChart")],1),s("vs-col",{attrs:{"vs-offset":"0.3","vs-w":"5.5"}},[s("Topo")],1)],1),s("vs-row",{attrs:{"vs-align":"flex-start","vs-w":"12"}},[s("vs-col",{attrs:{"vs-offset":"0.8","vs-w":"10.8"}},[s("SchTable")],1)],1)],1)},W=[],G=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("vs-row",{attrs:{"vs-align":"flex-start"}},[s("vs-col",{staticStyle:{"z-index":"99"},attrs:{"vs-w":"5.7"}},[s("vs-card",[s("vs-row",{attrs:{"vs-align":"center"}},[s("vs-col",{attrs:{"vs-w":"3"}},[s("vs-icon",{attrs:{size:"55px",icon:"router",color:"#B4A3DB"}})],1),s("vs-col",{staticClass:"cnt",attrs:{"vs-offset":"4.5","vs-w":"4.5"}},[s("h5",[t._v("Gateways")]),s("h3",[t._v(t._s(t.gateways.length))])])],1)],1)],1),s("vs-col",{staticStyle:{"z-index":"99"},attrs:{"vs-offset":"0.6","vs-w":"5.7"}},[s("vs-card",[s("vs-row",{attrs:{"vs-align":"center"}},[s("vs-col",{attrs:{"vs-w":"3"}},[s("vs-icon",{attrs:{size:"55px",icon:"memory",color:"#58B2EC"}})],1),s("vs-col",{staticClass:"cnt",attrs:{"vs-offset":"4.5","vs-w":"4.5"}},[s("h5",[t._v("Sensors")]),s("h3",[t._v(t._s(t.sensorCnt))])])],1)],1)],1)],1)},D=[],J={data:function(){return{gateways:[],sensorCnt:0}},methods:{getGateway:function(){var t=this;this.$api.gateway.getGateway().then((function(e){t.gateways=["UCONN_GW"],t.$EventBus.$emit("gateways",e.data.data)}))},selectCurGW:function(t){this.curGW=t,this.$vs.notify({title:"Gateway Change",text:"Current gateway changed to ".concat(t),color:"primary"})}},mounted:function(){var t=this;this.getGateway(),this.$EventBus.$on("sensorCnt",(function(e){t.sensorCnt=e}))}},F=J,U=(s("95f0"),Object(f["a"])(F,G,D,!1,null,"083ff0da",null)),q=U.exports,H=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("vs-row",[s("vs-col",{staticStyle:{"z-index":"99"},attrs:{"vs-w":"12"}},[s("vs-card",{attrs:{id:"uptime"}},[s("vs-row",{attrs:{id:"r","vs-type":"flex","vs-align":"center"}},[s("vs-col",{attrs:{"vs-w":"2.4"}},[s("vs-icon",{attrs:{size:"55px",icon:"power_settings_new",color:"#B4A3DB"}})],1),s("vs-col",{attrs:{"vs-w":"2.5"}},[s("h3",{staticStyle:{color:"#3B4F63"}},[t._v("Uptime")])]),s("vs-col",{attrs:{"vs-offset":"3","vs-w":"4"}},[s("h3",[t._v(" "+t._s(t.d)+" day"),t.d>1?s("span",[t._v("s")]):t._e(),t._v(" "+t._s(t.h.toString().padStart(2,"0"))+":"+t._s(t.m.toString().padStart(2,"0"))+":"+t._s(t.s.toString().padStart(2,"0")))])])],1)],1)],1)],1)},X=[],V={data:function(){return{s:0,m:0,h:0,d:0}},methods:{computeTime:function(t){var e=this;setInterval((function(){var s=Date.now();e.s=Math.floor((s-t)/1e3%60),e.m=Math.floor((s-t)/6e4%60),e.h=Math.floor((s-t)/36e5%24),e.d=Math.floor((s-t)/864e5)}),1e3)}},mounted:function(){var t=this;this.$EventBus.$on("startTime",(function(e){t.computeTime(e)}))}},Y=V,Z=(s("9941"),Object(f["a"])(Y,H,X,!1,null,"1938c24a",null)),K=Z.exports,Q=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("vs-table",{attrs:{id:"table","max-items":t.maxItems,pagination:"",currentPage:t.currentPage,data:t.sensors},on:{selected:t.selectSensor},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.data;return t._l(a,(function(e,i){return s("vs-tr",{key:i,attrs:{data:e}},[s("vs-td",{attrs:{data:a[i].sensor_id}},[t._v(" "+t._s(a[i].sensor_id)+" ")]),s("vs-td",{attrs:{data:a[i].eui64}},[t._v(" "+t._s(a[i].eui64.substr(18,24).toUpperCase())+" ")]),s("vs-td",{attrs:{data:a[i].hop}},[t._v(" "+t._s(a[i].hop)+" ")]),s("vs-td",{attrs:{data:a[i].avg_mac_tx_total_diff}},[t._v(" "+t._s((a[i].avg_mac_tx_total_diff/120).toFixed(3))+" ")]),s("vs-td",{attrs:{data:a[i].uplink_latency_avg}},[t._v(" "+t._s(a[i].uplink_latency_avg.toFixed(2))+" ")]),s("vs-td",{attrs:{data:a[i].e2e_latency_avg}},[t._v(" "+t._s(a[i].e2e_latency_avg.toFixed(2))+" ")]),s("vs-td",{attrs:{data:a[i].per}},[t._v(" "+t._s(a[i].per.toFixed(3))+" ")])],1)}))}}]),model:{value:t.selectedSensor,callback:function(e){t.selectedSensor=e},expression:"selectedSensor"}},[s("vs-row",{staticStyle:{margin:"6px"},attrs:{slot:"header","vs-align":"center"},slot:"header"},[s("vs-col",{attrs:{"vs-w":"4"}},[s("h4",[t._v("Network Statistics")])]),s("vs-col",{attrs:{"vs-offset":"0.5","vs-w":"3"}},[s("vs-row",{attrs:{"vs-w":"12","vs-justify":"flex-end","vs-align":"center"}},[s("vs-col",{attrs:{"vs-w":"6"}},[s("p",{staticStyle:{"font-size":"0.8rem","text-align":"right"}},[t._v("auto-refresh")])]),s("vs-col",{attrs:{"vs-offset":"0.2","vs-w":"3"}},[s("vs-switch",{staticStyle:{"white-space":"nowrap"},model:{value:t.autorefresh,callback:function(e){t.autorefresh=e},expression:"autorefresh"}})],1)],1)],1),s("vs-col",{attrs:{"vs-offset":"0.3","vs-w":"2"}},[s("vs-select",{attrs:{width:"100%",autocomplete:""},on:{change:t.selectGW},model:{value:t.selectedGW,callback:function(e){t.selectedGW=e},expression:"selectedGW"}},t._l(t.gateways,(function(t,e){return s("vs-select-item",{key:e,attrs:{text:t,value:t}})})),1)],1),s("vs-col",{attrs:{"vs-offset":"0.3","vs-w":"1.6"}},[s("vs-select",{attrs:{width:"100%",autocomplete:""},on:{change:t.selectRange},model:{value:t.selectedRange,callback:function(e){t.selectedRange=e},expression:"selectedRange"}},t._l(t.ranges,(function(t,e){return s("vs-select-item",{key:e,attrs:{value:t,text:t}})})),1)],1)],1),s("template",{slot:"thead"},[s("vs-th",{attrs:{"sort-key":"sensor_id"}},[t._v(" ID ")]),s("vs-th",{attrs:{"sort-key":"eui"}},[t._v(" EUI ")]),s("vs-th",{attrs:{"sort-key":"hop"}},[t._v(" HOP ")]),s("vs-th",{attrs:{"sort-key":"avg_mac_tx_total_diff"}},[t._v(" TX RATE(pps) ")]),s("vs-th",{attrs:{"sort-key":"uplink_latency_avg"}},[t._v(" LATENCY(s) ")]),s("vs-th",{attrs:{"sort-key":"e2e_latency_avg"}},[t._v(" RTT(s) ")]),s("vs-th",{attrs:{"sort-key":"per"}},[t._v(" PER(%) ")])],1)],2)],1)},tt=[],et={data:function(){return{autorefresh:!1,gateways:[],sensors:[],selectedGW:"any",selectedSensor:{},maxItems:8,currentPage:1,selectedRange:"week",ranges:["15min","30min","1hr","4hr","day","week","month"]}},methods:{drawNWTable:function(t,e){var s=this;this.$api.gateway.getNWStat(t,e).then((function(a){if(0!=a.data.flag&&0!=a.data.data.length){for(var i=0;i<a.data.data.length;i++)a.data.data[i].sr=(a.data.data[i].uplink_latency_success+a.data.data[i].e2e_latency_success)/(a.data.data[i].uplink_latency_cnt+a.data.data[i].e2e_latency_cnt),a.data.data[i].mac_per=a.data.data[i].avg_mac_tx_noack_diff/(a.data.data[i].avg_mac_tx_total_diff+1e-6)*100,a.data.data[i].app_per=a.data.data[i].avg_app_per_lost_diff/(a.data.data[i].avg_app_per_sent_diff+1e-6)*100,a.data.data[i].per=a.data.data[i].mac_per+a.data.data[i].app_per;var o=a.data.data.sort((function(t,e){return t.sensor_id-e.sensor_id})),n=[];s.$api.gateway.getTopology(t,e).then((function(t){for(var e=t.data.data,a=0;a<e.length;a++)if(n.push([e[a].sensor_id,e[a].parent]),1!=e[a].sensor_id){var i=1,r=e[a].parent,l=10;while(1!=r&&l>=0){for(var d=0;d<e.length;d++)e[d].sensor_id==r&&(r=e[d].parent,i++);l--}e[a].hop=i}for(var c=0;c<o.length;c++)for(var h=0;h<e.length;h++)o[c].sensor_id==e[h].sensor_id&&(o[c].eui64=e[h].eui64,o[c].hop=e[h].hop,o[c].parent=e[h].parent);for(var u=0;u<o.length;u++)o[u].index=u;s.sensors=o,s.$EventBus.$emit("sensors",s.sensors)}))}else s.sensors=[]}))},selectGW:function(){this.$EventBus.$emit("selectedGW",this.selectedGW)},selectSensor:function(t){this.$EventBus.$emit("selectedSensor",t)},selectRange:function(){this.$EventBus.$emit("selectedRange",this.selectedRange)}},mounted:function(){var t=this;this.drawNWTable(this.selectedGW,this.selectedRange),this.$EventBus.$on("gateways",(function(e){t.gateways=e,t.gateways.unshift("any")})),this.$EventBus.$on("selectedSensor",(function(e){for(var s=0;s<t.sensors.length;s++)t.sensors[s].sensor_id==e.sensor_id&&(t.currentPage=parseInt((t.sensors[s].index+t.maxItems)/t.maxItems),t.selectedSensor=t.sensors[s])})),this.$EventBus.$on("selectedGW",(function(e){t.selectedGW=e,t.drawNWTable(t.selectedGW,t.selectedRange)})),this.$EventBus.$on("selectedRange",(function(e){t.selectedRange=e,t.drawNWTable(t.selectedGW,t.selectedRange)}))},watch:{autorefresh:{handler:function(t){this.$EventBus.$emit("autorefresh",t)}}}},st=et,at=(s("e527"),Object(f["a"])(st,Q,tt,!1,null,"b2a4b412",null)),it=at.exports,ot=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("vs-row",[s("vs-col",{staticStyle:{"z-index":"99"},attrs:{"vs-w":"12"}},[s("vs-card",{attrs:{id:"txtotal"}},[s("vs-row",{attrs:{id:"r","vs-type":"flex","vs-align":"center"}},[s("vs-col",{attrs:{"vs-w":"2.4"}},[s("vs-icon",{attrs:{size:"55px",icon:"import_export",color:"#B4A3DB"}})],1),s("vs-col",{attrs:{"vs-w":"3.5"}},[s("h3",{staticStyle:{color:"#3B4F63"}},[t._v("Tx Total")])]),s("vs-col",{attrs:{"vs-offset":"3","vs-w":"3"}},[s("h3",[t._v(t._s(t.txTotal_disp))])])],1)],1)],1)],1)},nt=[],rt={data:function(){return{txTotal:0,txTotal_disp:0,interval:!1}},methods:{getTxTotal:function(){var t=this;this.$api.gateway.getTxTotal("any","year").then((function(e){1==e.data.flag&&(t.txTotal=e.data.data,0==t.txTotal_disp&&(t.txTotal_disp=e.data.data))}))}},watch:{txTotal:function(){clearInterval(this.interval),this.txTotal!=this.txTotal_disp&&(this.interval=window.setInterval(function(){if(this.txTotal_disp!=this.txTotal){var t=(this.txTotal-this.txTotal_disp)/10;t=t>=0?Math.ceil(t):Math.floor(t),this.txTotal_disp=this.txTotal_disp+t}}.bind(this),50))}},mounted:function(){this.getTxTotal(),setInterval(this.getTxTotal,3e3)}},lt=rt,dt=(s("f409"),Object(f["a"])(lt,ot,nt,!1,null,"93048102",null)),ct=dt.exports,ht=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("vs-card",{staticStyle:{"margin-top":"22px"}},[s("div",{attrs:{slot:"header"},slot:"header"},[s("h5",[t._v(" RSSI of Sensor "+t._s(this.selectedSensor)+", "+t._s(this.selectedGW))])]),s("ECharts",{attrs:{autoresize:"",options:t.option}})],1)},ut=[],ft=(s("1276"),s("5ce2"),s("5450"),s("627c"),s("b11c"),{components:{ECharts:c["a"]},data:function(){return{selectedSensor:3,selectedGW:"UCONN_GW",selectedRange:"week",dataAvg:[],date:[],xData:[],yData:[],dataCh:[],min:0,max:0,option:{toolbox:{feature:{}},grid:[{top:"30",height:"25%"},{top:"145",bottom:"8%"}],xAxis:[{show:!1,type:"category",boundaryGap:!1,data:this.date,axisLabel:{fontSize:10}},{gridIndex:1,type:"category",data:this.xData,axisLabel:{fontSize:11}}],yAxis:[{name:"Average",nameTextStyle:{fontWeight:800,fontSize:15},type:"value",boundaryGap:["40%","40%"],scale:!0,axisLabel:{fontSize:10}},{name:"Channel-Level",nameGap:20,nameTextStyle:{fontWeight:800,fontSize:15,padding:[0,0,0,20]},gridIndex:1,type:"category",data:[12,13,14,15,16,17,18,19,20,21,22,23,24,25,26],axisLabel:{fontSize:10}}],dataZoom:[{type:"inside",start:0,end:100,xAxisIndex:[0,1]}],visualMap:{seriesIndex:1,type:"piecewise",top:"115",right:"20",orient:"horizontal",precision:1,min:this.min,max:this.max,calculable:!0,realtime:!1,textStyle:{fontSize:11},inRange:{color:["#313695","#4575b4","#74add1","#abd9e9","#e0f3f8","#ffffbf","#fee090","#fdae61","#f46d43","#d73027","#a50026"]}},series:[{name:"Average RSSi",type:"line",smooth:!0,symbol:"none",itemStyle:{color:"rgb(255, 70, 131)"},data:this.dataAvg},{type:"heatmap",xAxisIndex:1,yAxisIndex:1,data:this.dataCh,itemStyle:{emphasis:{borderColor:"#333",borderWidth:1}},progressive:1e3,animation:!1}]}}},methods:{draw:function(t,e,s){var a=this;this.$api.gateway.getNWStatByID(t,e,s,0).then((function(t){if(a.dataAvg=[],a.date=[],0!=t.data.flag){for(var e=0;e<t.data.data.length;e++){a.dataAvg.push(t.data.data[e].avg_rssi);var s=new Date(t.data.data[e].timestamp),i=new Date(s.getTime()-6e4*s.getTimezoneOffset());a.date.push(i.toJSON().substr(5,14).replace("T"," "))}a.option.xAxis[0].data=a.date,a.option.series[0].data=a.dataAvg}})),this.dataCh=[],this.xData=[],this.yData=[],this.$api.gateway.getChInfoByID(t,e,s).then((function(t){if(0!=t.data.flag){for(var e=parseInt(t.data.data[0].rssi.split(",")[0]),s=e,i=0;i<t.data.data.length;i++){var o=new Date(t.data.data[i].timestamp),n=new Date(o.getTime()-6e4*o.getTimezoneOffset()),r=n.toJSON().substr(5,14).replace("T"," ");a.xData.push(r);for(var l=0;l<t.data.data[i].channels.split(",").length-1;l++){a.dataCh.push([r,parseInt(t.data.data[i].channels.split(",")[l])-12,parseFloat(t.data.data[i].rssi.split(",")[l])]);var d=parseInt(t.data.data[i].rssi.split(",")[l]);e=d>e?e:d,s=d>s?d:s}}a.option.visualMap.max=s,a.option.visualMap.min=e,a.option.xAxis[1].data=a.xData,a.option.series[1].data=a.dataCh}}))}},mounted:function(){var t=this;this.$EventBus.$on("sensors",(function(e){t.selectedSensor=e[0].sensor_id,t.draw(t.selectedGW,t.selectedSensor,t.selectedRange)})),this.$EventBus.$on("selectedSensor",(function(e){1!=e.sensor_id&&(t.selectedSensor=e.sensor_id,t.selectedGW=e.gateway,t.draw(t.selectedGW,t.selectedSensor,t.selectedRange))})),this.$EventBus.$on("selectedRange",(function(e){t.selectedRange=e,t.draw(t.selectedGW,t.selectedSensor,t.selectedRange)}))}}),pt=ft,vt=(s("eed4"),Object(f["a"])(pt,ht,ut,!1,null,"5c3fbead",null)),_t=vt.exports,mt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("vs-card",{staticClass:"topo"},[s("div",{attrs:{id:"title"}},[t._v("Topology")]),s("vs-tabs",{attrs:{alignment:"center"}},[s("vs-tab",{attrs:{label:"Graph"}},[s("TopoGraph")],1),s("vs-tab",{attrs:{label:"Map"}},[s("TopoMap")],1)],1)],1)},yt=[],gt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"map"}},[s("Slider"),s("Layers"),s("GmapMap",{ref:"mymap",attrs:{id:"gmap",center:t.center,zoom:t.zoom,options:t.opt},model:{value:t.zoom,callback:function(e){t.zoom=e},expression:"zoom"}},[t._l(t.markers,(function(e,a){return s("GmapMarker",{key:a,attrs:{position:e.position,label:e.label,icon:e.icon,clickable:!0},on:{click:function(s){return t.handleClick(e)}}})})),s("GmapInfoWindow",{attrs:{opened:t.infoWindowActive,options:t.infoWindowOpt,position:t.infoWindowPos},on:{closeclick:function(e){t.infoWindowActive=!1}}},[s("PowerChart")],1),t._l(t.lines,(function(t,e){return s("GmapPolyline",{key:"l"+e,attrs:{path:t.path,options:t.option}})}))],2)],1)},bt=[],wt=(s("d3b7"),s("25f0"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"powChart"},[s("ECharts",{attrs:{autoresize:"",options:t.option}})],1)}),xt=[],kt={components:{ECharts:c["a"]},data:function(){return{selectedGW:"any",selectedRange:"day",selectedSensor:3,date:[],data:[],option:{}}},methods:{draw:function(t,e,s){var a=this;this.$vs.loading({container:this.$refs.powChart}),this.$api.gateway.getBatteryByID(t,e,s).then((function(t){if(a.date=[],a.data=[],0!=t.data.flag){for(var e=0;e<t.data.data.length;e++){a.data.push(t.data.data[e].power_usage);var s=new Date(t.data.data[e].timestamp),i=new Date(s.getTime()-6e4*s.getTimezoneOffset());a.date.push(i.toJSON().substr(5,14).replace("T"," "))}a.option={title:{text:"Power Usage",textStyle:{fontSize:14}},grid:{top:"-15",left:"-9",width:"170px",height:"100px"},xAxis:{show:!1,type:"category",data:a.date},yAxis:{show:!1,type:"value",boundaryGap:["0%","60%"],scale:!0},series:[{data:a.data,smooth:!0,type:"line",areaStyle:{}}]},a.$vs.loading.close(a.$refs.powChart)}}))}},mounted:function(){var t=this;this.$EventBus.$on("showPowerLayer",(function(e){e&&(t.$EventBus.$on("selectedSensor",(function(e){t.selectedSensor=e.sensor_id,t.selectedGW=e.gateway,t.draw(t.selectedGW,t.selectedSensor,t.selectedRange)})),t.$EventBus.$on("selectedRange",(function(e){t.selectedRange=e,t.draw(t.selectedGW,t.selectedSensor,t.selectedRange)})))}))}},St=kt,$t=(s("dd76"),Object(f["a"])(St,wt,xt,!1,null,"3f880cc8",null)),zt=$t.exports,Tt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:"expand"}},[t.show?s("vs-card",[s("div",{staticClass:"sliders"},[s("vs-row",{attrs:{"vs-align":"flex-start","vs-w":"12"}},t._l(t.filters,(function(e,a){return s("vs-col",{key:a,attrs:{"vs-offset":"0.5","vs-w":"5.2"}},[s("span",{staticClass:"title"},[t._v(t._s(e.name)+": ["+t._s(e.value[0])+", "+t._s(e.value[1])+"]")]),s("vs-slider",{attrs:{size:"small",color:e.color,max:e.max,step:e.step,"step-decimals":!0},model:{value:e.value,callback:function(s){t.$set(e,"value",s)},expression:"f.value"}})],1)})),1)],1)]):t._e()],1)},Et=[],Ct=(s("4de4"),s("caad"),s("2532"),s("2ef0")),Rt=s.n(Ct),Ot={data:function(){return{show:!1,filters:{latency:{name:"Latency",max:4,step:.001,value:[0,4],color:"dark"},rtt:{name:"RTT",max:5,step:.001,value:[0,5],color:"orange"},noiseLv:{name:"NoiseLv",max:3,step:.1,value:[0,3],color:"green"},per:{name:"PER",max:1,step:.001,value:[0,1],color:"red"}},sensors:[],filterRes:{latency:[],macPER:[],noiseLv:[],appPER:[]},finalRes:[],selectedGW:"any",timeRange:"day"}},methods:{handleLatencyRange:Rt.a.debounce((function(){var t=this;this.filterRes.latency=[];for(var e=0;e<this.sensors.length;e++)this.sensors[e].uplink_latency_avg>=this.filters.latency.value[0]&&this.sensors[e].uplink_latency_avg<=this.filters.latency.value[1]&&this.filterRes.latency.push(this.sensors[e].sensor_id);this.finalRes=this.filterRes.latency.filter((function(e){return t.filterRes.macPER.includes(e)})).filter((function(e){return t.filterRes.appPER.includes(e)})).filter((function(e){return t.filterRes.noiseLv.includes(e)}))}),300),handlePERRange:Rt.a.debounce((function(){var t=this;this.filterRes.macPER=[];for(var e=0;e<this.sensors.length;e++)this.sensors[e].noiseLv>=this.filters.noiseLv.value[0]&&this.sensors[e].noiseLv<=this.filters.noiseLv.value[1]&&this.filterRes.noiseLv.push(this.sensors[e].sensor_id);this.finalRes=this.filterRes.latency.filter((function(e){return t.filterRes.macPER.includes(e)})).filter((function(e){return t.filterRes.appPER.includes(e)})).filter((function(e){return t.filterRes.noiseLv.includes(e)}))}),300),handleNoiseLvRange:Rt.a.debounce((function(){var t=this;this.filterRes.noiseLv=[];for(var e=0;e<this.sensors.length;e++)this.sensors[e].mac_per>=this.filters.macPER.value[0]&&this.sensors[e].mac_per<=this.filters.macPER.value[1]&&this.filterRes.macPER.push(this.sensors[e].sensor_id);this.finalRes=this.filterRes.latency.filter((function(e){return t.filterRes.macPER.includes(e)})).filter((function(e){return t.filterRes.appPER.includes(e)})).filter((function(e){return t.filterRes.noiseLv.includes(e)}))}),300),handleAppPERRange:Rt.a.debounce((function(){var t=this;this.filterRes.appPER=[];for(var e=0;e<this.sensors.length;e++)this.sensors[e].app_per>=this.filters.appPER.value[0]&&this.sensors[e].app_per<=this.filters.appPER.value[1]&&this.filterRes.appPER.push(this.sensors[e].sensor_id);this.finalRes=this.filterRes.latency.filter((function(e){return t.filterRes.macPER.includes(e)})).filter((function(e){return t.filterRes.appPER.includes(e)})).filter((function(e){return t.filterRes.noiseLv.includes(e)}))}),300)},watch:{"filters.latency.value":function(){this.handleLatencyRange()},"filters.macPER.value":function(){this.handleMacPERRange()},"filters.appPER.value":function(){this.handleAppPERRange()},finalRes:function(){this.$EventBus.$emit("filterRes",{data:this.finalRes,show:this.show})}},mounted:function(){var t=this;this.$EventBus.$on("sensors",(function(e){t.sensors=e;for(var s=[],a=0;a<e.length;a++)s.push(e[a].sensor_id);for(var i in t.filterRes)t.filterRes[i]=s})),this.$EventBus.$on("showFiltersPanel",(function(e){if(e)t.show=!t.show;else for(var s in t.show=!1,t.filters)t.filters[s].value=[0,t.filters[s].max]}))}},Lt=Ot,Bt=(s("0c44"),Object(f["a"])(Lt,Tt,Et,!1,null,"70444063",null)),Pt=Bt.exports,Nt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:"expand"}},[t.show?s("vs-card",{staticClass:"layers"},[s("div",{attrs:{slot:"header"},slot:"header"},[s("vs-row",{attrs:{"vs-type":"flex","vs-align":"flex-start","vs-justify":"space-around"}},[s("vs-col",{attrs:{"vs-w":"3","vs-type":"flex","vs-justify":"center"}},[s("vs-button",{attrs:{color:"primary",type:t.buttonTypes[t.currentBtType.traffic],"icon-pack":"fa",icon:"fa-cookie",size:"small"},on:{click:t.showTrafficLayer}},[t._v(" Traffic Rate ")])],1),s("vs-col",{attrs:{"vs-w":"3","vs-type":"flex","vs-justify":"center","vs-align":"center"}},[s("vs-button",{attrs:{color:"#EAB835",type:t.buttonTypes[t.currentBtType.noiseLv],"icon-pack":"fa",icon:"fa-rss",size:"small"},on:{click:t.showNoiseLayer}},[t._v(" Noise Level ")])],1),s("vs-col",{attrs:{"vs-w":"3","vs-type":"flex","vs-justify":"center","vs-align":"center"}},[s("vs-button",{attrs:{color:"success",type:t.buttonTypes[t.currentBtType.power],"icon-pack":"fa",icon:"fa-car-battery",size:"small"},on:{click:t.showPowerLayer}},[t._v(" Power Usage ")])],1)],1)],1)]):t._e()],1)},At=[],jt={data:function(){return{show:!1,buttonTypes:["line","filled"],currentBtType:{power:0,noiseLv:0,traffic:0,layer4:0},sensors:[],shownSensors:[],selectedGW:"any",timeRange:"day"}},methods:{showPowerLayer:function(){this.currentBtType.power=1-this.currentBtType.power,this.$EventBus.$emit("showPowerLayer",this.currentBtType.power)},showNoiseLayer:function(){this.currentBtType.noiseLv=1-this.currentBtType.noiseLv,this.$EventBus.$emit("showNoiseLayer",this.currentBtType.noiseLv)},showTrafficLayer:function(){this.currentBtType.traffic=1-this.currentBtType.traffic}},mounted:function(){var t=this;this.$EventBus.$on("showLayersPanel",(function(e){if(e)t.show=!t.show;else for(var s in t.show=!1,t.currentBtType)t.currentBtType[s]=0}))}},Mt=jt,It=(s("42dd"),Object(f["a"])(Mt,Nt,At,!1,null,"3a8b9d87",null)),Wt=It.exports,Gt={components:{PowerChart:zt,Slider:Pt,Layers:Wt},data:function(){return{selectedGW:"any",selectedRange:"week",selectedSensor:{},latencyRange:[],noiseLvRange:[],macPERRange:[],appPERRange:[],noiseLayer:{},trafficLayerFlag:0,noiseLayerFlag:0,powerLayerFlag:0,label:{},infoWindowActive:!1,infoWindowPos:{lat:0,lng:0},infoWindowOpt:{},zoom:21,center:{lat:41.806617,lng:-72.252749},sensors:[],markers:[],lines:[],opt:{styles:[{featureType:"poi",stylers:[{}]},{featureType:"transit",stylers:[{}]}]}}},methods:{drawTopology:function(t,e){var s=this;this.$gmapApiPromiseLazy().then((function(){s.$api.gateway.getTopology(t,e).then((function(t){if(s.markers=[],s.lines=[],0!=t.data.flag&&0!=t.data.data.length){s.$EventBus.$emit("sensorCnt",t.data.data.length-1);for(var e=0;e<t.data.data.length;e++){1==t.data.data[e].sensor_id&&s.$EventBus.$emit("startTime",t.data.data[e].first_appear);var a=[];if(0==t.data.data[e].parent)a=t.data.data[e].position;else for(var i=0;i<t.data.data.length;i++)t.data.data[i].sensor_id==t.data.data[e].parent&&(a=t.data.data[i].position);s.lines.push({path:[t.data.data[e].position,a],option:{strokeColor:"rgba(102,102,102, 0.5)",strokeWeight:1}})}s.sensors=t.data.data.sort((function(t,e){return t.sensor_id-e.sensor_id})),s.markers=s.sensors;for(var o=0;o<s.markers.length;o++){var n={path:window.google.maps.SymbolPath.CIRCLE,scale:6,fillColor:"#58B2EC",fillOpacity:1,strokeColor:"#58B2EC"},r="";1==s.markers[o].sensor_id?(r="GW",n.scale=7):r=s.markers[o].sensor_id.toString(),s.$set(s.markers[o],"icon",n),s.$set(s.markers[o],"label",{text:r,color:"#2c3e50",fontSize:"8pt"})}}}))}))},drawPowerLayer:function(){var t=this;this.powerLayerFlag=1,this.$api.gateway.getBattery(this.selectedGW,this.selectedRange).then((function(e){for(var s=e.data.data[0].avg_cc2650_active+e.data.data[0].avg_cc2650_sleep+e.data.data[0].avg_rf_rx+e.data.data[0].avg_rf_tx,a=s,i=1;i<e.data.data.length;i++){var o=e.data.data[i].avg_cc2650_active+e.data.data[i].avg_cc2650_sleep+e.data.data[i].avg_rf_rx+e.data.data[i].avg_rf_tx;s=o>s?s:o,a=o>a?o:a}for(var n,r,l=(a-s)/2,d=0,c=0;c<e.data.data.length;c++){o=e.data.data[c].avg_cc2650_active+e.data.data[c].avg_cc2650_sleep+e.data.data[c].avg_rf_rx+e.data.data[c].avg_rf_tx,o>=l?(n=255,r=Math.round((a-o)/(a-l)*255)):(r=255,n=Math.round((o-s)/(l-s)*255));for(var h="#"+("0"+n.toString(16)).slice(-2)+("0"+r.toString(16)).slice(-2)+("0"+d.toString(16)).slice(-2),u=0;u<t.markers.length;u++)t.markers[u].sensor_id==e.data.data[c].sensor_id&&(t.markers[u].icon={path:window.google.maps.SymbolPath.CIRCLE,scale:7,fillColor:h,fillOpacity:1,strokeColor:h},t.markers[u].label={text:t.markers[u].sensor_id.toString(),color:"#2c3e50",fontSize:"10pt"})}}))},drawNoiseLayer:function(){var t=this;this.$gmapApiPromiseLazy().then((function(){var e=[];t.$api.gateway.getNoiseLevel(t.selectedGW,t.selectedRange).then((function(s){for(var a=0;a<s.data.data.length;a++)e.push({location:new window.google.maps.LatLng(parseFloat(s.data.data[a].position.lat),parseFloat(s.data.data[a].position.lng)),weight:-1*s.data.data[a].noise_level});t.noiseLayer=new window.google.maps.visualization.HeatmapLayer({data:e,map:t.$refs.mymap.$mapObject,radius:60})}))}))},drawTrafficLayer:function(){},clearTrafficLayer:function(){this.trafficLayerFlag},clearPowerLayer:function(){this.powerLayerFlag=0;for(var t=0;t<this.markers.length;t++)this.markers[t].icon={path:window.google.maps.SymbolPath.CIRCLE,scale:7,fillColor:"#58B2EC",fillOpacity:1,strokeColor:"#58B2EC"},this.markers[t].label={text:this.markers[t].sensor_id.toString(),color:"#2c3e50",fontSize:"10pt"}},clearNoiseLayer:function(){this.noiseLayerFlag&&this.noiseLayer.setMap(null)},handleClick:function(t){if(this.$EventBus.$emit("selectedSensor",t),t==this.selectedSensor)return this.topoColorReset(),this.infoWindowActive=!1,void(this.selectedSensor={});this.selectedSensor=t},showInfoWindow:function(t){this.infoWindowActive=!0,this.infoWindowPos=t.position,this.infoWindowOpt={closeBoxURL:"",pixelOffset:{width:0,height:-15}}},topoHighLight:function(t){for(var e=0;e<this.lines.length;e++)t.position==this.lines[e].path[0]?this.lines[e].option={strokeColor:"green",zIndex:2e3}:t.position==this.lines[e].path[1]?this.lines[e].option={strokeColor:"lime",zIndex:2e3}:this.lines[e].option={strokeColor:"rgba(192,192,192,0.3)",zIndex:1}},topoColorReset:function(){for(var t=0;t<this.lines.length;t++)this.lines[t].option={strokeColor:"rgba(102,102,102,0.5)"}},panTo:function(t){null!=this.$refs.mymap&&this.$refs.mymap.$mapPromise.then((function(e){e.panTo(t)}))},showFiltersPanel:function(){this.$EventBus.$emit("showFiltersPanel",1)},showLayersPanel:function(){this.$EventBus.$emit("showLayersPanel",1)},clearMap:function(){this.$EventBus.$emit("showFiltersPanel",0),this.$EventBus.$emit("showLayersPanel",0),this.clearNoiseLayer(),this.drawTopology(this.selectedGW,this.selectedRange),this.zoom=21,this.panTo(this.center)}},mounted:function(){var t=this;this.drawTopology(this.selectedGW,this.selectedRange),this.$EventBus.$on("selectedSensor",(function(e){for(var s=0;s<t.markers.length;s++)t.markers[s].sensor_id==e.sensor_id&&(t.panTo(t.markers[s].position),t.zoom=23,t.topoHighLight(t.markers[s]),1!=e.sensor_id&&t.powerLayerFlag&&t.showInfoWindow(t.markers[s]))})),this.$EventBus.$on("selectedGW",(function(e){t.selectedGW=e,t.drawTopology(t.selectedGW,t.selectedRange),t.infoWindowActive=!1,t.panTo(t.center),t.zoom=21})),this.$EventBus.$on("selectedRange",(function(e){t.selectedRange=e,t.drawTopology(t.selectedGW,t.selectedRange),t.powerLayerFlag&&t.drawPowerLayer(),t.noiseLayerFlag&&(t.clearNoiseLayer(),t.drawNoiseLayer()),t.infoWindowActive=!1,t.panTo(t.center),t.zoom=21})),this.$EventBus.$on("filterRes",(function(e){if(e.show){for(var s=[],a=0;a<t.sensors.length;a++)for(var i=0;i<e.data.length;i++)t.sensors[a].sensor_id==e.data[i]&&s.push(t.sensors[a]);t.markers=s,t.lines=[]}})),this.$EventBus.$on("showTrafficLayer",(function(e){e?t.drawPowerLayer():t.clearPowerLayer()})),this.$EventBus.$on("showPowerLayer",(function(e){e?t.drawPowerLayer():t.clearPowerLayer()})),this.$EventBus.$on("showNoiseLayer",(function(e){e?(t.drawNoiseLayer(),t.noiseLayerFlag=!t.noiseLayerFlag):(t.clearNoiseLayer(),t.noiseLayerFlag=0)}))}},Dt=Gt,Jt=(s("254b"),Object(f["a"])(Dt,gt,bt,!1,null,null,null)),Ft=Jt.exports,Ut=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ECharts",{attrs:{id:"graph",autoresize:"",options:t.option}})},qt=[],Ht=(s("ef97a"),s("d28f"),{components:{ECharts:c["a"]},data:function(){return{selectedGW:"any",selectedRange:"week",selectedSensor:{},trees:{1:{name:"GW",children:[],symbolSize:12,label:{fontSize:14}}},option:{series:[{type:"tree",data:[{name:"GW",children:[]}],top:"1%",left:"7%",bottom:"1%",right:"20%",roam:!0,symbolSize:8,label:{position:"left",verticalAlign:"middle",align:"right",fontSize:13},leaves:{label:{position:"right",verticalAlign:"middle",align:"left"}},initialTreeDepth:5,expandAndCollapse:!0,animationDuration:550,animationDurationUpdate:750}]}}},methods:{draw:function(t,e){var s=this;this.$api.gateway.getTopology(t,e).then((function(t){if(0!=t.data.flag&&0!=t.data.data.length){s.$EventBus.$emit("sensorCnt",t.data.data.length-1);for(var e=0;e<t.data.data.length;e++){var a=t.data.data[e];1!=a.sensor_id?(null==s.trees[a.sensor_id]&&(s.trees[a.sensor_id]={name:a.sensor_id,children:[]}),null==s.trees[a.parent]?s.trees[a.parent]={name:a.parent,children:[s.trees[a.sensor_id]]}:s.trees[a.parent].children.push(s.trees[a.sensor_id])):s.$EventBus.$emit("startTime",a.first_appear)}s.option.series[0].data=[s.trees[1]]}}))}},mounted:function(){this.draw(this.selectedGW,this.selectedRange)}}),Xt=Ht,Vt=(s("e0b5"),Object(f["a"])(Xt,Ut,qt,!1,null,"146e76fa",null)),Yt=Vt.exports,Zt={components:{TopoMap:Ft,TopoGraph:Yt}},Kt=Zt,Qt=(s("dc1e"),Object(f["a"])(Kt,mt,yt,!1,null,null,null)),te=Qt.exports,ee=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("vs-card",[s("div",{attrs:{slot:"header"},slot:"header"},[s("h4",[t._v("Communication Schedule")])]),s("ECharts",{attrs:{id:"sch-table",autoresize:"",options:t.option},on:{click:t.handleClickSch}})],1)},se=[],ae=(s("a434"),s("7e32"),s("95a8"),s("23ee"),211),ie={components:{ECharts:c["a"]},data:function(){var t=this;return{autorefresh:!1,i:0,selectedCell:{slot:[]},Channels:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16],slots:[],subPartitions:[],partition_center:0,bcnSubslots:{},option:{toolbox:{feature:{}},tooltip:{formatter:function(e){for(var s=0;s<t.slots.length;s++)if(t.slots[s].slot[0]==e.data[0]-.5&&t.slots[s].slot[1]==e.data[1]-.5)return"[".concat(e.data[0]-.5,", ").concat(e.data[1]-.5,"]<br/>\n                        ").concat(t.slots[s].type.replace(/^\S/,(function(t){return t.toUpperCase()})),"<br/>\n                        Layer ").concat(t.slots[s].layer,"<br/>\n                        ").concat(t.slots[s].sender," -> ").concat(t.slots[s].receiver);return e.data}},grid:{top:"18%",left:"3%",right:"1%",bottom:"6%"},xAxis:{min:0,max:ae,splitNumber:ae,minInterval:1,axisLabel:{formatter:function(t){if(t%5==0)return t},fontSize:10},name:"Slot Offset",type:"value",position:"top",nameLocation:"middle",nameTextStyle:{fontWeight:"bold",padding:10,fontSize:14},data:[],splitArea:{show:!0}},yAxis:{name:"Channel Offset",type:"value",min:1,max:16,interval:1,inverse:!0,nameLocation:"middle",nameTextStyle:{fontWeight:"bold",padding:8,fontSize:14},data:[],splitArea:{show:!0}},dataZoom:[{type:"inside",start:0,end:100}],visualMap:{min:0,max:1,show:!0,type:"piecewise",inRange:{color:["red","#4575b4","green"]},pieces:[{min:-1,max:-1,label:"Beacon"},{min:0,max:0,label:"Uplink"},{min:1,max:1,label:"Downlink"}],textStyle:{fontSize:12},position:"top",orient:"horizontal",top:0,right:"1%"},series:[{type:"heatmap",data:[],label:{show:!1,color:"white",fontWeight:"bold",fontSize:14.5,formatter:function(e){for(var s=0;s<t.slots.length;s++)if(t.slots[s].slot[0]==e.data[0]-.5&&t.slots[s].slot[1]==e.data[1]-.5&&"beacon"!=t.slots[s].type)return"".concat(t.slots[s].sender,"\n").concat(t.slots[s].receiver);return""}},itemStyle:{borderWidth:1.1,borderType:"solid",borderColor:"white"},markLine:{data:[],symbolSize:8,lineStyle:{color:"red",width:3,type:"solid"},animationDuration:300},markArea:{silent:!0,label:{position:"bottom"},data:[]}},{type:"line",z:999,zIndex:999,markArea:{silent:!0,label:{position:"bottom"},data:[]}}]}}},methods:{drawPartition:function(){var t=this;this.slots=[],this.option.yAxis.data=this.Channels,this.$api.gateway.getPartitionHARP().then((function(e){if(0!=e.data.flag){t.partitions=e.data.data;for(var s=[],a={SHARED:{rgb:"grey",opacity:.7},BEACON:{rgb:"orange",opacity:.7},MANAGEMENT:{rgb:"lightseagreen",opacity:.7},UPLINK:{rgb:"#1d71f2",opacity:.7},DOWNLINK:{rgb:"green",opacity:.7}},i=0;i<e.data.data.length;i++){if("beacon"==e.data.data[i].type)for(var o=e.data.data[i].range[0];o<e.data.data[i].range[1];o++)t.bcnSubslots[o]={};if("management"==e.data.data[i].type&&(t.partition_center=(e.data.data[i].range[0]+e.data.data[i].range[1])/2),e.data.data[i].range[0]<e.data.data[i].range[1]){var n=e.data.data[i].type.toUpperCase(),r=1,l=17,d="bottom";s.push([{name:n,xAxis:e.data.data[i].range[0],yAxis:r},{xAxis:e.data.data[i].range[1],yAxis:l,itemStyle:{color:a[n].rgb,opacity:a[n].opacity,borderColor:"black",borderWidth:.1},label:{color:"black",fontWeight:"bold",fontSize:12,position:d}}])}}s.push(),t.option.series[0].markArea.data=s,t.drawSchedule()}}))},drawSchedule:function(){var t=this;this.$api.gateway.getSchedule().then((function(e){if(0!=e.data.flag){t.nonOptimalCnt=0;var s=[];t.slots=e.data.data;for(var a=0;a<e.data.data.length;a++)if("1"!=e.data.data[a].sender||2!=e.data.data[a].receiver){var i=1;"uplink"==e.data.data[a].type&&(i=0),"beacon"==e.data.data[a].type&&(i=-1),s.push([e.data.data[a].slot[0]+.5,e.data.data[a].slot[1]+.5,i])}else e.data.data.splice(a,1),a--;for(var o in t.option.series[0].data=s,t.links)0==t.links[o].used&&delete t.links[o];t.$EventBus.$emit("links",t.links)}}))},drawSubPartition:function(){var t=this;this.$api.gateway.getSubPartitionHARP().then((function(e){if(0!=e.data.flag){t.subPartitions=[],t.option.series[1].markArea.data=[];for(var s=["royalblue","cornflowerblue","deepskyblue","lightskyblue"],a=["darkgreen","forestgreen","limegreen","lime"],i=0;i<e.data.data.length;i++){t.subPartitions.push(e.data.data[i]);var o=e.data.data[i];t.option.series[1].markArea.data.push([{name:"U"+o.id+"-"+o.layer,xAxis:o.ts_start,yAxis:o.ch_start},{xAxis:o.ts_end,yAxis:o.ch_end,itemStyle:{color:s[o.layer],opacity:.7,borderColor:"white",borderWidth:1},label:{color:"black",fontWeight:"bold",fontSize:12,position:"inside"}}]),t.option.series[1].markArea.data.push([{name:"D"+o.id+"-"+o.layer,xAxis:2*t.partition_center-o.ts_end,yAxis:o.ch_start},{xAxis:2*t.partition_center-o.ts_start,yAxis:o.ch_end,itemStyle:{color:a[o.layer],opacity:.7,borderColor:"white",borderWidth:1},label:{color:"black",fontWeight:"bold",fontSize:12,position:"inside"}}])}}}))},findPath:function(t){this.option.series[0].markLine.data=[];for(var e=0;e<this.slots.length;e++)this.slots[e].sender==t.sender&&"uplink"==this.slots[e].type&&(t=this.slots[e]);for(var s=0;s<this.slots.length;s++)this.slots[s].receiver==t.sender&&this.slots[s].type==t.type&&this.option.series[0].markLine.data.push([{xAxis:this.slots[s].slot[0]+1,yAxis:this.slots[s].slot[1]+.5},{xAxis:t.slot[0],yAxis:t.slot[1]+.5,lineStyle:{color:"lime",width:4}}]);var a={};while(0!=t.receiver){if(a=this.findSlot(t.receiver),0==a)break;this.option.series[0].markLine.data.push([{xAxis:t.slot[0]+1,yAxis:t.slot[1]+.5},{xAxis:a.slot[0],yAxis:a.slot[1]+.5}]),t=a}},handleClickSch:function(t){if(this.option.series[0].markLine.data=[],t.data[0]-.5!=this.selectedCell.slot[0]||t.data[1]-.5!=this.selectedCell.slot[1])for(var e={},s=0;s<this.slots.length;s++)this.slots[s].slot[0]==t.data[0]-.5&&this.slots[s].slot[1]==t.data[1]-.5&&(e=this.slots[s],this.selectedCell=e,this.findPath(e));else this.selectedCell={slot:[]}},findSlot:function(t){for(var e=0;e<this.slots.length;e++)if(this.slots[e].sender==t&&"uplink"==this.slots[e].type)return this.slots[e];return 0}},mounted:function(){var t=this;this.drawPartition(),setTimeout(this.drawSubPartition,100),this.$EventBus.$on("autorefresh",(function(e){t.autorefresh=e})),setInterval((function(){t.autorefresh&&t.drawPartition()}),5e3)}},oe=ie,ne=(s("75a1"),Object(f["a"])(oe,ee,se,!1,null,"46c786ef",null)),re=ne.exports,le={components:{DeviceCnt:q,Uptime:K,TxTotal:ct,NWTable:it,RSSiChart:_t,Topo:te,SchTable:re},data:function(){return{autorefresh:!1}},mounted:function(){var t=this;this.$EventBus.$on("autorefresh",(function(e){t.autorefresh=e})),setInterval((function(){t.autorefresh&&t.$EventBus.$emit("selectedRange","week")}),3e3)}},de=le,ce=Object(f["a"])(de,I,W,!1,null,null,null),he=ce.exports,ue=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("vs-row",{attrs:{"vs-align":"flex-start","vs-w":"12"}},[s("br"),s("br"),s("br"),s("br"),s("br"),s("vs-col",{staticStyle:{"z-index":"99"},attrs:{"vs-offset":"0.6","vs-w":"5"}},[s("Grid")],1),s("vs-col",{staticStyle:{"z-index":"99"},attrs:{"vs-offset":"0.2","vs-w":"6"}},[s("sim")],1)],1),s("vs-row",[s("vs-col",{staticStyle:{"z-index":"99"},attrs:{"vs-offset":"0.6","vs-w":"11.2"}},[s("SchTable")],1)],1)],1)},fe=[],pe=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("vs-card",[s("div",{attrs:{slot:"header"},slot:"header"},[s("h4",[t._v("Topology")])]),s("vs-row",{staticClass:"panel",attrs:{"vs-w":"11","vs-type":"flex","vs-justify":"space-between"}},[s("vs-col",{attrs:{"vs-w":"2","vs-offset":"0.5"}},[s("vs-input",{staticClass:"inputx",attrs:{type:"number",size:"small",label:"GridX",placeholder:"20"},model:{value:t.sizeX,callback:function(e){t.sizeX=e},expression:"sizeX"}})],1),s("vs-col",{attrs:{"vs-w":"2"}},[s("vs-input",{staticClass:"inputx",attrs:{type:"number",size:"small",label:"GridY",placeholder:"20"},model:{value:t.sizeY,callback:function(e){t.sizeY=e},expression:"sizeY"}})],1),s("vs-col",{attrs:{"vs-w":"2"}},[s("vs-input",{staticClass:"inputx",attrs:{type:"number",size:"small",label:"Nodes",placeholder:"100"},model:{value:t.nodesNumber,callback:function(e){t.nodesNumber=e},expression:"nodesNumber"}})],1),s("vs-col",{attrs:{"vs-w":"2"}},[s("vs-input",{staticClass:"inputx",attrs:{type:"number",size:"small",label:"Tx Range ^2",placeholder:"20"},model:{value:t.txRange,callback:function(e){t.txRange=e},expression:"txRange"}})],1),s("vs-col",{attrs:{"vs-w":"2"}},[s("vs-input",{staticClass:"inputx",attrs:{type:"number",size:"small",label:"Max Hop",placeholder:"8"},model:{value:t.maxHop,callback:function(e){t.maxHop=e},expression:"maxHop"}})],1)],1),s("ECharts",{ref:"chart",attrs:{id:"grid-chart",autoresize:"",options:t.option},on:{click:t.addNoiseByClick}}),s("div",{attrs:{slot:"footer"},slot:"footer"},[s("vs-row",{attrs:{"vs-justify":"flex-end",id:"bts"}},[s("vs-button",{attrs:{size:"small",color:"green",type:"relief"},on:{click:t.draw}},[t._v("ReDraw")]),s("vs-button",{attrs:{size:"small",color:"danger",type:"relief"},on:{click:t.addNoiseCircleRand}},[t._v("Interfer")]),s("vs-button",{attrs:{size:"small",color:"primary",type:"relief"},on:{click:t.clearNoise}},[t._v("Clear")])],1)],1)],1)},ve=[],_e=(s("c740"),s("b64b"),s("15af"),s("1111"),s("c270")),me={components:{ECharts:c["a"]},data:function(){var t=this;return{load_topo:!1,gwPos:[],sizeX:19,sizeY:9,nodesNumber:33,maxHop:5,txRange:9,childrenCnt:{0:0},parent_capacity:4,interference_range:16,kicked:[],history_cp:[],history_cl:[],nodes:[],distanceTable:{},nonOptimal:[],join_seq:[],noisePos:[],noisePosList:[],noiseID:0,blacklist:[],pkt_id:0,pkt_num_cur_slot:0,simulation_slot:-1,simulation_run:!1,simulation_slot_list:[0,0],schedule:[],option:{toolbox:{feature:{}},grid:{top:"3%",left:"5%",right:"5%",bottom:"5%"},xAxis:{min:0,max:this.size,interval:1,axisLabel:{fontSize:10}},yAxis:{min:0,max:this.size,interval:1,axisLabel:{fontSize:10}},markLine:{z:-1},series:[{symbolSize:18,itemStyle:{color:"deepskyblue"},silent:!0,data:[],label:{show:!0,color:"black",fontSize:12,formatter:function(e){for(var s=0;s<Object.keys(t.nodes).length;s++)if(t.nodes[s].position[0]==e.data[0]&&t.nodes[s].position[1]==e.data[1])return s}},markLine:{animation:!1,silent:!0,symbolSize:5,lineStyle:{type:"solid",width:2.5,opacity:.7,color:"grey"},data:[]},type:"scatter"},{type:"scatter",data:[],itemStyle:{color:"white",opacity:0},symbolSize:20,animation:!1},{type:"effectScatter",symbolSize:12,rippleEffect:{scale:25},data:[],animation:!1},{type:"scatter",data:[],label:{show:!0,fontSize:16,formatter:function(){return"0"}},itemStyle:{color:"purple",opacity:.85},symbolSize:18,hoverAnimation:!1,animation:!1},{type:"scatter",data:[],symbolSize:25,hoverAnimation:!1},{type:"effectScatter",symbolSize:10,rippleEffect:{color:"red",scale:4},itemStyle:{color:"red"},symbol:"rect",animation:!1,data:[]},{type:"scatter",data:[],itemStyle:{color:"red",opacity:.9},symbolSize:10,hoverAnimation:!1,animationDelayUpdate:0,animationDurationUpdate:1e3}]}}},methods:{draw:function(){var t=this,e=parseInt(this.sizeX),s=parseInt(this.sizeY);if(this.nodesNumber=parseInt(this.nodesNumber),this.txRange=parseInt(this.txRange),this.maxHop=parseInt(this.maxHop),this.parent_capacity=parseInt(this.parent_capacity),!((e-1)*(s-1)<this.nodesNumber)){this.option.series[0].data=[];for(var a=0;a<=e;a++)for(var i=0;i<=s;i++)this.option.series[1].data.push([a,i]);var o=Math.round((e-2)*Math.random()+2),n=Math.round((s-2)*Math.random()+2);this.gwPos=[o,n],this.load_topo&&(this.gwPos=_e[0].position),this.nodes={0:{parent:-1,position:this.gwPos,layer:-1,path:[0]}},this.option.series[3].data=[this.gwPos];var r={};r[this.gwPos[0]+"-"+this.gwPos[1]]=1;for(var l=1;l<this.nodesNumber;l++){var d=Math.round((e-2)*Math.random()+1),c=Math.round((s-2)*Math.random()+1);while(null!=r[d+"-"+c])d=Math.round((e-1)*Math.random()+1),c=Math.round((s-1)*Math.random()+1);r[d+"-"+c]=1,this.nodes[l]={parent:-1,position:[d,c],layer:-1,path:[l]},this.childrenCnt[l]=0}this.load_topo&&(this.nodes=_e);for(var h=0;h<Object.keys(this.nodes).length;h++)this.nodes[h].distance2interference=-1,this.option.series[0].data.push(this.nodes[h].position);this.option.xAxis.max=e,this.option.yAxis.max=s,this.findParents(),setTimeout((function(){t.$EventBus.$emit("topo",{data:t.nodes,seq:t.join_seq})}),100)}},findParents:function(){for(var t=0;t<=this.nodesNumber;t++)this.childrenCnt[t]=0;var e=0;this.option.series[0].markLine.data=[];for(var s=0;s<Object.keys(this.nodes).length;s++)this.nodes[s].parent=-1;var a={"-1":[0]},i=1;this.join_seq=[];var o=this.txRange;while(i<this.nodesNumber&&e<2e3){for(var n=0;n<this.maxHop;n++){null==a[n]&&(a[n]=[]);for(var r=1;r<this.nodesNumber;r++)if(-1==this.nodes[r].parent){for(var l=[],d=0;d<a[n-1].length;d++){var c=a[n-1][d],h=Math.pow(this.nodes[r].position[0]-this.nodes[c].position[0],2)+Math.pow(this.nodes[r].position[1]-this.nodes[c].position[1],2);l.push({id:c,d:h})}for(var u=l.sort((function(t,e){return t.d>e.d?1:-1})),f=0;f<u.length;f++)if(u[f].d<=o&&(0==u[f].id||0!=u[f].id&&this.childrenCnt[u[f].id]<=this.parent_capacity)){this.nodes[r].parent=u[f].id,this.nodes[r].layer=n,this.load_topo||(this.nodes[r].path=this.nodes[r].path.concat(this.nodes[u[f].id].path)),this.childrenCnt[u[f].id]++,a[n].push(r),this.join_seq.push(r),i++,this.drawLine(r,u[f].id,n);break}}}o+=this.txRange,e++}},changeParents:function(t){for(var e=this,s=[],a=0,i=0,o=0;o<t.length;o++){var n=t[o],r=[],l={id:this.nodes[n].parent,d:1};if(-1!=this.blacklist.findIndex((function(t){return t.id===n}))||-1!=this.blacklist.findIndex((function(t){return t.id===e.nodes[n].parent}))||-1!=this.nonOptimal.indexOf(this.nodes[n].parent)){for(var d=0;d<Object.keys(this.nodes).length;d++)if(n!=d&&-1==this.blacklist.findIndex((function(t){return t.id===d}))&&-1==this.nonOptimal.indexOf(d)&&!(this.nodes[d].layer>=this.nodes[n].layer)&&this.nodes[n].parent!=d&&!(this.nodes[d].position[0]-this.nodes[n].position[0]>10||this.nodes[d].position[1]-this.nodes[n].position[1]>10)){var c=Math.pow(this.nodes[d].position[0]-this.nodes[n].position[0],2)+Math.pow(this.nodes[d].position[1]-this.nodes[n].position[1],2);r.push({id:d,d:c})}l=r.length<1?{id:this.nodes[n].parent,d:1}:r.sort((function(t,e){return t.d>e.d?1:-1}))[0]}var h=this.nodes[n].parent,u=this.nodes[n].layer;l.id!=h&&a++,this.nodes[l.id].layer+1!=u&&i++,this.nodes[n].parent=l.id,this.nodes[n].layer=this.nodes[l.id].layer+1,s.push({id:n,parent:this.nodes[n].parent,layer:this.nodes[n].layer}),this.drawLine(n,l.id)}this.last_nodes=JSON.parse(JSON.stringify(this.nodes)),this.history_cp.push(a),this.history_cl.push(i),this.$EventBus.$emit("changed",s.sort((function(t,e){return t.layer>e.layer?1:-1}))),this.$EventBus.$emit("changedTopo",this.nodes)},drawLine:function(t,e){this.option.series[0].markLine.data.push([{coord:this.nodes[t].position},{coord:this.nodes[e].position}])},eraseLine:function(t,e){for(var s=0;s<this.option.series[0].markLine.data.length;s++){var a=this.option.series[0].markLine.data[s];if(this.nodes[t].position==a[0].coord&&this.nodes[e].position==a[1].coord)return void this.option.series[0].markLine.data.splice(s,1)}},selectNode:function(t){var e=0;if(t.value[0]==this.gwPos[0]&&t.value[1]==this.gwPos[1])e=0;else for(var s=1;s<Object.keys(this.nodes).length;s++)if(this.nodes[s].position[0]==t.value[0]&&this.nodes[s].position[1]==t.value[1]){e=s;break}this.$EventBus.$emit("selectedNode",e)},addNoiseByClick:function(t){this.option.series[2].rippleEffect.scale=25,this.interference_range=16,this.$EventBus.$emit("new_itf",1),this.noisePos[0]==t.value[0]&&this.noisePos[1]==t.value[1]?this.clearNoise():(this.noisePos=t.value,this.option.series[2].data=[t.value],this.respondToNoise())},addNoiseCircleRand:function(){this.option.series[2].rippleEffect.scale=25,this.interference_range=16,this.$EventBus.$emit("new_itf",1);var t=Math.round(this.sizeX*Math.random()),e=Math.round(this.sizeY*Math.random());this.noisePos[0]==t&&this.noisePos[1]==e||(this.noisePos=[t,e],this.option.series[2].data=[[t,e]],this.respondToNoise())},clearNoise:function(){for(var t in this.nodes)this.nodes[t].distance2interference=-1;this.noisePos=[],this.option.series[2].data=[],this.blacklist=[],this.option.series[4].data=[],this.option.series[5].data=[],this.$EventBus.$emit("clear",1),this.findParents()},respondToNoise:function(){for(var t in this.option.series[4].data=[],this.nodes)this.nodes[t].distance2interference=-1;this.kicked=[],this.blacklist=[];for(var e=0;e<Object.keys(this.nodes).length;e++){var s=Math.pow(this.nodes[e].position[0]-this.noisePos[0],2)+Math.pow(this.nodes[e].position[1]-this.noisePos[1],2);s<=this.interference_range&&0!=e&&(this.nodes[e].distance2interference=s,this.option.series[4].data.push({value:this.nodes[e].position,itemStyle:{color:"red",opacity:.9/Math.sqrt(s)}}))}this.$EventBus.$emit("affected",{data:this.nodes,seq:this.join_seq})},kickChildren:function(t){for(var e=0;e<Object.keys(this.nodes).length;e++)this.nodes[e].parent==t&&(this.kicked.push(e),this.eraseLine(e,t),this.kickChildren(e))},send:function(t,e){var s=this;this.pkt_id++;var a={name:"pkt "+t+"->"+e+" #"+this.pkt_id,value:this.nodes[t].position};this.option.series[6].data.push(a),setTimeout((function(){a.value=s.nodes[e].position,setTimeout((function(){a.value=[-1,-1],s.$EventBus.$emit("pkt_finish",a)}),800)}),400)},runSimulationNext:function(){if(this.pkt_num_cur_slot=0,this.simulation_slot++,this.simulation_slot>126)this.$EventBus.$emit("simulation_finish",!0);else{var t=[];this.$EventBus.$emit("simulation_cur_slot",this.simulation_slot);for(var e=1;e<17;e++)if(null!=this.schedule[this.simulation_slot][e]){var s=this.schedule[this.simulation_slot][e];"beacon"!=s.type&&(this.pkt_num_cur_slot++,this.send(s.sender,s.receiver),t.push([s.sender,s.receiver,e]))}0==this.pkt_num_cur_slot?this.$EventBus.$emit("no_pkt",!0):(this.simulation_slot_list.push(this.simulation_slot),this.$EventBus.$emit("simulation_log",{slot:this.simulation_slot,tx:t}))}},runSimulation:function(){}},mounted:function(){var t=this;window.grid=this,this.$EventBus.$on("init",(function(){t.draw()})),this.$EventBus.$on("cells1",(function(e){t.schedule=new Array(127);for(var s=0;s<127;s++)t.schedule[s]=new Array(17);for(var a=0;a<e.length;a++)t.schedule[e[a].slot[0]][e[a].slot[1]]=e[a].cell})),this.$EventBus.$on("no_pkt",(function(){t.runSimulationNext()})),this.$EventBus.$on("simulation_run",(function(e){t.simulation_run=e,1==e&&t.runSimulationNext()})),this.$EventBus.$on("simulation_finish",(function(){t.simulation_run=!1,t.simulation_slot=0})),this.$EventBus.$on("simulation_step",(function(e){if("back"==e){var s=t.simulation_slot_list.indexOf(t.simulation_slot);t.simulation_slot=t.simulation_slot_list[s-2]}t.runSimulationNext()}));var e=0;this.$EventBus.$on("pkt_finish",(function(){e++,e==t.pkt_num_cur_slot&&(e=0,1==t.simulation_run&&t.runSimulationNext())})),this.$EventBus.$on("interference_strength",(function(e){t.option.series[2].rippleEffect.scale-=5,t.interference_range-=4,t.respondToNoise(),0==e&&(t.option.series[2].data=[])}))}},ye=me,ge=(s("6c60"),Object(f["a"])(ye,pe,ve,!1,null,"d73c2ca8",null)),be=ge.exports,we=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("vs-card",{attrs:{id:"console"}},[s("div",{attrs:{slot:"header"},slot:"header"},[s("h4",[t._v("Simulation")])]),s("div",[s("vs-row",{attrs:{"vs-justify":"flex-start","vs-w":"12","vs-align":"center"}},[s("vs-col",{attrs:{"vs-w":"0.8","vs-offset":"0.1"}},[s("vs-button",{attrs:{size:"small",color:"red",disabled:t.running,"icon-pack":"fas",type:"relief",icon:"fa-play"},on:{click:t.runV2}})],1),s("vs-col",{attrs:{"vs-w":"0.8"}},[s("vs-button",{attrs:{size:"small",color:"primary",disabled:!t.running,"icon-pack":"fas",type:"relief",icon:"fa-pause"},on:{click:t.stopV2}})],1),s("vs-col",{attrs:{"vs-w":"0.8"}},[s("vs-button",{attrs:{size:"small",color:"primary",disabled:!t.started||t.running,"icon-pack":"fas",type:"relief",icon:"fa-step-backward"},on:{click:t.stepBwd}})],1),s("vs-col",{attrs:{"vs-w":"0.8"}},[s("vs-button",{attrs:{size:"small",color:"primary",disabled:t.running,"icon-pack":"fas",type:"relief",icon:"fa-step-forward"},on:{click:t.stepFwd}})],1),s("vs-col",{attrs:{"vs-w":"0.8"}},[s("vs-button",{attrs:{size:"small",color:"primary",disabled:!t.started,"icon-pack":"fas",type:"relief",icon:"fa-stop"},on:{click:t.finishV2}})],1),s("vs-col",{attrs:{"vs-offset":"5.5","vs-w":"2"}},[s("vs-button",{staticStyle:{"font-size":"0.7rem"},attrs:{type:"line"},on:{click:function(e){t.popup_active=!0}}},[t._v("view data")])],1)],1)],1),s("vs-popup",{staticClass:"a",attrs:{title:"data.csv",active:t.popup_active},on:{"update:active":function(e){t.popup_active=e}}},[s("vs-button",{staticStyle:{"font-size":"0.7rem"},attrs:{type:"line"},on:{click:t.copy_res}},[t._v("copy")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.res,expression:"res"}],ref:"res",attrs:{id:"logs"},domProps:{value:t.res},on:{input:function(e){e.target.composing||(t.res=e.target.value)}}})],1),s("div",[s("div",{directives:[{name:"show",rawName:"v-show",value:1==t.activeTabIdx,expression:"activeTabIdx==1"}]},[s("ECharts",{attrs:{id:"chart",options:t.option,autoresize:""},on:{click:t.handleClick}})],1)])],1)},xe=[],ke=(s("b0c0"),s("94b1"),{components:{ECharts:c["a"]},data:function(){return{popup_active:!1,res:"TIME, SUCCESS_RATIO, NOISE_STRENGTH\n",interference_strength:0,itf_start_sf:0,sf_id:0,topo:{},shift_flag:!1,sortedNodes:[],cells:[],sim_timer:{},started:!1,running:!1,simulation_log:"",activeTabIdx:1,rttPerLayer:{},dsr:0,history:{latency:[],rtt:[],dsr:[]},result:{avg_latency:[],avg_rtt:[],dsr:[]},option:{grid:[{top:"10%",height:"40%",left:"7%",right:"8%"},{top:"62%",bottom:"15%",left:"7%",right:"8%"}],xAxis:[{name:"time (s)",type:"category",data:[],nameTextStyle:{fontSize:13},nameGap:10,axisLabel:{fontSize:10},splitNumber:1,boundaryGap:!0,animation:!1},{name:"time (s)",type:"category",data:[],nameTextStyle:{fontSize:13},nameGap:10,axisLabel:{fontSize:10},boundaryGap:!0,gridIndex:1,animation:!1}],yAxis:[{name:"Success Ratio (%)",nameTextStyle:{fontSize:13},type:"value",axisLabel:{fontSize:12},gridIndex:0,boundaryGap:[0,0]},{name:"Noise Strength",gridIndex:1,boundaryGap:[0,0]}],dataZoom:[{type:"inside",start:0,end:100,xAxisIndex:[0,1]},{start:0,end:100,xAxisIndex:[0,1],handleIcon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4v1.3h1.3v-1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7V23h6.6V24.4z M13.3,19.6H6.7v-1.4h6.6V19.6z",handleSize:"80%",handleStyle:{color:"#fff",shadowBlur:3,shadowColor:"rgba(0, 0, 0, 0.6)",shadowOffsetX:2,shadowOffsetY:2}}],series:[{name:"sr",type:"line",symbol:"none",xAxisIndex:0,animation:!1,data:[]},{name:"noise lv",type:"line",symbol:"none",xAxisIndex:1,yAxisIndex:1,animation:!1,data:[]}]}}},methods:{copy_res:function(){this.$refs.res.select(),document.execCommand("copy")},run:function(){var t=this;this.activeTabIdx=0,this.started?this.$EventBus.$emit("simulation_run",!0):(this.simulation_log+="Simulation started\n",this.$nextTick((function(){t.$refs.logs.scrollTop=t.$refs.logs.scrollHeight})),setTimeout((function(){t.$EventBus.$emit("simulation_run",!0)}),500)),this.started=!0,this.running=!0},runV2:function(){var t=this;this.sim_timer=setInterval((function(){t.computeRTTSR()}),40),this.started=!0,this.running=!0},stopV2:function(){clearInterval(this.sim_timer),this.running=!1},finishV2:function(){clearInterval(this.sim_timer),this.running=!1},stop:function(){this.activeTabIdx=0,this.$EventBus.$emit("simulation_run",!1),this.running=!1},stepFwd:function(){this.activeTabIdx=0,this.started=!0,this.$EventBus.$emit("simulation_step","forward")},stepBwd:function(){this.activeTabIdx=0,this.$EventBus.$emit("simulation_step","back")},finish:function(){this.activeTabIdx=0,this.$EventBus.$emit("simulation_finish",!0),this.running=!1},computeRTTSR:function(){var t=0;for(var e in this.topo)if(0!=e){for(var s=JSON.parse(JSON.stringify(this.topo[e].path)),a=this.topo[e].path.length-2;a>=0;a--)s.push(s[a]);for(var i in s){var o=s[i],n=0;if(-1!=this.topo[o].distance2interference&&(n=this.interference_strength/this.topo[o].distance2interference),Math.random()<=n){t++;break}}}var r=100*(1-t/(Object.keys(this.topo).length-1));this.option.xAxis[0].data.push(this.sf_id),this.option.xAxis[1].data.push(this.sf_id),this.option.series[0].data.push(r),this.option.series[1].data.push(this.interference_strength),this.res+=this.sf_id+", "+r+", "+this.interference_strength+"\n",this.sf_id++,(this.sf_id-this.itf_start_sf)%120==0&&(this.interference_strength-=.2,this.interference_strength<0&&(this.interference_strength=0),this.$EventBus.$emit("interference_strength",this.interference_strength))},handleClick:function(t){this.$EventBus.$emit("schSelectNode",t.name)}},mounted:function(){var t=this;window.sim=this,this.$EventBus.$on("topo",(function(e){t.topo=e.data,window.console.log(t.topo)})),this.$EventBus.$on("changedTopo",(function(e){t.topo=e})),this.$EventBus.$on("new_itf",(function(){t.interference_strength=.9,t.itf_start_sf=t.sf_id})),this.$EventBus.$on("affected",(function(e){t.topo=e.data})),this.$EventBus.$on("cells1",(function(e){t.cells=e,t.computeRTTSR()})),this.$EventBus.$on("simulation_log",(function(e){t.simulation_log+="# Slot "+e.slot+"\n";for(var s=0;s<e.tx.length;s++)t.simulation_log+="\tChannel "+e.tx[s][2]+": "+e.tx[s][0]+"->"+e.tx[s][1]+"\n";t.$nextTick((function(){t.$refs.logs.scrollTop=t.$refs.logs.scrollHeight}))})),this.$EventBus.$on("simulation_finish",(function(){t.simulation_log+="Finished! Collecting results...\n",t.$nextTick((function(){t.$refs.logs.scrollTop=t.$refs.logs.scrollHeight})),t.draw(),setTimeout((function(){t.activeTabIdx=1}),1e3),t.running=!1,t.started=!1}))}}),Se=ke,$e=(s("a9b1"),Object(f["a"])(Se,we,xe,!1,null,null,null)),ze=$e.exports,Te=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("vs-card",[s("div",{attrs:{slot:"header"},slot:"header"},[s("h4",[t._v("Scheduler: APaS ")])]),s("ECharts",{attrs:{id:"sch-table",autoresize:"",options:t.option},on:{click:t.handleClickSch}})],1)},Ee=[],Ce=s("9cde"),Re={components:{ECharts:c["a"]},data:function(){var t=this;return{i:0,autoFlag:0,simOrReal:"Simulation",partition_changes:{},selectedCell:{slot:[]},auto:{},res:{},SlotFrameLength:100,Channels:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16],slots:[],links:{},topo:[],seq:[],bcnSubslots:{},nonOptimalCnt:0,nonOptimalList:[],unAligned:{},option:{toolbox:{feature:{}},tooltip:{formatter:function(e){for(var s=0;s<t.slots.length;s++)if(t.slots[s].slot[0]==e.data[0]-.5&&t.slots[s].slot[1]==e.data[1]-.5){if("beacon"==t.slots[s].type){var a="[".concat(e.data[0]-.5,", ").concat(e.data[1]-.5,"]<br/>\n                            Beacon<br/>\n                            Subslots<br/>");for(var i in t.bcnSubslots[t.slots[s].slot[0]]){var o=i.toString();o=o.length<2?"Â Â "+o:o,a+="".concat(o,"Â Â -Â Â ").concat(t.bcnSubslots[t.slots[s].slot[0]][i],"<br/>")}return a}return"[".concat(e.data[0]-.5,", ").concat(e.data[1]-.5,"]<br/>\n                        ").concat(t.slots[s].type.replace(/^\S/,(function(t){return t.toUpperCase()})),"<br/>\n                        Layer ").concat(t.slots[s].layer,"<br/>\n                        ").concat(t.slots[s].sender," -> ").concat(t.slots[s].receiver)}return e.data}},grid:{top:"20%",left:"3%",right:"1%",bottom:"7.5%"},xAxis:{min:0,max:100,splitNumber:100,minInterval:1,axisLabel:{formatter:function(t){if(t%2==1)return t},fontSize:10},name:"Slot Offset",type:"value",position:"top",nameLocation:"middle",nameTextStyle:{fontWeight:"bold",padding:15,fontSize:12},data:[],splitArea:{show:!0}},yAxis:{name:"Channel Offset",type:"value",min:1,max:17,interval:1,inverse:!0,nameLocation:"middle",nameTextStyle:{fontWeight:"bold",padding:10,fontSize:12},data:[],splitArea:{show:!0},axisLabel:{fontSize:10}},dataZoom:[{type:"inside",start:0,end:100}],visualMap:{min:0,max:1,show:!0,type:"piecewise",inRange:{color:["green","#4575b4","#d73027"]},pieces:[{min:-1,max:-1,label:"Beacon"},{min:0,max:0,label:"Uplink"},{min:1,max:1,label:"Downlink"}],textStyle:{fontSize:12},position:"top",orient:"horizontal",top:0,right:"1%"},series:[{type:"heatmap",data:[],label:{show:!1,color:"white",fontWeight:"bold",fontSize:14.5,formatter:function(e){for(var s=0;s<t.slots.length;s++)if(t.slots[s].slot[0]==e.data[0]-.5&&t.slots[s].slot[1]==e.data[1]-.5&&"beacon"!=t.slots[s].type)return"".concat(t.slots[s].sender,"\n").concat(t.slots[s].receiver);return""}},itemStyle:{borderWidth:1.1,borderType:"solid",borderColor:"white"},markLine:{data:[],symbolSize:8,lineStyle:{color:"yellow",width:3,type:"solid"},animationDuration:300},markArea:{silent:!0,label:{position:"bottom"},data:[]}},{type:"line",markLine:{data:[],symbol:"pin",symbolSize:8,lineStyle:{color:"red",width:3,type:"solid"},label:{formatter:function(t){return"Slot "+(t.data.coord[0]-.5).toString()},fontSize:13},animationDuration:300,animationDurationUpdate:500}}]}}},methods:{drawPartition:function(){var t=this;for(var e in this.slots=[],this.links)this.links[e]={name:e,used:0,non_optimal:0};this.option.yAxis.data=this.Channels,this.$api.gateway.getPartition().then((function(e){"Simulation"==t.simOrReal&&(e={data:{data:t.res.partitions}}),t.partitions=e.data.data;for(var s=[],a={B:{rgb:"#ffa000",opacity:.5},U1:{rgb:"#1d71f2",opacity:.6},D1:{rgb:"#ffff00",opacity:.6},U2:{rgb:"#4e92f5",opacity:.5},D2:{rgb:"#ffff60",opacity:.6},U3:{rgb:"#80b3f8",opacity:.5},D3:{rgb:"#ffff80",opacity:.5},U4:{rgb:"#b1d3fb",opacity:.5},D4:{rgb:"#ffffc0",opacity:.5},U5:{rgb:"#e3f4fe",opacity:.6},D5:{rgb:"#ffffee",opacity:.6},U6:{rgb:"#e3f4fe",opacity:.4},D6:{rgb:"#ffffee",opacity:.4}},i=0;i<e.data.data.length;i++){if("beacon"==e.data.data[i].type)for(var o=e.data.data[i].range[0];o<e.data.data[i].range[1];o++)t.bcnSubslots[o]={};if(e.data.data[i].range[0]<e.data.data[i].range[1]){var n=e.data.data[i].type[0].toUpperCase();"B"!=n&&(n+=e.data.data[i].layer+1);var r=1,l=17,d="insideBottom";"beacon"!=e.data.data[i].type&&(r=1+e.data.data[i].channels[0],l=1+e.data.data[i].channels[1]),d="uplink"==e.data.data[i].type?"insideBottomLeft":"insideBottomRight",t.links[n]={name:n,used:0,non_optimal:0},s.push([{name:n,xAxis:e.data.data[i].range[0],yAxis:r},{xAxis:e.data.data[i].range[1],yAxis:l,itemStyle:{color:a[n].rgb,opacity:a[n].opacity,borderColor:"black",borderWidth:.1},label:{color:"black",fontWeight:"bold",fontSize:12,position:d}}])}}s.push(),t.option.series[0].markArea.data=s,t.drawSchedule()}))},drawSchedule:function(){var t=this;this.$api.gateway.getSchedule().then((function(e){if("Simulation"==t.simOrReal){e={data:{data:t.res.cells}};for(var s=0;s<e.data.data.length;s++)e.data.data[s].row=e.data.data[s].cell.row,e.data.data[s].type=e.data.data[s].cell.type,e.data.data[s].layer=e.data.data[s].cell.layer,e.data.data[s].sender=e.data.data[s].cell.sender,e.data.data[s].receiver=e.data.data[s].cell.receiver}t.nonOptimalCnt=0;var a=[];t.slots=e.data.data;for(var i=0;i<e.data.data.length;i++){var o=e.data.data[i].type[0].toUpperCase();"beacon"==e.data.data[i].type?e.data.data[i].layer="":o+=e.data.data[i].layer+=1,null==t.links[o]&&(t.links[o]={name:o,used:0,non_optimal:0}),t.links[o].used+=1;var n=1;"uplink"==e.data.data[i].type&&(n=0),"beacon"==e.data.data[i].type&&(n=-1),null!=t.bcnSubslots[e.data.data[i].slot[0]]&&"beacon"==e.data.data[i].type&&(t.bcnSubslots[e.data.data[i].slot[0]][e.data.data[i].subslot[0]]=e.data.data[i].sender),a.push([e.data.data[i].slot[0]+.5,e.data.data[i].slot[1]+.5,n])}for(var r in t.option.series[0].data=a,t.links)0==t.links[r].used&&delete t.links[r]}))},handleIntraPartitionAdjustmentBt:function(){var t=this;this.res=Object(Ce["intra_partition_adjustment"])(window.grid.nodes),this.drawPartition(),this.selectedCell.slot.length>0&&setTimeout((function(){t.findPath(t.selectedCell)}),800)},handleInterPartitionAdjustmentBt:function(){var t=this;this.res=Object(Ce["inter_partition_adjustment"])(),this.drawPartition(),this.selectedCell.slot.length>0&&setTimeout((function(){t.findPath(t.selectedCell)}),300)},findPath:function(t){this.option.series[0].markLine.data=[];for(var e=0;e<this.slots.length;e++)this.slots[e].sender==t.sender&&"uplink"==this.slots[e].type&&(t=this.slots[e]);for(var s=0;s<this.slots.length;s++)this.slots[s].receiver==t.sender&&this.slots[s].type==t.type&&this.option.series[0].markLine.data.push([{xAxis:this.slots[s].slot[0]+1,yAxis:this.slots[s].slot[1]+.5},{xAxis:t.slot[0],yAxis:t.slot[1]+.5,lineStyle:{color:"lime",width:4}}]);var a={};while(0!=t.receiver)a=this.findSlot(t.receiver),this.option.series[0].markLine.data.push([{xAxis:t.slot[0]+1,yAxis:t.slot[1]+.5},{xAxis:a.slot[0],yAxis:a.slot[1]+.5}]),t=a},handleClickSch:function(t){if(this.option.series[0].markLine.data=[],t.data[0]-.5!=this.selectedCell.slot[0]||t.data[1]-.5!=this.selectedCell.slot[1])for(var e={},s=0;s<this.slots.length;s++)this.slots[s].slot[0]==t.data[0]-.5&&this.slots[s].slot[1]==t.data[1]-.5&&(e=this.slots[s],this.selectedCell=e,this.findPath(e));else this.selectedCell={slot:[]}},findSlot:function(t){for(var e=0;e<this.slots.length;e++)if(this.slots[e].cell.sender==t&&"uplink"==this.slots[e].cell.type)return this.slots[e];return 0},update_sch:function(){this.res=Object(Ce["get_sch"])(),this.drawPartition()}},mounted:function(){var t=this;window.table=this,this.$EventBus.$emit("init",1),"Simulation"==this.simOrReal?this.$EventBus.$once("topo",(function(e){t.topo=e.data,t.seq=e.seq,t.res=Object(Ce["init1"])(e.data,e.seq),t.$EventBus.$emit("cells1",t.res.cells),t.drawPartition(),window.sch=Object(Ce["get_scheduler"])()})):this.drawPartition(),this.$EventBus.$on("schSelectNode",(function(e){var s=t.findSlot(e);t.findPath(s)})),this.$EventBus.$on("kicked",(function(e){Object(Ce["kick"])(e),t.res=Object(Ce["get_sch"])(),t.drawPartition()})),this.$EventBus.$on("clear",(function(e){e&&(t.res=Object(Ce["init1"])(t.topo,t.seq),t.drawPartition())})),this.$EventBus.$on("changed",(function(e){for(var s=0;s<e.length;s++)Object(Ce["dynamic_schedule"])(e[s]);t.res=Object(Ce["get_sch"])(),t.drawPartition(),t.$EventBus.$emit("cells1",t.res.cells),t.selectedCell.slot.length>0&&setTimeout((function(){t.findPath(t.selectedCell)}),500)})),this.$EventBus.$on("simulation_cur_slot",(function(e){t.option.series[1].markLine.data=[{xAxis:e+.5}]})),this.$EventBus.$on("simulation_finish",(function(){t.option.series[1].markLine.data=[]}))}},Oe=Re,Le=(s("b600"),Object(f["a"])(Oe,Te,Ee,!1,null,"183cb6df",null)),Be=Le.exports,Pe={components:{Grid:be,SchTable:Be,Sim:ze}},Ne=Pe,Ae=Object(f["a"])(Ne,ue,fe,!1,null,null,null),je=Ae.exports,Me=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div")},Ie=[],We={components:{}},Ge=We,De=Object(f["a"])(Ge,Me,Ie,!1,null,null,null),Je=De.exports;a["default"].use(M["a"]);var Fe=new M["a"]({routes:[{path:"/",redirect:"/dashboard"},{path:"/dashboard",component:he},{path:"/scheduler",component:je},{path:"/analysis",component:Je}]}),Ue=s("bc3a"),qe=s.n(Ue),He=qe.a.create();He.defaults.baseURL="/",He.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",He.interceptors.response.use((function(t){return t}),(function(t){return Promise.reject(t)}));var Xe=He,Ve={getGateway:function(t){return Xe.get("/api/gateway?range=".concat(t))},getTopology:function(t,e){return Xe.get("/api/".concat(t,"/topology?range=").concat(e))},getTopoHistory:function(){return Xe.get("/api/any/topology/history")},getSchedule:function(){return Xe.get("/api/any/schedule")},getPartition:function(){return Xe.get("/api/any/schedule/partition")},getPartitionHARP:function(){return Xe.get("/api/any/schedule/partition_harp")},getSubPartitionHARP:function(){return Xe.get("/api/any/schedule/sp_harp")},getNWStat:function(t,e){return Xe.get("/api/".concat(t,"/nwstat?range=").concat(e))},getNWStatByID:function(t,e,s,a){return Xe.get("/api/".concat(t,"/nwstat/").concat(e,"?range=").concat(s,"&advanced=").concat(a))},getChInfoByID:function(t,e,s){return Xe.get("/api/".concat(t,"/nwstat/").concat(e,"/channel?range=").concat(s))},getBattery:function(t,e){return Xe.get("/api/".concat(t,"/battery?range=").concat(e))},getBatteryByID:function(t,e,s){return Xe.get("/api/".concat(t,"/battery/").concat(e,"?range=").concat(s))},getNoiseLevel:function(t,e){return Xe.get("/api/".concat(t,"/noise?range=").concat(e))},getTxTotal:function(){return Xe.get("/api/any/txtotal?range=year")}},Ye=Ve,Ze={gateway:Ye},Ke=s("755e");s("04f2"),s("c789"),s("15f5"),s("7051");a["default"].prototype.$EventBus=new a["default"],a["default"].prototype.$api=Ze,a["default"].use(j.a),a["default"].use(Ke,{load:{key:"AIzaSyCxlmDq-hB_CguPXR3OH_tTkf0X2HO3XdU",libraries:"places,drawing,visualization"},installComponents:!0}),a["default"].config.productionTip=!1,new a["default"]({router:Fe,render:function(t){return t(N)}}).$mount("#app")},"5cd4":function(t,e,s){var a=s("24fb");e=a(!1),e.push([t.i,"#r[data-v-93048102]{font-size:.92rem;overflow:hidden}",""]),t.exports=e},"5db5":function(t,e,s){var a=s("a843");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=s("499e").default;i("588d21ac",a,!0,{sourceMap:!1,shadowMode:!1})},"603f":function(t,e,s){var a=s("24fb");e=a(!1),e.push([t.i,".footer[data-v-3e4ee0f8]{overflow:hidden;position:absolute;bottom:0}#card[data-v-3e4ee0f8],.footer[data-v-3e4ee0f8]{height:50px;width:100%}#card[data-v-3e4ee0f8]{margin:0;padding:5px;border-radius:0;color:#000}#card h3[data-v-3e4ee0f8]{font-size:.7rem}a[data-v-3e4ee0f8]{color:#36454a}a[data-v-3e4ee0f8]:hover{text-decoration:underline}",""]),t.exports=e},"61e4":function(t,e,s){"use strict";var a=s("5db5"),i=s.n(a);i.a},6503:function(t,e,s){var a=s("24fb");e=a(!1),e.push([t.i,".layers[data-v-3a8b9d87]{height:55px}.expand-enter-active[data-v-3a8b9d87],.expand-leave-active[data-v-3a8b9d87]{-webkit-transition:all .3s;transition:all .3s;height:55px;overflow:hidden}.expand-enter[data-v-3a8b9d87],.expand-leave-to[data-v-3a8b9d87]{height:0}",""]),t.exports=e},"6c60":function(t,e,s){"use strict";var a=s("7608"),i=s.n(a);i.a},7021:function(t,e,s){var a=s("1107");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=s("499e").default;i("62f79d3e",a,!0,{sourceMap:!1,shadowMode:!1})},"75a1":function(t,e,s){"use strict";var a=s("31ff"),i=s.n(a);i.a},7608:function(t,e,s){var a=s("1307");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=s("499e").default;i("b2045154",a,!0,{sourceMap:!1,shadowMode:!1})},"7ea3":function(t,e,s){var a=s("24fb");e=a(!1),e.push([t.i,".cnt[data-v-083ff0da]{font-size:1.15rem}.cnt>h3[data-v-083ff0da]{font-size:1.5rem}.cnt>h5[data-v-083ff0da]{color:#3b4f63}",""]),t.exports=e},8082:function(t,e,s){var a=s("6503");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=s("499e").default;i("e071554c",a,!0,{sourceMap:!1,shadowMode:!1})},8432:function(t,e,s){var a=s("24fb");e=a(!1),e.push([t.i,".echarts[data-v-5c3fbead]{width:100%;height:228px}",""]),t.exports=e},"8dca":function(t,e,s){var a=s("24fb");e=a(!1),e.push([t.i,"#table[data-v-b2a4b412]{min-height:405px}th[data-v-b2a4b412]{font-size:.8rem}td[data-v-b2a4b412]{font-size:.75rem}",""]),t.exports=e},"95f0":function(t,e,s){"use strict";var a=s("d896"),i=s.n(a);i.a},9941:function(t,e,s){"use strict";var a=s("c03f"),i=s.n(a);i.a},"9cde":function(t,e,s){s("b64b");var a=s("2d23");function i(){var t=[];sch=o,t.push({type:"beacon",layer:0,range:[sch.partition.broadcast.start,sch.partition.broadcast.end]});for(var e=0;e<Object.keys(sch.partition[0].uplink).length;e++)for(var s=0;s<o.rows;s++)t.push({type:"uplink",layer:e,row:s,channels:sch.partition[s].uplink[e].channels,range:[sch.partition[s].uplink[e].start,sch.partition[s].uplink[e].end]}),t.push({type:"downlink",layer:e,row:s,channels:sch.partition[s].downlink[e].channels,range:[sch.partition[s].downlink[e].start,sch.partition[s].downlink[e].end]});return t}var o={},n={},r={},d={},c={},h={},u={},f=[];function p(){for(var t=0;t<f.length;t++){var e=f[t],s=u[e].parent,a=u[e].layer,i=o.find_empty_subslot([e],8,{type:"beacon",layer:0});o.add_subslot(i.slot,i.subslot,{type:"beacon",layer:a,row:i.row,sender:e,receiver:65535},i.is_optimal);i=o.find_empty_subslot([e,s],1,{type:"uplink",layer:a});o.add_subslot(i.slot,i.subslot,{type:"uplink",layer:a,row:i.row,sender:e,receiver:s},i.is_optimal);i=o.find_empty_subslot([s,e],1,{type:"downlink",layer:a});o.add_subslot(i.slot,i.subslot,{type:"downlink",layer:a,row:i.row,sender:s,receiver:e},i.is_optimal)}}function v(){for(var t=0;t<f.length;t++){var e=f[t],s=u[e].parent,a=u[e].layer,i=n.find_empty_subslot([e,s],1,{type:"uplink",layer:a});null!=i&&n.add_subslot(i.slot,i.subslot,{type:"uplink",layer:a,row:i.row,sender:e,receiver:s},i.is_optimal);i=n.find_empty_subslot([s,e],1,{type:"downlink",layer:a});null!=i&&n.add_subslot(i.slot,i.subslot,{type:"downlink",layer:a,row:i.row,sender:s,receiver:e},i.is_optimal)}}function _(){for(var t=0;t<f.length;t++){var e=f[t],s=u[e].parent,a=u[e].layer,i=r.find_empty_subslot([e],8,{type:"beacon",layer:0});r.add_subslot(i.slot,i.subslot,{type:"beacon",layer:a,row:i.row,sender:e,receiver:65535},i.is_optimal);i=r.find_empty_subslot([e,s],1,{type:"uplink",layer:a});r.add_subslot(i.slot,i.subslot,{type:"uplink",layer:a,row:i.row,sender:e,receiver:s},i.is_optimal);i=r.find_empty_subslot([s,e],1,{type:"downlink",layer:a});r.add_subslot(i.slot,i.subslot,{type:"downlink",layer:a,row:i.row,sender:s,receiver:e},i.is_optimal)}}function m(){for(var t=0,e=0;e<f.length;e++){var s=f[e];u[s].path.length-1>t&&(t=u[s].path.length-1)}console.log("max hop",t);for(var a=0;a<f.length;a++){s=f[a];for(var i=u[s].parent,o=u[s].layer,n=u[s].path.length-1,r=0;r<t+1-n;r++){var l=d.find_empty_subslot([s,i],1,{type:"uplink",layer:o});null!=l?d.add_subslot(l.slot,l.subslot,{type:"uplink",layer:o,row:l.row,sender:s,receiver:i},l.is_optimal):console.log("cannot find an optimal cell")}}}function y(){for(var t=0;t<f.length;t++){var e=f[t],s=u[e].parent,a=u[e].layer,i=h.find_empty_subslot([e],8,{type:"beacon",layer:0});h.add_subslot(i.slot,i.subslot,{type:"beacon",layer:a,sender:e,receiver:65535},i.is_optimal);i=h.find_empty_subslot([e,s],1,{type:"uplink",layer:a});h.add_subslot(i.slot,i.subslot,{type:"uplink",layer:a,sender:e,receiver:s},i.is_optimal);i=h.find_empty_subslot([s,e],1,{type:"downlink",layer:a});h.add_subslot(i.slot,i.subslot,{type:"downlink",layer:a,sender:s,receiver:e},i.is_optimal)}}function g(t){var e=o.find_empty_subslot([t.id,t.parent],1,{type:"uplink",layer:t.layer});return o.add_subslot(e.slot,e.subslot,{row:e.row,type:"uplink",layer:t.layer,sender:t.id,receiver:t.parent},e.is_optimal),e=o.find_empty_subslot([t.parent,t.id],1,{type:"downlink",layer:t.layer}),o.add_subslot(e.slot,e.subslot,{row:e.row,type:"downlink",layer:t.layer,sender:t.parent,receiver:t.id},e.is_optimal),e.is_optimal}function b(t){for(var e=JSON.parse(JSON.stringify(o.used_subslot)),s=0;s<t.length;s++){node=t[s];for(var a=0;a<e.length;a++)("uplink"==e[a].cell.type&&e[a].cell.sender==node||"downlink"==e[a].cell.type&&e[a].cell.receiver==node)&&o.remove_slot({slot_offset:e[a].slot[0],channel_offset:e[a].slot[1]})}}function w(t){for(var e=JSON.parse(JSON.stringify(n.used_subslot)),s=0;s<t.length;s++){node=t[s];for(var a=0;a<e.length;a++)("uplink"==e[a].cell.type&&e[a].cell.sender==node||"downlink"==e[a].cell.type&&e[a].cell.receiver==node)&&n.remove_slot({slot_offset:e[a].slot[0],channel_offset:e[a].slot[1]})}}function x(t){for(var e=JSON.parse(JSON.stringify(r.used_subslot)),s=0;s<t.length;s++){node=t[s];for(var a=0;a<e.length;a++)("uplink"==e[a].cell.type&&e[a].cell.sender==node||"downlink"==e[a].cell.type&&e[a].cell.receiver==node)&&r.remove_slot({slot_offset:e[a].slot[0],channel_offset:e[a].slot[1]})}}function k(t){for(var e=JSON.parse(JSON.stringify(d.used_subslot)),s=0;s<t.length;s++){node=t[s];for(var a=0;a<e.length;a++)("uplink"==e[a].cell.type&&e[a].cell.sender==node||"downlink"==e[a].cell.type&&e[a].cell.receiver==node)&&d.remove_slot({slot_offset:e[a].slot[0],channel_offset:e[a].slot[1]})}}function S(t,e){o=a.create_scheduler(100,[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16],"partition"),u=t;for(var s={0:[]},n=1;n<Object.keys(u).length;n++)null!=s[u[n].parent]?s[u[n].parent].push(n):s[u[n].parent]=[n];return f=e,p(),{cells:o.used_subslot,partitions:i()}}function $(t,e){n=a.create_scheduler(127,[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16],"LLSF"),f=e,v();var s=n.count_used_slots(),i=n.count_multi_ch_slots();return{cells:n.used_subslot,n1:s,n2:i}}function z(t,e){r=a.create_scheduler(127,[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16],"random"),u=t;for(var s={0:[]},o=1;o<Object.keys(u).length;o++)null!=s[u[o].parent]?s[u[o].parent].push(o):s[u[o].parent]=[o];return r.setTopology(s),f=e,_(),{cells:r.used_subslot,partitions:i()}}function T(t,e){d=a.create_scheduler(127,[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16],"LDSF"),u=t;for(var s={0:[]},i=1;i<Object.keys(u).length;i++)null!=s[u[i].parent]?s[u[i].parent].push(i):s[u[i].parent]=[i];f=e,m();var o=d.count_used_slotss(),n=d.count_multi_ch_slots();return{cells:d.used_subslot,n1:o,n2:n}}function E(t,e){d=a.create_scheduler(127,[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16],"block"),u=t;for(var s={0:[]},i=1;i<Object.keys(u).length;i++)null!=s[u[i].parent]?s[u[i].parent].push(i):s[u[i].parent]=[i];return f=e,m(),{cells:c.used_subslot}}function C(t,e){h=a.create_scheduler(127,[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16],"partition+"),u=t;for(var s={0:[]},o=1;o<Object.keys(u).length;o++)null!=s[u[o].parent]?s[u[o].parent].push(o):s[u[o].parent]=[o];return f=e,y(),{cells:h.used_subslot,partitions:i()}}function R(){return{cells:o.used_subslot,partitions:i()}}function O(){return{cells:n.used_subslot}}function L(){return{cells:r.used_subslot}}function B(){return{cells:d.used_subslot}}function P(){return{cells:c.used_subslot}}function N(){return{cells:c.used_subslot}}function A(){}function j(t){for(var e=0,s={0:[]},a=1;a<Object.keys(t).length;a++)null!=s[t[a].parent]?s[t[a].parent].push(a):s[t[a].parent]=[a];return o.setTopology(s),l++,e+=o.intra_partition_adjustment("uplink",l),5==l&&(l=-1),{cells:o.used_subslot,partitions:i(),edits:e}}function M(){return o.adjust_unaligned_cells(),{cells:o.used_subslot,partitions:i()}}function I(){return h}l=-1,t.exports={init1:S,init2:$,init3:z,init4:T,init5:E,init6:C,intra_partition_adjustment:j,inter_partition_adjustment:M,kick:b,kick2:w,kick3:x,kick4:k,dynamic_schedule:g,get_scheduler:I,get_sch:R,get_sch2:O,get_sch3:L,get_sch4:B,get_sch5:P,get_sch6:N,foo:A}},a1d9:function(t,e,s){var a=s("8dca");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=s("499e").default;i("0dbfabb4",a,!0,{sourceMap:!1,shadowMode:!1})},a843:function(t,e,s){var a=s("24fb");e=a(!1),e.push([t.i,".header-sidebar[data-v-5ddbea69]{-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.header-sidebar[data-v-5ddbea69],.header-sidebar h4[data-v-5ddbea69]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:100%}",""]),t.exports=e},a85a:function(t,e,s){var a=s("24fb");e=a(!1),e.push([t.i,".echarts[data-v-3f880cc8]{width:140px;height:90px}",""]),t.exports=e},a9b1:function(t,e,s){"use strict";var a=s("7021"),i=s.n(a);i.a},b309:function(t,e,s){var a=s("a85a");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=s("499e").default;i("33842022",a,!0,{sourceMap:!1,shadowMode:!1})},b48e:function(t,e,s){var a=s("3c84");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=s("499e").default;i("82368278",a,!0,{sourceMap:!1,shadowMode:!1})},b503:function(t,e,s){var a=s("5cd4");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=s("499e").default;i("79bfc012",a,!0,{sourceMap:!1,shadowMode:!1})},b600:function(t,e,s){"use strict";var a=s("b8cb"),i=s.n(a);i.a},b8cb:function(t,e,s){var a=s("cc91");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=s("499e").default;i("9590f324",a,!0,{sourceMap:!1,shadowMode:!1})},b93f:function(t,e,s){var a=s("24fb");e=a(!1),e.push([t.i,"#events{text-align:center;color:#fff;font-size:1rem;display:block}.echarts{width:400px;height:100px}",""]),t.exports=e},c03f:function(t,e,s){var a=s("e36f");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=s("499e").default;i("5e58815f",a,!0,{sourceMap:!1,shadowMode:!1})},c270:function(t){t.exports=JSON.parse('{"0":{"parent":-1,"position":[15,4],"layer":-1,"path":[0],"loss_rate":0},"1":{"parent":2,"position":[12,5],"layer":1,"path":[1,2,0],"loss_rate":0},"2":{"parent":0,"position":[13,6],"layer":0,"path":[2,0],"loss_rate":0},"3":{"parent":11,"position":[6,6],"layer":3,"path":[3,11,5,2,0],"loss_rate":0},"4":{"parent":0,"position":[16,6],"layer":0,"path":[4,0],"loss_rate":0},"5":{"parent":2,"position":[10,6],"layer":1,"path":[5,2,0],"loss_rate":0},"6":{"parent":11,"position":[7,7],"layer":3,"path":[6,11,5,2,0],"loss_rate":0},"7":{"parent":0,"position":[13,3],"layer":0,"path":[7,0],"loss_rate":0},"8":{"parent":7,"position":[10,3],"layer":1,"path":[8,7,0],"loss_rate":0},"9":{"parent":8,"position":[7,3],"layer":2,"path":[9,8,7,0],"loss_rate":0},"10":{"parent":20,"position":[2,1],"layer":4,"path":[10,20,9,8,7,0],"loss_rate":0},"11":{"parent":5,"position":[7,6],"layer":2,"path":[11,5,2,0],"loss_rate":0},"12":{"parent":8,"position":[8,4],"layer":2,"path":[12,8,7,0],"loss_rate":0},"13":{"parent":11,"position":[6,8],"layer":3,"path":[13,11,5,2,0],"loss_rate":0},"14":{"parent":23,"position":[14,1],"layer":1,"path":[14,23,0],"loss_rate":0},"15":{"parent":8,"position":[10,4],"layer":2,"path":[15,8,7,0],"loss_rate":0},"16":{"parent":9,"position":[5,3],"layer":3,"path":[16,9,8,7,0],"loss_rate":0},"17":{"parent":18,"position":[1,5],"layer":4,"path":[17,18,9,8,7,0],"loss_rate":0},"18":{"parent":9,"position":[4,4],"layer":3,"path":[18,9,8,7,0],"loss_rate":0},"19":{"parent":16,"position":[2,3],"layer":4,"path":[19,16,9,8,7,0],"loss_rate":0},"20":{"parent":9,"position":[5,1],"layer":3,"path":[20,9,8,7,0],"loss_rate":0},"21":{"parent":5,"position":[9,7],"layer":2,"path":[21,5,2,0],"loss_rate":0},"22":{"parent":18,"position":[2,6],"layer":4,"path":[22,18,9,8,7,0],"loss_rate":0},"23":{"parent":0,"position":[14,2],"layer":0,"path":[23,0],"loss_rate":0},"24":{"parent":32,"position":[18,5],"layer":1,"path":[24,32,0],"loss_rate":0},"25":{"parent":0,"position":[14,5],"layer":0,"path":[25,0],"loss_rate":0},"26":{"parent":0,"position":[15,5],"layer":0,"path":[26,0],"loss_rate":0},"27":{"parent":0,"position":[16,3],"layer":0,"path":[27,0],"loss_rate":0},"28":{"parent":4,"position":[16,7],"layer":1,"path":[28,4,0],"loss_rate":0},"29":{"parent":5,"position":[10,5],"layer":2,"path":[29,5,2,0],"loss_rate":0},"30":{"parent":0,"position":[16,2],"layer":0,"path":[30,0],"loss_rate":0},"31":{"parent":23,"position":[12,1],"layer":1,"path":[31,23,0],"loss_rate":0},"32":{"parent":0,"position":[17,6],"layer":0,"path":[32,0],"loss_rate":0}}')},c869:function(t){t.exports=JSON.parse('{"beacon":10,"uplink":[9,6,5,4,3],"downlink":[9,6,5,4,3]}')},c8b6:function(t,e,s){var a=s("8432");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=s("499e").default;i("76a6bb85",a,!0,{sourceMap:!1,shadowMode:!1})},cc91:function(t,e,s){var a=s("24fb");e=a(!1),e.push([t.i,".bts[data-v-183cb6df]{float:right}.bts .vs-button[data-v-183cb6df]{margin-left:10px;font-size:.8rem;font-weight:600}#topo[data-v-183cb6df]{height:480px;width:100%}.non-optimal[data-v-183cb6df]{font-weight:600;color:red}.partition-usage[data-v-183cb6df]{font-size:.9rem;text-align:center}.partition-usage #part[data-v-183cb6df]{margin-top:4px}#sch-table[data-v-183cb6df]{width:100%;height:250px}",""]),t.exports=e},d259:function(t,e,s){"use strict";var a=s("4f78"),i=s.n(a);i.a},d2f8:function(t,e,s){var a=s("24fb");e=a(!1),e.push([t.i,"#title{position:absolute;font-weight:600;font-size:1.15rem;margin:10px}.topo .vs-card--content{padding:0}.topo .vs-tabs--btn span{font-size:.9rem}",""]),t.exports=e},d52d:function(t,e,s){"use strict";var a=s("b48e"),i=s.n(a);i.a},d896:function(t,e,s){var a=s("7ea3");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=s("499e").default;i("43fdb940",a,!0,{sourceMap:!1,shadowMode:!1})},dc0e:function(t,e,s){var a=s("3cb8");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=s("499e").default;i("6890d126",a,!0,{sourceMap:!1,shadowMode:!1})},dc1e:function(t,e,s){"use strict";var a=s("e5d4"),i=s.n(a);i.a},dd76:function(t,e,s){"use strict";var a=s("b309"),i=s.n(a);i.a},e0b5:function(t,e,s){"use strict";var a=s("e2ab"),i=s.n(a);i.a},e2ab:function(t,e,s){var a=s("f549");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=s("499e").default;i("096bac8a",a,!0,{sourceMap:!1,shadowMode:!1})},e31a:function(t,e,s){var a=s("24fb");e=a(!1),e.push([t.i,"body,html{max-height:120%;width:100%;margin:0;padding:0;background-color:#ebecf1;font-size:1.15rem}#app{position:relative;min-height:calc(100vh - 80px);font-family:Noto Sans,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;color:#2c3e50;margin-top:80px}#content-wrap{padding-bottom:50px}",""]),t.exports=e},e36f:function(t,e,s){var a=s("24fb");e=a(!1),e.push([t.i,"#r[data-v-1938c24a]{font-size:.92rem;overflow:hidden}",""]),t.exports=e},e527:function(t,e,s){"use strict";var a=s("a1d9"),i=s.n(a);i.a},e5d4:function(t,e,s){var a=s("d2f8");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=s("499e").default;i("3187bd5d",a,!0,{sourceMap:!1,shadowMode:!1})},e8ec:function(t,e,s){var a=s("603f");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=s("499e").default;i("232264d0",a,!0,{sourceMap:!1,shadowMode:!1})},eed4:function(t,e,s){"use strict";var a=s("c8b6"),i=s.n(a);i.a},f409:function(t,e,s){"use strict";var a=s("b503"),i=s.n(a);i.a},f549:function(t,e,s){var a=s("24fb");e=a(!1),e.push([t.i,"#graph[data-v-146e76fa]{width:100%;height:656px}",""]),t.exports=e}});
//# sourceMappingURL=app.3e207994.js.map