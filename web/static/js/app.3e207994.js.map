{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?fe0b","webpack:///./src/components/dashboard/Slider.vue?2ae9","webpack:///./src/components/dashboard/Slider.vue?8b09","webpack:///./src/components/schedule/Sim.vue?ba3e","webpack:///./src/components/schedule/Grid.vue?3918","webpack:///./src/components/dashboard/Slider.vue?b93e","webpack:///./src/components/dashboard/TopoMap.vue?cae3","webpack:///./src/components/schedule/scheduler-apas.js","webpack:///./src/components/dashboard/SchTable.vue?4838","webpack:///./src/components/dashboard/SchTable.vue?a193","webpack:///./src/components/Footer.vue?facb","webpack:///./src/components/Navbar.vue?0710","webpack:///./src/components/dashboard/TopoMap.vue?72e7","webpack:///./src/App.vue?8fd4","webpack:///./src/components/dashboard/Layers.vue?43fc","webpack:///./src/components/dashboard/Events.vue?1f54","webpack:///./src/App.vue?e9c8","webpack:///./src/components/Navbar.vue?db72","webpack:///./src/components/dashboard/Events.vue?c7fe","webpack:///src/components/dashboard/Events.vue","webpack:///./src/components/dashboard/Events.vue?3b89","webpack:///./src/components/dashboard/Events.vue","webpack:///src/components/Navbar.vue","webpack:///./src/components/Navbar.vue?9640","webpack:///./src/components/Navbar.vue","webpack:///./src/components/Sidebar.vue?181f","webpack:///src/components/Sidebar.vue","webpack:///./src/components/Sidebar.vue?d975","webpack:///./src/components/Sidebar.vue","webpack:///./src/components/Footer.vue?e0b6","webpack:///src/components/Footer.vue","webpack:///./src/components/Footer.vue?a982","webpack:///./src/components/Footer.vue","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue","webpack:///./src/pages/Dashboard.vue?ae8c","webpack:///./src/components/dashboard/DeviceCnt.vue?1e3e","webpack:///src/components/dashboard/DeviceCnt.vue","webpack:///./src/components/dashboard/DeviceCnt.vue?9f95","webpack:///./src/components/dashboard/DeviceCnt.vue","webpack:///./src/components/dashboard/Uptime.vue?0bc4","webpack:///src/components/dashboard/Uptime.vue","webpack:///./src/components/dashboard/Uptime.vue?6142","webpack:///./src/components/dashboard/Uptime.vue","webpack:///./src/components/dashboard/NWTable.vue?0b47","webpack:///src/components/dashboard/NWTable.vue","webpack:///./src/components/dashboard/NWTable.vue?a5a3","webpack:///./src/components/dashboard/NWTable.vue","webpack:///./src/components/dashboard/TxTotal.vue?8a5d","webpack:///src/components/dashboard/TxTotal.vue","webpack:///./src/components/dashboard/TxTotal.vue?4e94","webpack:///./src/components/dashboard/TxTotal.vue","webpack:///./src/components/dashboard/RSSiChart.vue?d2e7","webpack:///src/components/dashboard/RSSiChart.vue","webpack:///./src/components/dashboard/RSSiChart.vue?06da","webpack:///./src/components/dashboard/RSSiChart.vue","webpack:///./src/components/dashboard/Topo.vue?65f4","webpack:///./src/components/dashboard/TopoMap.vue?1f13","webpack:///./src/components/dashboard/PowerChart.vue?0cc9","webpack:///src/components/dashboard/PowerChart.vue","webpack:///./src/components/dashboard/PowerChart.vue?e617","webpack:///./src/components/dashboard/PowerChart.vue","webpack:///./src/components/dashboard/Slider.vue?4b2f","webpack:///src/components/dashboard/Slider.vue","webpack:///./src/components/dashboard/Slider.vue?1cbb","webpack:///./src/components/dashboard/Slider.vue","webpack:///./src/components/dashboard/Layers.vue?379d","webpack:///src/components/dashboard/Layers.vue","webpack:///./src/components/dashboard/Layers.vue?c127","webpack:///./src/components/dashboard/Layers.vue","webpack:///src/components/dashboard/TopoMap.vue","webpack:///./src/components/dashboard/TopoMap.vue?4888","webpack:///./src/components/dashboard/TopoMap.vue","webpack:///./src/components/dashboard/TopoGraph.vue?06b9","webpack:///src/components/dashboard/TopoGraph.vue","webpack:///./src/components/dashboard/TopoGraph.vue?9e85","webpack:///./src/components/dashboard/TopoGraph.vue","webpack:///src/components/dashboard/Topo.vue","webpack:///./src/components/dashboard/Topo.vue?1be0","webpack:///./src/components/dashboard/Topo.vue","webpack:///./src/components/dashboard/SchTable.vue?7e93","webpack:///src/components/dashboard/SchTable.vue","webpack:///./src/components/dashboard/SchTable.vue?2a5a","webpack:///./src/components/dashboard/SchTable.vue","webpack:///src/pages/Dashboard.vue","webpack:///./src/pages/Dashboard.vue?1c2e","webpack:///./src/pages/Dashboard.vue","webpack:///./src/pages/Scheduler.vue?10a0","webpack:///./src/components/schedule/Grid.vue?8c94","webpack:///src/components/schedule/Grid.vue","webpack:///./src/components/schedule/Grid.vue?057a","webpack:///./src/components/schedule/Grid.vue","webpack:///./src/components/schedule/Sim.vue?acbf","webpack:///src/components/schedule/Sim.vue","webpack:///./src/components/schedule/Sim.vue?20f1","webpack:///./src/components/schedule/Sim.vue","webpack:///./src/components/schedule/Table.vue?0f50","webpack:///src/components/schedule/Table.vue","webpack:///./src/components/schedule/Table.vue?bc00","webpack:///./src/components/schedule/Table.vue","webpack:///src/pages/Scheduler.vue","webpack:///./src/pages/Scheduler.vue?dae2","webpack:///./src/pages/Scheduler.vue","webpack:///./src/pages/Analysis.vue?c21b","webpack:///src/pages/Analysis.vue","webpack:///./src/pages/Analysis.vue?4695","webpack:///./src/pages/Analysis.vue","webpack:///./src/router/index.js","webpack:///./src/api/base.js","webpack:///./src/api/gateway.js","webpack:///./src/api/index.js","webpack:///./src/main.js","webpack:///./src/components/dashboard/TxTotal.vue?3bcb","webpack:///./src/components/Sidebar.vue?e20e","webpack:///./src/components/Footer.vue?9b95","webpack:///./src/components/Sidebar.vue?d841","webpack:///./src/components/dashboard/Layers.vue?b0f3","webpack:///./src/components/schedule/Grid.vue?420a","webpack:///./src/components/schedule/Sim.vue?08aa","webpack:///./src/components/dashboard/SchTable.vue?1074","webpack:///./src/components/schedule/Grid.vue?3559","webpack:///./src/components/dashboard/DeviceCnt.vue?3ef3","webpack:///./src/components/dashboard/Layers.vue?0ebb","webpack:///./src/components/dashboard/RSSiChart.vue?6d92","webpack:///./src/components/dashboard/NWTable.vue?9827","webpack:///./src/components/dashboard/DeviceCnt.vue?ec15","webpack:///./src/components/dashboard/Uptime.vue?ef8a","webpack:///./src/components/schedule/schedule-dpa-sim.js","webpack:///./src/components/dashboard/NWTable.vue?46bb","webpack:///./src/components/Sidebar.vue?4914","webpack:///./src/components/dashboard/PowerChart.vue?80a7","webpack:///./src/components/schedule/Sim.vue?ac57","webpack:///./src/components/dashboard/PowerChart.vue?e650","webpack:///./src/components/Navbar.vue?2769","webpack:///./src/components/dashboard/TxTotal.vue?0e7d","webpack:///./src/components/schedule/Table.vue?47ba","webpack:///./src/components/schedule/Table.vue?6c5c","webpack:///./src/components/dashboard/Events.vue?2386","webpack:///./src/components/dashboard/Uptime.vue?db7b","webpack:///./src/components/dashboard/RSSiChart.vue?6eda","webpack:///./src/components/schedule/Table.vue?860f","webpack:///./src/components/dashboard/Events.vue?19ec","webpack:///./src/components/dashboard/Topo.vue?32f9","webpack:///./src/components/Navbar.vue?909d","webpack:///./src/components/dashboard/DeviceCnt.vue?e333","webpack:///./src/components/dashboard/TopoMap.vue?2f56","webpack:///./src/components/dashboard/Topo.vue?df3a","webpack:///./src/components/dashboard/PowerChart.vue?8e7f","webpack:///./src/components/dashboard/TopoGraph.vue?a8a5","webpack:///./src/components/dashboard/TopoGraph.vue?28d9","webpack:///./src/App.vue?e7ec","webpack:///./src/components/dashboard/Uptime.vue?ddce","webpack:///./src/components/dashboard/NWTable.vue?aac2","webpack:///./src/components/dashboard/Topo.vue?63e1","webpack:///./src/components/Footer.vue?535f","webpack:///./src/components/dashboard/RSSiChart.vue?49a8","webpack:///./src/components/dashboard/TxTotal.vue?7b67","webpack:///./src/components/dashboard/TopoGraph.vue?c767"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","___CSS_LOADER_API_IMPORT___","content","locals","add","default","RESERVED","SUBSLOTS","ROWS","partition_config","require","partition_init","sf","u_d","Math","floor","beacon","uplink","downlink","partition","broadcast","channel_per_row","slot_cursor","uplink_row","downlink_row","last_uplink_row_boundary","last_downlink_row_boundary","partition_scale","u","tmp","start","end","channels","console","log","raw_list","size","list","JSON","parse","stringify","total","create_scheduler","ch","algorithm","this","slotFrameLength","rows","schedule","Array","topology","0","used_subslot","isFull","nonOptimalCount","slot","channelRows","setTopology","topo","add_slot","cell","add_subslot","offset","period","subslot","is_optimal","sub_start","sub_end","sub","slot_offset","channel_offset","type","layer","sender","receiver","indexOf","remove_slot","remove_subslot","remove_usedsubslot","available_subslot","nodes_list","info","flag","parent","parent_slot","find_cell","inpartition_slots","row","toString","partition_slot_list","k","calc_needed_slots","slots_list","sch_cp","assign_slot_sim","ret","candidate","sendertype","abs","pass","diff","original_size","max","min","adjust_partition_offset","count","adjust_partition_size","side","get_gap","adjustment_summary","adjust","sides","sign","gap","needed_size","affected_cells","node","get_subtree_size","cnt","get_conflict_slots","from","Set","get_idle_slots","get_idles_all","keys","inter_partition_adjustment","get_needed_slots","intra_partition_adjustment","edits","minimize_used_slots","adjust_subtree_distribution","get_subtree_size_list","subtree_sizes","sort","a","b","total_edits","dividerSlot","dividerSlotIndex","ii","copy","maxSubtreeSize","tmp2","cycleStart","item","pos","sequence","new_schedule","xx","adjusted","tmpCellIndex","rmTmpCellFlag","adjust_schedule","old_cell","find_empty_subslot","swapCandidates","conflictCells","conflictSlots","minConflictCellSubtreeSize","haveSwappedFlag","cell1","cell2","adjust_subtree_distribution_v0","schedule_backup","used_subslot_backup","history","new_slot","idleChannels","conflictCellIndex","index","tmpFlag","adjust_gap","have_idle_slots","idle_slots","cells","groups","alpha","beta","ceil","rho","cur_slots","count_used_slots","min_slot_list","shuffle_slots","shuffled_slots","random","temp","ca","cb","a_sublist","b_sublist","count_used_slotss","count_multi_ch_slots","LDSF","block_id","slot_list","block_size","block_num","block_list","block_numz","parent_cell","parent_block_id","LLSF","slots","adjust_unaligned_cells","old","dynamic_partition_adjustment","highest_layer","checkOrder","remove_node","periodOffsetToSubslot","periodOffset","_vm","_h","$createElement","_c","_self","attrs","staticRenderFns","staticClass","_v","staticStyle","option","events","scopedSlots","_u","fn","ref","_l","tr","indextr","_s","datetime","event","components","ECharts","tooltip","trigger","dataZoom","xAxis","yAxis","show","scale","series","smooth","methods","getTopoHistory","$api","gateway","now","Date","nodeList","res","first_appear","curD","getTime","timestamp","toJSON","substr","replace","sensor_id","last_seen","d2","id","curD2","st","start_timestamp","time_series","dd","ddd","mounted","component","Events","reduce","reduceNotRebound","notExpand","hiddenBG","cur_index","model","callback","$$v","active","expression","paths","biu","$route","path","created","Navbar","Sidebar","Footer","gateways","sensorCnt","_e","h","padStart","computeTime","$EventBus","$on","maxItems","currentPage","sensors","on","selectSensor","eui64","toUpperCase","hop","avg_mac_tx_total_diff","toFixed","uplink_latency_avg","e2e_latency_avg","per","selectedSensor","autorefresh","selectGW","selectedGW","selectRange","selectedRange","ranges","drawNWTable","getNWStat","gw","range","sr","uplink_latency_success","mac_per","avg_mac_tx_noack_diff","app_per","avg_app_per_lost_diff","links","nodes","MaxHop","nn","x","y","$emit","watch","handler","txTotal_disp","txTotal","interval","getTxTotal","clearInterval","setInterval","dataAvg","date","xData","yData","dataCh","toolbox","feature","grid","top","height","bottom","visualMap","seriesIndex","right","orient","precision","calculable","realtime","textStyle","fontSize","inRange","draw","getNWStatByID","getChInfoByID","parseInt","rssi","split","val","center","zoom","opt","position","label","icon","$event","handleClick","infoWindowActive","infoWindowOpt","infoWindowPos","line","$vs","loading","container","$refs","powChart","getBatteryByID","title","text","left","width","boundaryGap","areaStyle","f","color","step","$set","filters","latency","rtt","noiseLv","filterRes","macPER","appPER","finalRes","timeRange","handleLatencyRange","filter","handlePERRange","handleNoiseLvRange","handleAppPERRange","handleMacPERRange","sensorIDs","buttonTypes","currentBtType","traffic","showTrafficLayer","showNoiseLayer","power","showPowerLayer","layer4","shownSensors","PowerChart","Slider","Layers","latencyRange","noiseLvRange","macPERRange","appPERRange","noiseLayer","trafficLayerFlag","noiseLayerFlag","powerLayerFlag","markers","lines","styles","drawTopology","$gmapApiPromiseLazy","then","parentPos","strokeColor","strokeWeight","google","maps","SymbolPath","CIRCLE","fillColor","fillOpacity","drawPowerLayer","getBattery","avg_cc2650_active","avgPWR","mid","colorStr","drawNoiseLayer","noiseData","drawTrafficLayer","clearTrafficLayer","clearPowerLayer","clearNoiseLayer","topoColorReset","showInfoWindow","closeBoxURL","pixelOffset","topoHighLight","panTo","mymap","$mapPromise","map","showFiltersPanel","showLayersPanel","clearMap","trees","children","symbolSize","getTopology","TopoMap","TopoGraph","handleClickSch","selectedCell","Channels","subPartitions","partition_center","bcnSubslots","formatter","splitNumber","SlotFrameLength","minInterval","axisLabel","nameLocation","nameTextStyle","fontWeight","padding","splitArea","inverse","pieces","itemStyle","borderWidth","borderType","borderColor","markLine","lineStyle","animationDuration","markArea","silent","drawPartition","drawSchedule","getSchedule","cellsTmp","tag","drawSubPartition","getSubPartitionHARP","up_colors","down_colors","sp","findPath","findSlot","setTimeout","sizeX","sizeY","nodesNumber","txRange","maxHop","addNoiseByClick","addNoiseCircleRand","clearNoise","load_topo","gwPos","childrenCnt","parent_capacity","interference_range","kicked","history_cp","history_cl","distanceTable","nonOptimal","join_seq","noisePos","noisePosList","noiseID","blacklist","pkt_id","pkt_num_cur_slot","simulation_slot","simulation_run","simulation_slot_list","z","round","yy","pos_list","distance2interference","findParents","loopCnt","layers","threshold","cur_layer","distance_list","p_i","distance","parent_candidates","drawLine","changeParents","changed","cnt_cp","cnt_cl","nearest_parent","findIndex","old_parent","old_layer","last_nodes","eraseLine","L","selectNode","selectedNode","param","rippleEffect","respondToNoise","opacity","kickChildren","send","pkt","src","dst","runSimulationNext","transmissions","tx","runSimulation","sig","direction","idx","running","runV2","stopV2","started","stepBwd","stepFwd","finishV2","popup_active","copy_res","directives","rawName","domProps","target","composing","activeTabIdx","interference_strength","itf_start_sf","sf_id","shift_flag","sortedNodes","sim_timer","simulation_log","rttPerLayer","dsr","avg_latency","avg_rtt","nameGap","animation","gridIndex","symbol","xAxisIndex","yAxisIndex","select","document","execCommand","run","$nextTick","stop","finish","computeRTTSR","miss_ddl","loss_rate","sim","autoFlag","simOrReal","partition_changes","auto","seq","nonOptimalCnt","nonOptimalList","unAligned","sub_text","animationDurationUpdate","getPartition","markAreaTmp","colorMap","y1","y2","handleIntraPartitionAdjustmentBt","handleInterPartitionAdjustmentBt","update_sch","table","$once","sch","Vue","use","Router","routes","redirect","Dashboard","Scheduler","Analysis","instance","axios","defaults","baseURL","headers","post","interceptors","response","error","Promise","reject","getGateway","getPartitionHARP","adv","getNoiseLevel","api","Vuesax","VueGoogleMaps","load","libraries","installComponents","config","productionTip","router","render","App","$mount","scheduler","get_partition","sch1","sch2","sch3","sch4","sch5","sch6","static_schedule1","static_schedule2","static_schedule3","static_schedule4","max_hop","static_schedule6","dynamic_schedule","kick","kick2","kick3","kick4","init1","sch_topo","partitions","init2","n1","n2","init3","init4","init5","init6","get_sch","get_sch2","get_sch3","get_sch4","get_sch5","get_sch6","foo","get_scheduler"],"mappings":"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","file":"static/js/app.3e207994.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../node_modules/vue-style-loader/index.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../node_modules/vue-style-loader/index.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../node_modules/vue-style-loader/index.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-3!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Slider.vue?vue&type=style&index=0&id=70444063&lang=stylus&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/vue-style-loader/index.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-3!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Slider.vue?vue&type=style&index=0&id=70444063&lang=stylus&scoped=true&\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".sliders[data-v-70444063]{font-size:.9rem}.con-vs-slider[data-v-70444063]{margin-top:10px;margin-bottom:10px}.expand-enter-active[data-v-70444063],.expand-leave-active[data-v-70444063]{-webkit-transition:all .3s;transition:all .3s;height:100px;overflow:hidden}.expand-enter[data-v-70444063],.expand-leave-to[data-v-70444063]{height:0}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"#console{width:100%;height:465px}#buttons{z-index:999}#logs{margin-top:10px;width:100%;height:355px;font-size:.7rem;line-height:1.3;border-radius:6px;padding:9px;-webkit-box-sizing:border-box;box-sizing:border-box;resize:none;outline:none;text-transform:none;text-decoration:none}textarea:disabled{background:#fff}#chart{width:100%;height:380px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".panel[data-v-d73c2ca8]{margin-top:-5px}.panel .vs-input[data-v-d73c2ca8]{width:100px}#grid-chart[data-v-d73c2ca8]{width:100%;height:350px}#bts[data-v-d73c2ca8]{font-size:.9rem}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-3!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Slider.vue?vue&type=style&index=0&id=70444063&lang=stylus&scoped=true&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"55e21570\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","import mod from \"-!../../../node_modules/vue-style-loader/index.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-3!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TopoMap.vue?vue&type=style&index=0&lang=stylus&\"; export default mod; export * from \"-!../../../node_modules/vue-style-loader/index.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-3!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TopoMap.vue?vue&type=style&index=0&lang=stylus&\"","/*eslint-disable*/\n/*\n * Copyright (c) 2016, Texas Instruments Incorporated\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions\n * are met:\n *\n * *  Redistributions of source code must retain the above copyright\n *    notice, this list of conditions and the following disclaimer.\n *\n * *  Redistributions in binary form must reproduce the above copyright\n *    notice, this list of conditions and the following disclaimer in the\n *    documentation and/or other materials provided with the distribution.\n *\n * *  Neither the name of Texas Instruments Incorporated nor the names of\n *    its contributors may be used to endorse or promote products derived\n *    from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,\n * THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR\n * PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR\n * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,\n * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,\n * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;\n * OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,\n * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR\n * OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,\n * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n/* APIs:\n  this.find_empty_subslot=function(nodes_list, period, info)\n  this.add_subslot=function(slot,subslot,cell)\n  this.remove_node=function(node)\n  this.dynamic_partition_adjustment()\n*/\n\n\nconst RESERVED = 0; //Number of reserved\nconst SUBSLOTS = 8;\nconst ROWS = 4;\nconst ALGORITHM = \"partition\"\nconst partition_config = require(\"./partition.json\");\n\nfunction partition_init(sf) {\n  //Beacon reserved version\n  var u_d = [Math.floor(sf - partition_config.beacon - RESERVED) / 2, Math.floor(sf - partition_config.beacon - RESERVED) / 2];\n  // var u_d = [sf-partition_config.beacon,sf-partition_config.beacon]\n  // partition_scale(u_d, sf-RESERVED-partition_config.beacon);\n  var uplink = partition_config.uplink.slice(); \n  var downlink = partition_config.downlink.slice();\n\n  var partition = {\n    broadcast: {},\n  }\n  for (var r = 0; r < ROWS; r++) {\n    partition[r] = { uplink: {}, downlink: {} }\n  }\n\n  var channel_per_row = Math.floor(16/ROWS)\n  var slot_cursor = []\n  var uplink_row = []\n  var downlink_row = []\n  var last_uplink_row_boundary = 0\n  var last_downlink_row_boundary = 0\n\n  for(var r=0; r<ROWS;r++) {\n    slot_cursor[r] = RESERVED\n    uplink_row[r] = partition_scale(uplink, u_d[0]-last_uplink_row_boundary)\n    // uplink_row[r] = uplink\n    downlink_row[r] = partition_scale(downlink, u_d[1]-last_downlink_row_boundary);\n    last_uplink_row_boundary += uplink_row[r][0]\n    last_downlink_row_boundary += downlink_row[r][0]\n  }\n\n  //now we have everything scaled by slotframe length\n  //and start do the partitioning\n  \n  // uplink\n  for (var u = uplink.length - 1; u >= 0; --u) {\n    for (var r=0;r<ROWS;r++) {\n      var tmp = 0\n      // if(r==ROWS-1) tmp=1\n      partition[r].uplink[u] = {start: slot_cursor[r], end: slot_cursor[r]+uplink_row[r][u], channels:[r*channel_per_row,(r+1)*channel_per_row+tmp]}\n      slot_cursor[r] += uplink_row[r][u]\n    }\n  }\n\n  // Beacon\n  partition.broadcast = { start: slot_cursor[0], end: slot_cursor[0] + partition_config.beacon };\n  \n  for(var r=0;r<ROWS;r++) {\n    slot_cursor[r] = sf\n  }\n\n  // Downlink\n  for (var d = downlink.length - 1; d >= 0; --d) {\n    for (var r=0;r<ROWS;r++) {\n      var tmp = 0\n      // if(r==ROWS-1) tmp=1\n      partition[r].downlink[d] = {start: slot_cursor[r]-downlink_row[r][d], end: slot_cursor[r], channels:[r*channel_per_row,(r+1)*channel_per_row+tmp]}\n      slot_cursor[r] -= downlink_row[r][d]\n    }\n  }\n\n  window.console.log(\"patition:\", partition);\n  return partition;\n}\n\nfunction partition_scale(raw_list, size) {\n  var list = JSON.parse(JSON.stringify(raw_list));\n  //scale the list to the size (sum(list)==size)\n  var total = 0;\n  for (var i = 0; i < list.length; ++i) {\n    total += list[i];\n  }\n  for (var i = 0; i < list.length; ++i) {\n    list[i] = list[i] * size / total;\n  }\n  //Now we need to arrange them to integers. We cannot directly floor or round or ceil\n  //These will cause the sum!=size\n  //we do the following 3 for's to round the boundary to closest integers\n  for (var i = 1; i < list.length; ++i) {\n    list[i] += list[i - 1];\n  }\n  for (var i = 0; i < list.length; ++i) {\n    list[i] = Math.floor(list[i] + 0.5);\n  }\n  for (var i = list.length - 1; i > 0; --i) {\n    list[i] -= list[i - 1];\n  }\n\n  return list;\n}\n\nfunction create_scheduler(sf, ch, algorithm) {\n  /*\n  Slot = {slot_offset, channel}\n  Subslot = {period, offset}\n  Cell = {type, layer, row, sender, receiver}\n  \n  used_subslot = {slot: [slot_offset, ch_offset], subslot: [periord, offset], cell: cell, is_optimal:1}\n  */\n  if (!(this instanceof create_scheduler)) {\n    return new create_scheduler(sf, ch, algorithm);\n  }\n\n  // window.console.log(\"create_scheduler(\"+sf+\",\"+ch+\")\", algorithm);\n  this.slotFrameLength = sf;\n  this.channels = ch;\n  this.algorithm = algorithm\n  this.rows = ROWS\n  this.schedule = new Array(sf);\n  // { parent: [children] }, mainly for count subtree size\n  this.topology = { 0: [] }\n  // mainly for send cells to cloud\n  this.used_subslot = []\n  this.isFull = false;\n  this.nonOptimalCount = 0;\n  for (var i = 0; i < sf; ++i) {\n    this.schedule[i] = new Array(16);\n  }\n  for (var c in this.channels) {\n    var ch = this.channels[c];\n    for (var slot = 0; slot < this.slotFrameLength; ++slot) {\n      this.schedule[slot][ch] = new Array(SUBSLOTS)\n    }\n  }\n\n  //initialize partition\n  this.partition = partition_init(sf);\n  // console.log(this.partition)\n  this.channelRows = {}\n  for(var r=0;r<ROWS;r++) {\n    var channels = this.partition[r].uplink[0].channels\n    this.channelRows[r] = []\n    for(var c=channels[0];c<channels[1];c++) {\n      this.channelRows[r].push(c+1)\n    }\n  }\n  console.log(this.channelRows)\n  // this.channelRows = { 0: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10], 1: [11, 12, 13, 14], 2: [15, 16] }\n\n  this.setTopology = function (topo) {\n    this.topo = topo\n  }\n\n  this.add_slot = function (slot, cell) {\n    this.add_subslot(slot, { offset: 0, period: 1 }, cell);\n  }\n\n  this.add_subslot = function (slot, subslot, cell, is_optimal) {\n    var sub_start = subslot.offset * SUBSLOTS / subslot.period;\n    var sub_end = (subslot.offset + 1) * SUBSLOTS / subslot.period;\n\n    for (var sub = sub_start; sub < sub_end; ++sub) {\n      this.schedule[slot.slot_offset][slot.channel_offset][sub] = {\n        type: cell.type,\n        layer: cell.layer,\n        sender: cell.sender,\n        receiver: cell.receiver,\n      }\n    }\n\n    this.used_subslot.push({ slot: [slot.slot_offset, slot.channel_offset], subslot: [subslot.offset, subslot.period], cell: cell, is_optimal: is_optimal })\n\n    if (cell.type == \"uplink\") {\n      if (this.topology[cell.receiver] != null) {\n        if (this.topology[cell.receiver].indexOf(cell.sender) == -1) {\n          this.topology[cell.receiver].push(cell.sender)\n        }\n      }\n      else this.topology[cell.receiver] = [cell.sender]\n    }\n\n  }\n\n  this.remove_slot = function (slot) {\n    this.remove_subslot(slot, { offset: 0, period: 1 });\n  }\n\n  this.remove_subslot = function (slot, subslot) {\n    var sub_start = subslot.offset * SUBSLOTS / subslot.period;\n    var sub_end = (subslot.offset + 1) * SUBSLOTS / subslot.period;\n    for (var sub = sub_start; sub < sub_end; ++sub) {\n      this.schedule[slot.slot_offset][slot.channel_offset][sub] = null;\n    }\n\n    for (var i = 0; i < this.used_subslot.length; i++) {\n      if (this.used_subslot[i].slot[0] == slot.slot_offset &&\n        this.used_subslot[i].slot[1] == slot.channel_offset &&\n        this.used_subslot[i].subslot[0] == subslot.offset &&\n        this.used_subslot[i].subslot[1] == subslot.period) {\n        this.used_subslot.splice(i, 1)\n        i--\n      }\n    }\n  }\n\n  // remove used subslot by sender, receiver, type\n  this.remove_usedsubslot = function (sender, receiver, type) {\n    for (var i = 0; i < this.used_subslot.length; i++) {\n      if (this.used_subslot[i].cell.sender == sender &&\n        this.used_subslot[i].cell.receiver == receiver &&\n        this.used_subslot[i].cell.type == type) {\n        this.used_subslot.splice(i, 1)\n        i--\n      }\n    }\n  }\n\n  //3-d filter\n  //flag=1: check order\n  this.available_subslot = function (nodes_list, slot, subslot, info, flag) {\n    if (slot.slot_offset < RESERVED) return false;\n    // this.partition.broadcast.start = 125\n    // this.partition.broadcast.end = 127\n    //if is beacon, we want it always the first channel in the list;\n    //it actually doesn't matter since hardware-wise it's hardcoded to beacon channel\n    //but to make it consistant in scheduler table...\n    if (info.type == \"beacon\" && slot.channel_offset != this.channels[0]) return false;\n\n    //Beacon reserved version: broadcast partition can only be utilized by beacon\n    if (this.partition.broadcast != null) {\n      var start = this.partition.broadcast.start;\n      var end = this.partition.broadcast.end;\n      if (info.type == \"beacon\") {\n        if (slot.slot_offset < start || slot.slot_offset >= end) return false;\n      } else {\n        if (slot.slot_offset >= start && slot.slot_offset < end) return false;\n      }\n    }\n\n    //check if this slot-channel is assigned\n    var sub_start = subslot.offset * SUBSLOTS / subslot.period;\n    var sub_end = (subslot.offset + 1) * SUBSLOTS / subslot.period;\n    for (var sub = sub_start; sub < sub_end; ++sub) {\n      if (this.schedule[slot.slot_offset][slot.channel_offset][sub] != null)\n        return false;\n    }\n\n    //check if this slot (any channel) is assigned to beacon\n    //or is assigned to the members\n    for (var c in this.channels) {\n      var ch = this.channels[c];\n      for (var sub = sub_start; sub < sub_end; ++sub) {\n        if (this.schedule[slot.slot_offset][ch][sub] == null)\n          continue;\n        // if(info.type==\"beacon\")//if allocating beacon, must be a dedicated slot, no freq reuse (potential conflict)\n        //   return false;\n        //KILBYIIOT-6, beacon is no longer monitored after association:  \n        //Tao: this is added back, since it can cause potential conflict\n        if (this.schedule[slot.slot_offset][ch][sub].type == \"beacon\") return false;\n        if (nodes_list.indexOf(this.schedule[slot.slot_offset][ch][sub].sender) != -1) return false;\n        if (nodes_list.indexOf(this.schedule[slot.slot_offset][ch][sub].receiver) != -1) return false;\n      }\n    }\n\n    if (flag && info.layer > 0) {\n      if (info.type != \"beacon\") {\n        var parent = 0\n        if (info.type == \"uplink\") parent = nodes_list[1]\n        else parent = nodes_list[0]\n\n        var parent_slot = this.find_cell(parent, info.type)\n        if (info.type == \"uplink\") {\n          if (slot.slot_offset > parent_slot.slot[0]) return false\n        } else {\n          if (slot.slot_offset < parent_slot.slot[0]) return false\n        }\n      }\n    }\n    return true;\n  }\n\n  // generate a slot list inside the partition.\n  // flag=0: normal case, find in_partition slots\n  // flag=1: assign non-optimal slots in layer 0 reserved area\n  // flag=2: return huge slots list to find the needed size to \n  //         assign all its non-optimal slots back.\n  this.inpartition_slots = function (flag, info, row) {\n    // console.log(\"Partition schedule locating: \"+info.type+\", layer=\"+info.layer)\n    var inpartition_slots = [];//result slot list\n\n    var start = 0;\n    var end = 0;\n    if (info.type == \"beacon\") {\n      if (this.partition.broadcast != null) {\n        start = this.partition.broadcast.start;\n        end = this.partition.broadcast.end;\n      }\n    }\n    if (info.type == \"uplink\") {\n      if (this.partition[row].uplink != null && this.partition[row].uplink[info.layer.toString()] != null) {\n        start = this.partition[row].uplink[info.layer.toString()].start;\n        end = this.partition[row].uplink[info.layer.toString()].end;\n      }\n    }\n    if (info.type == \"downlink\") {\n      if (this.partition[row].downlink != null && this.partition[row].downlink[info.layer.toString()] != null) {\n        start = this.partition[row].downlink[info.layer.toString()].start;\n        end = this.partition[row].downlink[info.layer.toString()].end;\n      }\n    }\n\n    // var m=Math.floor((start+end)/2);    \n    // expand partition size\n    if (flag == 2) {\n      if (info.type == \"uplink\") end += 30\n      else start -= 30\n    }\n\n    //sorted slot offset list, from edge\n    //if first layer tricks, from center\n    var partition_slot_list = [];\n    for (var i = 0; i < end - start; ++i) {\n      partition_slot_list.push(0);\n    }\n\n    // flag==0: if try to find optimal slots\n    if (flag == 0 || flag == 2) {\n      if (info.type == \"uplink\") {\n        //uplink 0, as late as possible\n        for (var i = 0; i < end - start; i++) {\n          partition_slot_list[i] = end - 1 - i;\n        }\n      } else {\n        // downlink 0, as early as possible\n        for (var i = 0; i < end - start; ++i) {\n          partition_slot_list[i] = start + i;\n        }\n      }\n\n\n    } else if (flag == 1) {\n      // flag==1: find available slots in reserved area (layer 0 other channels)\n      // from edge to center\n      if (info.type == \"uplink\") {\n        //uplink 0, as late as possible\n        for (var i = 0; i < end - start; i++) {\n          partition_slot_list[i] = end - 1 - i;\n        }\n      } else {\n        // downlink 0, as early as possible\n        for (var i = 0; i < end - start; ++i) {\n          partition_slot_list[i] = start + i;\n        }\n      }\n    }\n\n    //generate slot list\n    for (var i = 0; i < end - start; ++i) {\n      var slot = partition_slot_list[i];\n      if (flag == 0 || flag == 2) {\n        if (info.type == \"beacon\") {\n          inpartition_slots.push({ slot_offset: slot, channel_offset: this.channels[0] });\n        } else {\n          for (var c in this.channelRows[row]) {\n            var ch = this.channelRows[row][c]\n            inpartition_slots.push({ slot_offset: slot, channel_offset: ch });\n          }\n        }\n        // find available slots in reserved area (layer 0 other channels)\n      } else if (flag == 1) {\n        for (var k = 1; k < this.channels.length - 1; k++) {\n          var ch = this.channels[k];\n          inpartition_slots.push({ slot_offset: slot, channel_offset: ch });\n        }\n      }\n    }\n    return inpartition_slots;\n  }\n\n  // calculate the needed size(slot range) to assign non-optimal cells\n  this.calc_needed_slots = function (row, type, layer) {\n    var slots_list = this.inpartition_slots(2, { type: type, layer: layer }, row)\n    // make a copy\n    var sch_cp = JSON.parse(JSON.stringify(this.schedule));\n    var used_subslot = JSON.parse(JSON.stringify(this.used_subslot));\n\n    this.assign_slot_sim = function (cell) {\n      var ret = {}\n      for (var i = 0; i < slots_list.length; ++i) {\n        var slot = slots_list[i];\n        var candidate = 0\n        if (sch_cp[slot.slot_offset][slot.channel_offset][0] != null) {\n          // not this partition\n          if (sch_cp[slot.slot_offset][slot.channel_offset][0].type != type && sch_cp[slot.slot_offset][slot.channel_offset][0].layer != layer) {\n            candidate = slot\n          }\n        } else {\n          var nodes_list = [cell.sender, cell.receiver]\n          // slot is empty\n          candidate = slot\n        }\n        // not find\n        if (!candidate) continue\n\n        // check order\n        var parent = 0\n        if (cell.type == \"uplink\") parent = cell.receiver\n        else parent = cell.sender\n        var parent_slot = this.find_cell(parent, cell.type, cell.layer - 1)\n        if (cell.sendertype == \"uplink\") {\n          if (slot.slot_offset > parent_slot) continue\n        } else {\n          if (slot.slot_offset < parent_slot && Math.abs(slot.slot_offset - parent_slot) < 60) continue\n        }\n\n        // check if this slot (any channel) is assigned to the members\n        var pass = 0\n        for (var c in this.channels) {\n          var ch = this.channels[c];\n          if (sch_cp[candidate.slot_offset][ch][0] != null) {\n            if (nodes_list.indexOf(sch_cp[candidate.slot_offset][ch][0].sender) == -1 && nodes_list.indexOf(sch_cp[candidate.slot_offset][ch][0].receiver) == -1) {\n              pass++\n            }\n          } else pass++\n        }\n        if (pass == this.channels.length) {\n          sch_cp[candidate.slot_offset][candidate.channel_offset][0] = {\n            type: cell.type,\n            layer: cell.layer,\n            row: cell.row,\n            sender: cell.sender,\n            receiver: cell.receiver,\n            is_optimal: 1,\n          }\n          ret = { slot: [candidate.slot_offset, candidate.channel_offset], cell: cell, is_optimal: 1 }\n          break\n        }\n      }\n      return ret\n    }\n\n    for (var j = 0; j < this.used_subslot.length; j++) {\n      if (!this.used_subslot[j].is_optimal && this.used_subslot[j].cell.type == type && this.used_subslot[j].cell.row == row &&\n        this.used_subslot[j].cell.layer == layer) {\n        var ret = this.assign_slot_sim(this.used_subslot[j].cell)\n        if (ret != null)\n          used_subslot.push(ret)\n      }\n    }\n\n    var diff = 0\n    // [start, end)\n    var original_size = [this.partition[row][type][layer].start, this.partition[row][type][layer].end]\n    var max = original_size[0]\n    var min = original_size[1]\n    for (var k = 0; k < used_subslot.length; k++) {\n      if (used_subslot[k].is_optimal && used_subslot[k].cell.type == type && used_subslot[k].cell.row == row && used_subslot[k].cell.layer == layer) {\n        if (min >= used_subslot[k].slot[0]) min = used_subslot[k].slot[0]\n        if (max <= used_subslot[k].slot[0]) max = used_subslot[k].slot[0]\n      }\n    }\n    if (row == 0) {\n      diff = original_size[0] - min\n    } else {\n      diff = max + 1 - original_size[1]\n    }\n    return diff\n  }\n\n  // adjust the partition (and its slots) offset and its neighbour's size\n  // offset >0 right, <0 left\n  this.adjust_partition_offset = function (row, type, layer, offset) {\n    // broadcast partition do not need adjust, for now\n    if (type == \"broadcast\" || offset == 0) return\n\n    // adjust cells offset\n    // adjust cells in this.schedule\n\n    for (var c in this.channelRows[row]) {\n      var ch = this.channelRows[row][c]\n      // offset>0, rear to front\n      if (offset > 0) {\n        for (var slot = this.partition[row][type][layer].end; slot >= this.partition[row][type][layer].start; slot--) {\n          for (var sub = 0; sub < SUBSLOTS; ++sub) {\n            if (this.schedule[slot][ch][sub] != null) {\n              this.schedule[slot + offset][ch][sub] = this.schedule[slot][ch][sub]\n              this.schedule[slot][ch][sub] = null\n            }\n          }\n        }\n      } else {\n        // offset<0, front to rear\n        for (var slot = this.partition[row][type][layer].start; slot < this.partition[row][type][layer].end; slot++) {\n          for (var sub = 0; sub < SUBSLOTS; ++sub) {\n            if (this.schedule[slot][ch][sub] != null) {\n              this.schedule[slot + offset][ch][sub] = this.schedule[slot][ch][sub]\n              this.schedule[slot][ch][sub] = null\n            }\n          }\n        }\n      }\n    }\n\n    var count = 0\n    // adjust cells in this.used_subslot  \n    for (var i = 0; i < this.used_subslot.length; i++) {\n      if (this.used_subslot[i].cell.type == type && this.used_subslot[i].cell.row == row &&\n        this.used_subslot[i].cell.layer == layer && this.used_subslot[i].is_optimal) {\n        this.used_subslot[i].slot[0] += offset\n        count++\n      }\n    }\n\n    // adjust partition offset\n    if (type == \"uplink\") {\n      this.partition[row][type][layer - 1].start += offset\n      this.partition[row][type][layer].end += offset\n    } else {\n      this.partition[row][type][layer].end += offset\n      this.partition[row][type][layer].start += offset\n\n      // if(layer==this.partition.downlink.length-1) \n      // this.adjust_partition_offset(0,'downlink',0,offset)\n\n    }\n    return count\n  }\n\n  // adjust the partition and its neighbour's size\n  // side: 'left' or 'right'\n  // offset >0 expand, <0 shrink\n  // U0 shall not adjust right side, D0 shall not adjust left side\n  this.adjust_partition_size = function (row, type, layer, side, offset) {\n    // broadcast partition do not need adjust, for now\n    if (type == \"broadcast\") return\n    if (side == \"left\") {\n      this.partition[row][type][layer].start -= offset\n    }\n    if (side == \"right\") {\n      this.partition[row][type][layer].end += offset\n    }\n    if (layer == 1) {\n      if (type == \"uplink\" && side == \"right\") this.partition[row]['uplink'][0].start = this.partition[row]['uplink'][1].end\n      if (type == \"downlink\" && side == \"left\") {\n\n        this.partition[row]['downlink'][0].end = this.partition[row]['downlink'][1].start\n      }\n    }\n  }\n\n  this.get_gap = function (row, type, layer) {\n    // if(layer==1) return 10\n    // if(layer==2) return 7\n    // if(layer==3) return 3 \n    // if(layer==4) return 3\n    return 2\n  }\n\n  this.adjustment_summary = { '0': {}, '1': {} }\n\n  // adjust partition boundary\n  this.adjust = function (row, type, layer) {\n    if (layer == 0) return\n    sides = ['right', 'left']\n    var side = (type == \"uplink\") ? 0 : 1\n    var sign = (type == \"uplink\") ? 1 : -1\n    // console.log(\"[*] adjusting row\",row,type,layer,'...')\n    var gap = this.get_gap(row, type, layer)\n    var needed_size = this.calc_needed_slots(row, type, layer) + gap // leave some space\n    // console.log(\"    needs\", needed_size, \"slots\")\n    // expand, low layers first\n    if (needed_size > 0) {\n      for (var l = 1; l < layer + (1 - side); l++) {\n        var count = this.adjust_partition_offset(row, type, l, needed_size * sign)\n        var name = type[0] + l\n        if (this.adjustment_summary[row][name] == null) this.adjustment_summary[row][name] = { affected_cells: count, offset: 0 }\n        this.adjustment_summary[row][name].offset += needed_size * sign\n      }\n      // shrink, high layers first\n    } else {\n      for (var l = layer - side; l > 0; l--) {\n        var count = this.adjust_partition_offset(row, type, l, needed_size * sign)\n        var name = type[0] + l\n        if (this.adjustment_summary[row][name] == null) this.adjustment_summary[row][name] = { affected_cells: count, offset: 0 }\n        this.adjustment_summary[row][name].offset += needed_size * sign\n      }\n    }\n    // console.log(\"    neighbours move to the\",sides[side],\"by\", needed_size)\n    if (type == \"downlink\") this.adjust_partition_size(row, type, layer, sides[side], needed_size)\n\n    // console.log(\"   \",type,layer , \"expands to the\", sides[side], \"by\", needed_size)\n\n    this.adjust(row, type, layer - 1)\n  }\n\n  // find the first(uplink)/last(downlink) used slot of the node\n  this.find_cell = function (node, type) {\n    for (var i = 0; i < this.used_subslot.length; i++) {\n      if (type == \"uplink\") {\n        if (this.used_subslot[i].cell.sender == node && this.used_subslot[i].cell.type == type) {\n          return this.used_subslot[i]\n        }\n      } else if (type == \"downlink\") {\n        if (this.used_subslot[i].cell.receiver == node && this.used_subslot[i].cell.type == type) {\n          return this.used_subslot[i]\n        }\n      }\n    }\n    console.log(\"cannot find this cell\", node, type)\n  }\n\n  // get subtree size (get children and children's children number)\n  this.get_subtree_size = function (node) {\n    if (this.topology[node] == null) return 0\n    var cnt = this.topology[node].length\n    for (var i = 0; i < this.topology[node].length; i++) {\n      cnt += this.get_subtree_size(this.topology[node][i])\n    }\n    return cnt\n  }\n\n  // get conflict slots, same sender/receiver in one slot\n  // call it after adjust partition offset\n  this.get_conflict_slots = function () {\n    var ret = {}\n    for (var i = this.partition.broadcast.end; i < 69; i++) {\n      var tmp = {}\n      var ch = []\n      for (var j = 1; j < 17; j++) {\n        if (this.schedule[i][j][0] != null) {\n          if (tmp[this.schedule[i][j][0].sender] == null) {\n            tmp[this.schedule[i][j][0].sender] = j\n          } else {\n            ch.push(tmp[this.schedule[i][j][0].sender], j)\n          }\n          if (tmp[this.schedule[i][j][0].receiver] == null) {\n            tmp[this.schedule[i][j][0].receiver] = j\n          } else {\n            ch.push(tmp[this.schedule[i][j][0].receiver], j)\n          }\n        }\n      }\n      if (ch.length > 0) ret[i] = Array.from(new Set(ch))\n    }\n    return ret\n  }\n\n\n  // get idle slots number of one partition\n  this.get_idle_slots = function (row, type, layer) {\n    for (var i = this.partition[row][type][layer].start; i < this.partition[row][type][layer].end; i++) {\n      for (var c in this.channelRows[row]) {\n        // find the edge\n        var ch = this.channelRows[row][c]\n        if (this.schedule[i][ch][0] != null) {\n          return i - this.partition[row][type][layer].start\n        }\n      }\n    }\n    return this.partition[row][type][layer].end - this.partition[row][type][layer].start\n  }\n\n  // get idle slots number of all partition\n  this.get_idles_all = function () {\n    var list = []\n    for (var l = 1; l < Object.keys(this.partition[0]['uplink']).length; l++) {\n      list[l] = this.get_idle_slots(l)\n    }\n    return list\n  }\n\n  // adjust neighbor's boundary to assign more slots for this partition\n  this.inter_partition_adjustment = function (type, layer) {\n\n  }\n\n  // get needed slots to realign non-optimal cells\n  // clear row 3 neighbors and reschedule\n  this.get_needed_slots = function (type, layer) {\n    var schedule_backup = JSON.parse(JSON.stringify(this.schedule))\n    var used_subslot_backup = JSON.parse(JSON.stringify(this.used_subslot))\n\n    for (var i = 0; i < this.used_subslot.length; i++) {\n      if (!this.used_subslot[i].is_optimal && this.used_subslot[i].cell.type == type && this.used_subslot[i].cell.layer == layer) {\n\n      }\n    }\n  }\n\n  // adjust cells of within partition (all rows)\n  this.intra_partition_adjustment = function (type, layer) {\n    console.log(\"adjusting \" + type + \" layer \" + layer + \"...\")\n    var edits = 0\n    edits += this.minimize_used_slots(type, layer)\n    edits += this.adjust_subtree_distribution(type, layer)\n    return edits\n  }\n\n  // get one partition cell list with subtree size\n  this.get_subtree_size_list = function (type, layer) {\n    var subtree_sizes = []\n    for (var i = 0; i < this.used_subslot.length; i++) {\n      if (this.used_subslot[i].cell.layer == layer && this.used_subslot[i].cell.type == type) {\n        subtree_sizes.push({\n          slot: this.used_subslot[i].slot[0],\n          sender: this.used_subslot[i].cell.sender,\n          size: this.get_subtree_size(this.used_subslot[i].cell.sender),\n          row: this.used_subslot[i].cell.row,\n          receiver: this.used_subslot[i].cell.receiver,\n          ch: this.used_subslot[i].slot[1],\n        })\n      }\n    }\n    subtree_sizes.sort((a, b) => (a.slot > b.slot) ? 1 : -1)\n    return subtree_sizes\n  }\n\n  // move cells with larger subtree size to row 0 and sort row 1/2\n  // cells in row 0 don't need to be adjust\n  this.adjust_subtree_distribution = function (type, layer) {\n    this.total_edits = 0\n    var subtree_sizes = this.get_subtree_size_list(type, layer)\n    if (layer == 0) {\n      var dividerSlot = this.partition[1][type][layer].end\n      var dividerSlotIndex = 0\n      for (var ii = 0; ii < subtree_sizes.length; ii++) {\n        if (subtree_sizes[ii].slot == dividerSlot) {\n          dividerSlotIndex = ii\n          break\n        }\n      }\n      var copy = JSON.parse(JSON.stringify(subtree_sizes))\n      copy.sort((a, b) => (a.size > b.size) ? 1 : -1)\n\n      // max subtree size in other rows (row 1,2...)\n      var maxSubtreeSize = copy[dividerSlotIndex].size\n\n      // move some cell with larger subtree size to row 0\n      for (var j = 0; j < dividerSlotIndex; j++) {\n        if (subtree_sizes[j].size > maxSubtreeSize) {\n          // swap with a smaller one in row 0\n          for (k = dividerSlotIndex; k < subtree_sizes.length; k++) {\n            if (subtree_sizes[k].size <= maxSubtreeSize) {\n              var tmp = JSON.parse(JSON.stringify(subtree_sizes[k]))\n              var tmp2 = JSON.parse(JSON.stringify(subtree_sizes[j]))\n              subtree_sizes[k].sender = tmp2.sender\n              subtree_sizes[k].receiver = tmp2.receiver\n              subtree_sizes[k].size = tmp2.size\n              subtree_sizes[j].sender = tmp.sender\n              subtree_sizes[j].receiver = tmp.receiver\n              subtree_sizes[j].size = tmp.size\n              break\n            }\n          }\n        }\n      }\n\n      // cycle sort cells in other rows (row 1,2...)\n      for (var cycleStart = 0; cycleStart < dividerSlotIndex; cycleStart++) {\n        var item = JSON.parse(JSON.stringify(subtree_sizes[cycleStart]))\n        var pos = cycleStart\n\n        // find the right index\n        for (var i = cycleStart + 1; i < dividerSlotIndex.length; i++)\n          if (subtree_sizes[i].size < item.size)\n            pos++\n\n        // not changed\n        if (pos == cycleStart) continue\n\n        // skip duplicates\n        while (item.size == subtree_sizes[pos].size) pos++\n\n        // write\n        var tmp = JSON.parse(JSON.stringify(subtree_sizes[pos]))\n        subtree_sizes[pos].sender = item.sender\n        subtree_sizes[pos].receiver = item.receiver\n        subtree_sizes[pos].size = item.size\n        item = tmp\n\n        // repeat above to find a value to swap\n        while (pos != cycleStart) {\n          pos = cycleStart\n\n          for (var i = cycleStart + 1; i < subtree_sizes.length; i++)\n            if (subtree_sizes[i].size < item.size)\n              pos++\n\n          while (item.size == subtree_sizes[pos].size) pos++\n\n          var tmp = JSON.parse(JSON.stringify(subtree_sizes[pos]))\n          subtree_sizes[pos].sender = item.sender\n          subtree_sizes[pos].receiver = item.receiver\n          subtree_sizes[pos].size = item.size\n          item = tmp\n        }\n      }\n\n      this.sequence = []\n      this.new_schedule = []\n      for (var s = 0; s < subtree_sizes.length; s++) {\n        this.sequence.push(this.find_cell(subtree_sizes[s].sender, \"uplink\"))\n        this.new_schedule.push({ slot: { slot_offset: subtree_sizes[s].slot, channel_offset: subtree_sizes[s].ch }, row: subtree_sizes[s].row })\n      }\n\n      // mark the cells that no need to adjust\n      for (var xx = 0; xx < this.sequence.length; xx++) {\n        this.sequence[xx].adjusted = false\n        if (this.sequence[xx].slot[0] == this.new_schedule[xx].slot.slot_offset) {\n          this.sequence[xx].adjusted = true\n        }\n      }\n\n      // cell in tmp area\n      this.tmpCellIndex = -1\n      this.rmTmpCellFlag = 0\n\n      for (var k = 0; k < this.sequence.length; k++) {\n        this.adjust_schedule(k, [k])\n        if (this.tmpCellIndex != -1) {\n          this.rmTmpCellFlag = 1\n          this.adjust_schedule(this.tmpCellIndex, [])\n        }\n      }\n\n    } else if (layer > 0) {\n      subtree_sizes.sort((a, b) => (a.size < b.size) ? 1 : -1)\n      for (var i = 0; i < subtree_sizes.length; i++) {\n        if (subtree_sizes[i].row > 0 && subtree_sizes[i].size > 0) {\n          var old_cell = this.find_cell(subtree_sizes[i].sender, \"uplink\")\n          var ret = this.find_empty_subslot([old_cell.cell.sender, old_cell.cell.receiver], 1, { type: old_cell.cell.type, layer: old_cell.cell.layer })\n\n          // A best, row 0 has space, just move\n          if (ret.row == 0 && ret.is_optimal) {\n            // console.log(\"move\",subtree_sizes[i],\"to\",ret.slot)\n            subtree_sizes[i].slot = ret.slot.slot_offset\n            subtree_sizes[i].ch = ret.slot.channel_offset\n            subtree_sizes[i].row = ret.row\n\n            this.add_subslot(ret.slot, ret.subslot, { type: old_cell.cell.type, layer: old_cell.cell.layer, row: ret.row, sender: old_cell.cell.sender, receiver: old_cell.cell.receiver }, ret.is_optimal);\n            this.remove_slot({ slot_offset: old_cell.slot[0], channel_offset: old_cell.slot[1] })\n            this.total_edits++\n            // if cannot simply move to row 0, check if can swap with a smallest cell or its smallest conflict cell\n          } else {\n            var swapCandidates = []\n            var conflictCells = []\n            var conflictSlots = []\n            for (var j = 0; j < subtree_sizes.length; j++) {\n              if (subtree_sizes[j].row == 0) {\n                if (subtree_sizes[j].size < subtree_sizes[i].size) swapCandidates.push(subtree_sizes[j])\n                if (subtree_sizes[j].receiver == subtree_sizes[i].receiver) {\n                  conflictCells.push(subtree_sizes[j])\n                  conflictSlots.push(subtree_sizes[j].slot)\n                }\n              }\n            }\n\n            swapCandidates.sort((a, b) => (a.size > b.size) ? 1 : -1)\n            conflictCells.sort((a, b) => (a.size > b.size) ? 1 : -1)\n\n            var minConflictCellSubtreeSize = 100\n            if (conflictCells.length > 0) minConflictCellSubtreeSize = conflictCells[0].size\n\n            var haveSwappedFlag = 0\n            for (k = 0; k < swapCandidates.length; k++) {\n              if (swapCandidates[k].size < minConflictCellSubtreeSize) {\n                if (conflictSlots.indexOf(swapCandidates[k].slot) == -1) {\n                  // console.log(\"move\",subtree_sizes[i],\"to\", swapCandidates[k].slot,swapCandidates[k].ch)\n                  var cell1 = this.find_cell(subtree_sizes[i].sender, \"uplink\")\n                  var cell2 = this.find_cell(swapCandidates[k].sender, \"uplink\")\n\n                  this.remove_slot({ slot_offset: cell1.slot[0], channel_offset: cell1.slot[1] })\n                  this.remove_slot({ slot_offset: cell2.slot[0], channel_offset: cell2.slot[1] })\n                  this.add_subslot({ slot_offset: cell2.slot[0], channel_offset: cell2.slot[1] }, { offset: 0, period: 1 }, { type: cell1.cell.type, layer: cell1.cell.layer, row: cell2.cell.row, sender: cell1.cell.sender, receiver: cell1.cell.receiver }, 1)\n\n                  // find a cell to place the swapped cell\n                  var ret = this.find_empty_subslot([cell2.cell.sender, cell2.cell.receiver], 1, { type: cell2.cell.type, layer: cell2.cell.layer })\n                  this.add_subslot(ret.slot, ret.subslot, { type: cell2.cell.type, layer: cell2.cell.layer, row: ret.row, sender: cell2.cell.sender, receiver: cell2.cell.receiver }, ret.is_optimal);\n\n                  subtree_sizes[i].slot = cell2.slot[0]\n                  subtree_sizes[i].ch = cell2.slot[1]\n                  subtree_sizes[i].row = cell2.cell.row\n\n                  swapCandidates[k].slot = ret.slot.slot_offset\n                  swapCandidates[k].ch = ret.slot.channel_offset\n                  swapCandidates[k].row = ret.row\n\n                  haveSwappedFlag = 1\n                  if (ret.slot.slot_offset == cell1.slot[0] && ret.slot.channel_offset == cell1.slot[1]) this.total_edits += 3\n                  else this.total_edits += 2\n                  break\n                }\n              }\n            }\n            if (!haveSwappedFlag) {\n              // no swap candidate works, swap with its smallest conflict cell\n              if (minConflictCellSubtreeSize < subtree_sizes[i].size) {\n                // console.log(\"move\",subtree_sizes[i],\"to\", conflictCells[0].slot,conflictCells[0].ch)\n                var cell1 = this.find_cell(subtree_sizes[i].sender, \"uplink\")\n                var cell2 = this.find_cell(conflictCells[0].sender, \"uplink\")\n\n                this.remove_slot({ slot_offset: cell1.slot[0], channel_offset: cell1.slot[1] })\n                this.remove_slot({ slot_offset: cell2.slot[0], channel_offset: cell2.slot[1] })\n                this.add_subslot({ slot_offset: cell2.slot[0], channel_offset: cell2.slot[1] }, { offset: 0, period: 1 }, { type: cell1.cell.type, layer: cell1.cell.layer, row: cell2.cell.row, sender: cell1.cell.sender, receiver: cell1.cell.receiver }, 1)\n\n                // find a cell to place the swapped cell\n                var ret = this.find_empty_subslot([cell2.cell.sender, cell2.cell.receiver], 1, { type: cell2.cell.type, layer: cell2.cell.layer })\n                this.add_subslot(ret.slot, ret.subslot, { type: cell2.cell.type, layer: cell2.cell.layer, row: ret.row, sender: cell2.cell.sender, receiver: cell2.cell.receiver }, ret.is_optimal);\n\n                subtree_sizes[i].slot = cell2.slot[0]\n                subtree_sizes[i].ch = cell2.slot[1]\n                subtree_sizes[i].row = cell2.cell.row\n\n                conflictCells[0].slot = ret.slot.slot_offset\n                conflictCells[0].ch = ret.slot.channel_offset\n                conflictCells[0].row = ret.row\n\n                if (ret.slot.slot_offset == cell1.slot[0] && ret.slot.channel_offset == cell1.slot[1]) this.total_edits += 3\n                else this.total_edits += 2\n              }\n            }\n          }\n        }\n      }\n    }\n\n    console.log(\"    adjust subtree distribution: \" + this.total_edits + \" edits\")\n    return this.total_edits\n  }\n\n\n\n  // adjust the order of cells of one partition by subtree size\n  // determine the order by size and then do a `rejoin` process to compute the optimal schedule\n  this.adjust_subtree_distribution_v0 = function (type, layer) {\n    var schedule_backup = JSON.parse(JSON.stringify(this.schedule))\n    var used_subslot_backup = JSON.parse(JSON.stringify(this.used_subslot))\n    var subtree_sizes = this.get_subtree_size_list(type, layer)\n    subtree_sizes.sort((a, b) => (a.size < b.size) ? 1 : -1)\n    // var subtree_sizes = this.get_subtree_size_list_cycle_sort(type, layer)\n\n    this.sequence = []\n    for (var i = 0; i < subtree_sizes.length; i++) {\n      // rejoin sequence\n      var cell = this.find_cell(subtree_sizes[i].sender, \"uplink\")\n      this.sequence.push(cell)\n      // reset schedule\n      this.schedule[subtree_sizes[i].slot][subtree_sizes[i].ch] = new Array(SUBSLOTS)\n      this.remove_usedsubslot(cell.cell.sender, cell.cell.receiver, cell.cell.type)\n    }\n\n    // compute new optimal schedule\n    this.new_schedule = []\n    for (var j = 0; j < this.sequence.length; j++) {\n      var cell = this.sequence[j]\n      var ret = this.find_empty_subslot([cell.cell.sender, cell.cell.receiver], 1, { type: cell.cell.type, layer: cell.cell.layer })\n      this.new_schedule.push(ret)\n      this.add_subslot(ret.slot, ret.subslot, { row: ret.row, type: \"uplink\", layer: cell.cell.layer, sender: cell.cell.sender, receiver: cell.cell.receiver }, ret.is_optimal);\n    }\n    // restore old schedule\n    this.schedule = JSON.parse(JSON.stringify(schedule_backup))\n    this.used_subslot = JSON.parse(JSON.stringify(used_subslot_backup))\n\n    // mark the cells that no need to adjust\n    for (var xx = 0; xx < this.sequence.length; xx++) {\n      this.sequence[xx].adjusted = false\n      if (this.sequence[xx].slot[0] == this.new_schedule[xx].slot.slot_offset) {\n        this.sequence[xx].adjusted = true\n      }\n    }\n\n    this.total_edits = 0\n\n    // cell in tmp area\n    this.tmpCellIndex = -1\n    this.rmTmpCellFlag = 0\n    // still use the cycle sort idea, but try to insert into an idle cell first, then swap;\n    // we only care the slot order, which channel doesn't matter.\n    for (var k = 0; k < this.sequence.length; k++) {\n      this.adjust_schedule(k, [k])\n      if (this.tmpCellIndex != -1) {\n        this.rmTmpCellFlag = 1\n        this.adjust_schedule(this.tmpCellIndex, [])\n      }\n    }\n    console.log(\"adjust subtree distribution of \" + type + \" layer \" + layer + \": \" + this.total_edits + \" edits\")\n    return this.total_edits\n  }\n\n  // adjust old schedule to new_schedule, with the idea of cycle sort to minimize schedule edits number\n  // assume not support \"specify a future time\" in schedule edit\n  this.adjust_schedule = function (k, history) {\n    var old_cell = this.sequence[k]\n    var new_slot = this.new_schedule[k]\n    if (old_cell.adjusted) return\n\n    // check if that slot has an idle channel to use or if there exists a conflict cell\n    var idleChannels = []\n    var conflictCellIndex = -1\n    var swapCandidates = []\n    for (var c = 0; c < this.channelRows[new_slot.row].length; c++) {\n      var ch = this.channelRows[new_slot.row][c]\n      // idle: not used\n      if (this.schedule[new_slot.slot.slot_offset][ch][0] == null) {\n        idleChannels.push(ch)\n      } else {\n        var index = 0\n        for (var ii = 0; ii < this.sequence.length; ii++)\n          if (this.sequence[ii].cell.sender == this.schedule[new_slot.slot.slot_offset][ch][0].sender)\n            index = ii\n\n        // conflict (same parent/receiver) or swap candidate (havent adjusted)\n        if (this.schedule[new_slot.slot.slot_offset][ch][0].receiver == old_cell.cell.receiver) {\n          conflictCellIndex = index\n        }\n        else if (!this.sequence[index].adjusted)\n          swapCandidates.push(index)\n      }\n    }\n    var tmpFlag = 0\n\n    var dstSlot = new_slot.slot.slot_offset\n    // move the conflict cell away and insert\n    if (conflictCellIndex != -1) {\n      // loop detected, move to tmp area\n      if (history.indexOf(conflictCellIndex) != -1) {\n        this.add_subslot({ slot_offset: 10, channel_offset: 10 }, { offset: 0, period: 1 }, this.sequence[k].cell, 0)\n        this.tmpCellIndex = k\n        dstSlot = 10\n        tmpFlag = 1\n      } else {\n        history.push(conflictCellIndex)\n        this.adjust_schedule(conflictCellIndex, history)\n        this.add_subslot({ slot_offset: new_slot.slot.slot_offset, channel_offset: this.sequence[conflictCellIndex].slot[1] }, { offset: 0, period: 1 }, { row: new_slot.row, type: old_cell.cell.type, layer: old_cell.cell.layer, sender: old_cell.cell.sender, receiver: old_cell.cell.receiver }, 1)\n      }\n\n      // insert into a idle cell\n    } else if (idleChannels.length > 0) {\n      this.add_subslot({ slot_offset: new_slot.slot.slot_offset, channel_offset: idleChannels[0] }, { offset: 0, period: 1 }, { row: new_slot.row, type: old_cell.cell.type, layer: old_cell.cell.layer, sender: old_cell.cell.sender, receiver: old_cell.cell.receiver }, 1)\n\n      // move a swap candidate away and insert\n    } else if (swapCandidates.length > 0) {\n      history.push(swapCandidates[0])\n      this.adjust_schedule(swapCandidates[0], history)\n      this.add_subslot({ slot_offset: new_slot.slot.slot_offset, channel_offset: this.sequence[swapCandidates[0]].slot[1] }, { offset: 0, period: 1 }, { row: new_slot.row, type: old_cell.cell.type, layer: old_cell.cell.layer, sender: old_cell.cell.sender, receiver: old_cell.cell.receiver }, 1)\n    }\n\n    if (this.tmpCellIndex != -1 && this.rmTmpCellFlag) {\n      this.remove_slot({ slot_offset: 10, channel_offset: 10 })\n      this.tmpCellIndex = -1\n      this.rmTmpCellFlag = 0\n    } else {\n      this.remove_slot({ slot_offset: old_cell.slot[0], channel_offset: old_cell.slot[1] })\n    }\n    this.total_edits++\n    if (!tmpFlag) old_cell.adjusted = true\n\n    // console.log(old_cell.cell.sender, old_cell.slot[0],'->',dstSlot)\n  }\n\n  // adjust partitions to the left to leave space\n  this.adjust_gap = function (node) {\n    var cell = this.find_cell(node, \"uplink\")\n    // idle slots number\n    var have_idle_slots = []\n    var total_idle_slots = 0\n    for (var i = Object.keys(this.partition[0].uplink).length - 1; i > cell.cell.layer; i--) {\n      var idle_slots = this.get_idle_slots(2, \"uplink\", i)\n      if (idle_slots > 0) {\n        have_idle_slots.push(i)\n        total_idle_slots += idle_slots\n      }\n    }\n    // if(total_idle_slots)\n\n  }\n\n  // see minimized_used_slots section of the paper\n  this.minimize_used_slots = function (type, layer) {\n    var edits = 0\n    if (layer == 0) return edits\n    // nodes in last layer\n    var cells = []\n    var groups = {}\n    var n = 0\n    for (var i = 0; i < this.used_subslot.length; i++) {\n      if (this.used_subslot[i].cell.type == type && this.used_subslot[i].cell.layer == layer) {\n        n++\n        var cell = this.used_subslot[i]\n        var parent = (type == \"uplink\") ? cell.cell.receiver : cell.cell.sender\n        if (groups[parent] == null) groups[parent] = [cell]\n        else groups[parent].push(cell)\n      }\n    }\n    if (n == 0) return edits\n\n    for (var i in groups) cells.push(groups[i])\n    cells.sort((a, b) => (a.length < b.length) ? 1 : -1)\n\n    var alpha = cells[0].length\n    var beta = Math.ceil(n / 6)\n    var rho = Math.max(alpha, beta)\n    var cur_slots = this.count_used_slots(type, layer)\n    console.log(\"minimum needed slots is \" + rho + \", using \" + cur_slots + \" now\")\n    if (rho < cur_slots) {\n      console.log(\"perform used slots minimization\");\n      return edits\n    }\n\n    var min_slot_list = []\n    if (rho < (this.partition[0][type][layer].end - this.partition[0][type][layer].start)) {\n      for (var r = 0; r < rho; r++)\n        min_slot_list.push(this.partition[0][type][layer].end - 1 - r)\n    } else {\n      // if(rho<)\n    }\n\n\n    // // schedule larger branches first\n    // children.sort((a, b) => (a.length < b.length) ? 1 : -1)\n    // // the minimum used slots list\n    // var new_slot_list = []\n    // var alpha = children[0].length\n    // // assume row 0 is enough for now, 8 channels\n    // var beta = Math.ceil(n/8)\n    // var rho = Math.max(alpha, beta)\n    // for(var r=0;r<rho;r++) new_slot_list.push(this.partition[0][type][layer].end-1-r)\n\n    // for(var k=0;k<children.length;k++) {\n    //   for(var l=0;l<children[k].length;l++) {\n    //     var cell = this.find_cell(children[k][l], type).cell\n    //     // reset this.used_subslot[i]\n    //     this.remove_usedsubslot(cell.sender, cell.receiver, cell.type)\n    //     var ret = this.find_empty_subslot([cell.sender, cell.receiver], 1, {type: cell.type, layer: cell.layer})        \n    //     sch.add_subslot(ret.slot, ret.subslot, {row:ret.row,type:type,layer:layer,sender:cell.sender,receiver:cell.receiver}, ret.is_optimal)\n    //     new_slot_list.push(ret.slot.slot_offset)\n    //   }\n    // }\n    // new_slot_list = Array.from(new Set(new_slot_list)).sort()\n    // var new_used_slots_cnt = this.count_used_slots(type, layer)\n\n    // // restore old schedule\n    // this.schedule = JSON.parse(JSON.stringify(schedule_backup))\n    // this.used_subslot = JSON.parse(JSON.stringify(used_subslot_backup))\n\n    // // not using minimum slots, need adjustment,\n    // // adjust cells not in the new_slot_list, still in the order of branch size\n    // var edits = 0\n\n    // if(new_used_slots_cnt < old_used_slots_cnt) {\n    //   for(var k=0;k<children.length;k++) {\n    //     for(var l=0;l<children[k].length;l++) {\n    //       var old_cell = this.find_cell(children[k][l], type)\n\n    //       if(new_slot_list.indexOf(old_cell.slot[0]) == -1) {\n    //         var ret = this.find_empty_subslot([old_cell.cell.sender, old_cell.cell.receiver], 1, {type:old_cell.cell.type, layer:old_cell.cell.layer})\n\n    //         // able to move to the right place\n    //         if(new_slot_list.indexOf(ret.slot.slot_offset) != -1) {\n    //           this.add_subslot(ret.slot, ret.subslot, {type:old_cell.cell.type,layer:old_cell.cell.layer,row:ret.row,sender:old_cell.cell.sender,receiver:old_cell.cell.receiver}, ret.is_optimal);\n    //           this.remove_slot({slot_offset:old_cell.slot[0], channel_offset:old_cell.slot[1]})\n    //           edits++\n    //         // need to move a cell away\n    //         } else {\n    //           var brothers = JSON.parse(JSON.stringify(this.topo[old_cell.cell.receiver]))\n    //           brothers.splice(brothers.indexOf(old_cell.cell.sender), 1)\n    //           var brothers_used_slots = {}\n    //           // no brothers occupied slots\n    //           var available_slots = []\n    //           for(var b=0;b<brothers.length;b++)\n    //             brothers_used_slots[this.find_cell(brothers[b], type).slot[0]] = 1\n\n    //           for(var s=0;s<new_slot_list.length;s++)\n    //             if(brothers_used_slots[new_slot_list[s]] == null)\n    //               available_slots.push(new_slot_list[s])\n    //           available_slots.sort((a, b) => b - a)\n\n    //           var done = 0\n    //           // find the cell to be moved\n    //           for(var ss=0;ss<available_slots.length;ss++) {\n    //             var slot = available_slots[ss]\n    //             var channels = []\n    //             for(var r=0;r<ROWS;r++)\n    //               if(slot>=this.partition[r][type][layer].start && slot<this.partition[r][type][layer].end)\n    //                 channels.push.apply(channels, this.channelRows[r])\n    //             for(var c=0;c<channels.length;c++) {\n    //               var ch = channels[c]\n    //               var cell = this.find_cell(this.schedule[slot][ch][0].sender, type)\n    //               var ret = this.find_empty_subslot([cell.cell.sender, cell.cell.receiver], 1, {type:cell.cell.type, layer:cell.cell.layer})\n    //               if(new_slot_list.indexOf(ret.slot.slot_offset) != -1) {\n    //                 // move away\n    //                 this.add_subslot(ret.slot, ret.subslot, {type:cell.cell.type,layer:cell.cell.layer,row:ret.row,sender:cell.cell.sender,receiver:cell.cell.receiver}, ret.is_optimal);\n    //                 this.remove_slot({slot_offset:cell.slot[0], channel_offset:cell.slot[1]})\n    //                 // move old_cell here\n    //                 this.add_subslot({slot_offset:cell.slot[0], channel_offset:cell.slot[1]}, {offset:0, period:1}, {type:old_cell.cell.type,layer:old_cell.cell.layer,row:cell.cell.row,sender:old_cell.cell.sender,receiver:old_cell.cell.receiver}, ret.is_optimal)\n    //                 this.remove_slot({slot_offset:old_cell.slot[0], channel_offset:old_cell.slot[1]})\n    //                 done = 1\n    //                 edits += 2\n    //                 break\n    //               }\n    //             }\n    //             if(done) break\n    //           }\n    //         }  \n    //       }\n    //     }\n    //   }\n    //   console.log(\"    minimize used slots: \"+edits+\" edits\")\n    // } else {\n    //   console.log(\"    already using minimum slots\")\n    // }\n    // return edits\n  }\n\n  //generate a shuffled slot list to iterate\n  this.shuffle_slots = function () {\n    var shuffled_slots = [];\n    for (var slot = 0; slot < this.slotFrameLength; ++slot) {\n      for (var c in this.channels) {\n        var ch = this.channels[c];\n        shuffled_slots.push({ slot_offset: slot, channel_offset: ch });\n      }\n    }\n    for (var i = shuffled_slots.length - 1; i > 0; i--) {\n      var j = Math.floor(Math.random() * (i + 1));\n      var temp = shuffled_slots[i];\n      shuffled_slots[i] = shuffled_slots[j];\n      shuffled_slots[j] = temp;\n    }\n    var schedule = this.schedule;\n    //pass into sort(func)\n    //sort the shuffled list by subslot occupation\n    shuffled_slots.sort(function (a, b) {\n      var ca = 0, cb = 0;\n      var a_sublist = schedule[a.slot_offset][a.channel_offset];\n      var b_sublist = schedule[b.slot_offset][b.channel_offset];\n      for (var sub = 0; sub < SUBSLOTS; ++sub) {\n        if (a_sublist[sub] == null) {\n          ++ca;\n        }\n        if (b_sublist[sub] == null) {\n          ++cb;\n        }\n      }\n      return ca - cb;\n    });\n    return shuffled_slots;\n  }\n\n  this.count_used_slotss = function () {\n    var cnt = 0;\n    for (var slot = 0; slot < 127; slot++) {\n      var flag = 0;\n      for (var ch = 1; ch < 17; ch++) {\n        if (this.schedule[slot][ch][0] != null) {\n          flag = 1\n          break\n        }\n      }\n      if (flag == 1)\n        cnt++\n    }\n    return cnt\n  }\n\n  this.count_multi_ch_slots = function () {\n    var cnt = 0;\n    for (var slot = 0; slot < 127; slot++) {\n      var tmp = 0;\n      for (var ch = 1; ch < 8; ch++) {\n        if (this.schedule[slot][ch][0] != null) {\n          tmp++\n        }\n      }\n      if (tmp > 1)\n        cnt++\n    }\n    return cnt\n  }\n\n\n  this.LDSF = function (nodes_list, info) {\n    var parent = (info.type == \"uplink\") ? nodes_list[1] : parent = nodes_list[0]\n    var slot_list = []\n    var block_size = 5\n    var block_num = 120 / block_size\n    var block_id\n    var block_list = []\n\n    // 1 cell per link, from root to leaf\n    if (parent == 0) {\n      // block_id = Math.floor(Math.random() * block_num)\n      block_id = block_numz\n      if (block_id % 2 != 0) block_id -= 1\n      if (info.type == \"uplink\") {\n        for (var b = block_id; b >= 0; b -= 2) block_list.push(b)\n        for (var b = block_num; b > block_id; b -= 2) block_list.push(b)\n      } else {\n        for (var b = block_id; b <= block_num; b += 2) block_list.push(b)\n        for (var b = 0; b < block_id; b += 2) block_list.push(b)\n      }\n    } else {\n      var parent_cell = this.find_cell(parent, info.type)\n      if (parent_cell != null) {\n        var parent_block_id = Math.floor(parent_cell.slot[0] / block_size)\n        // console.log(\"parent:\",parent, \"slot:\",parent_cell.slot[0], \"blkid:\",parent_block_id)\n\n        \n        if (info.type == \"uplink\") {\n          if (parent_block_id == 0) block_id = block_num\n          else block_id = parent_block_id - 1\n\n          for (var b = block_id; b >= 0; b -= 2) block_list.push(b)\n          for (var b = block_num; b > block_id; b -= 2) block_list.push(b)\n        } else {\n          if (parent_block_id == block_num) block_id = 0\n          else block_id = parent_block_id + 1\n\n          for (var b = block_id; b <= block_num; b += 2) block_list.push(b)\n          for (var b = 0; b < block_id; b += 2) block_list.push(b)\n        }\n\n      }\n    }\n\n    // // flow level scheduling, from leaf to root\n    // block_id = Math.floor(Math.random()*block_num)\n    // // leaf\n    // if(this.topology[node]==null) {\n    //   // even\n    //   if(info.layer%2==0) {\n    //     if(block_id%2!=0) block_id-=1\n    //     for(var b=block_id;b>=0;b-=2) block_list.push(b)\n    //     for(var b=block_num;b>block_id;b-=2) block_list.push(b)\n    //   } else {\n    //     // odd\n    //     if(block_id%2!=0) {\n    //       if(block_id==0) block_id++\n    //       else block_id--\n    //     }\n    //     for(var b=block_id;b>=0;b-=2) block_list.push(b)\n    //     for(var b=block_num;b>block_id;b-=2) block_list.push(b)\n    //   }\n\n    // } else {\n    //   this.find_cell()\n    // }\n\n\n    for (var i = 0; i < block_list.length; i++) {\n      for (var s = block_list[i] * block_size; s < (block_list[i] + 1) * block_size; s++) {\n        for (var ch = 1; ch < 17; ch++) {\n          slot_list.push({ slot_offset: s, channel_offset: ch })\n        }\n      }\n    }\n\n    return slot_list\n  }\n\n  // LLSF scheduler, return the slot list in the left/right of its parent's uplink/downlink slot\n  this.LLSF = function (parent, type) {\n    var slot_list = []\n    var slots = []\n    // gateway is 0 in simulation, 1 in testbed\n    if (parent == 0) {\n      return this.shuffle_slots()\n    }\n    var parent_cell = this.find_cell(parent, type)\n    if (type == \"uplink\") {\n      for (var i = parent_cell.slot[0] - 1; i >= 10; i--) slots.push(i)\n      for (var j = 127 - 1; j > parent_cell.slot[0]; j--) slots.push(j)\n    } else {\n      for (var i = parent_cell.slot[0] + 1; i < 127; i++) slots.push(i)\n      for (var j = 10; j < parent_cell.slot[0]; j++) slots.push(j)\n    }\n    for (var s = 0; s < slots.length; s++) {\n      var slot = slots[s]\n      for (var ch = 1; ch < 17; ch++) {\n        slot_list.push({ slot_offset: slot, channel_offset: ch })\n      }\n    }\n    return slot_list\n  }\n\n  this.count_used_slots = function (type, layer) {\n    var slots = {}\n    for (var i = 0; i < this.used_subslot.length; i++) {\n      if (this.used_subslot[i].is_optimal && this.used_subslot[i].cell.type == type && this.used_subslot[i].cell.layer == layer) {\n        var cell = this.used_subslot[i]\n        if (slots[cell.slot[0]] == null) slots[cell.slot[0]] = [cell]\n        else slots[cell.slot[0]].push(cell)\n      }\n    }\n    return Object.keys(slots).length\n  }\n\n  // put unaligned links back\n  this.adjust_unaligned_cells = function () {\n    var used_subslot = JSON.parse(JSON.stringify(this.used_subslot));\n    for (var j = 0; j < used_subslot.length; j++) {\n      if (!used_subslot[j].is_optimal) {\n        var old = used_subslot[j]\n        // console.log(\"adjusting\",old)\n        var ret = this.find_empty_subslot([old.cell.sender, old.cell.receiver], 1, { type: old.cell.type, layer: old.cell.layer }, old.cell.row)\n        if (ret.is_optimal) {\n          // console.log(\"to new position\",ret)\n          this.add_subslot(ret.slot, ret.subslot, { row: old.cell.row, type: old.cell.type, layer: old.cell.layer, sender: old.cell.sender, receiver: old.cell.receiver }, ret.is_optimal);\n          this.remove_subslot({ slot_offset: old.slot[0], channel_offset: old.slot[1] }, { offset: old.subslot[0], period: old.subslot[1] })\n        }\n      }\n    }\n  }\n\n  this.dynamic_partition_adjustment = function () {\n    // highest layer of non-optmial cells\n    var highest_layer = Object.keys(this.partition[0]['uplink']).length - 1\n    for (var row = 0; row < 1; row++) {\n      this.adjust(row, 'uplink', highest_layer)\n      // this.adjust(row,'downlink',highest_layer)\n    }\n    // this.reset_partition_changes()\n\n    console.log('Partitions offset adjustment summary:', this.adjustment_summary)\n\n    // make a real/deep copy! add or remove will change sch.used_subslot length\n    var used_subslot = JSON.parse(JSON.stringify(this.used_subslot));\n    var cnt = 0\n    // put unaligned links back\n    for (var j = 0; j < used_subslot.length; j++) {\n      if (!used_subslot[j].is_optimal) {\n        var old = used_subslot[j]\n        this.remove_subslot({ slot_offset: old.slot[0], channel_offset: old.slot[1] }, { offset: old.subslot[0], period: old.subslot[1] })\n\n        // console.log(\"adjusting\",old)\n        var ret = this.find_empty_subslot([old.cell.sender, old.cell.receiver], 1, { type: old.cell.type, layer: old.cell.layer }, old.cell.row)\n        // console.log(\"to new position\",ret)\n        this.add_subslot(ret.slot, ret.subslot, { row: old.cell.row, type: old.cell.type, layer: old.cell.layer, sender: old.cell.sender, receiver: old.cell.receiver }, ret.is_optimal);\n\n        cnt++\n      }\n    }\n    // console.log(\"Put\", cnt, \"non-optimal cells back\")\n  }\n\n  //3-d searcher\n  this.find_empty_subslot = function (nodes_list, period, info) {\n    var slots_list;\n    var checkOrder = 1\n    var parent = (info.type == \"uplink\") ? nodes_list[1] : parent = nodes_list[0]\n    rows = []\n    for(var r=0;r<ROWS;r++) rows.push(r)\n\n    // random\n    if (this.algorithm == \"random\") {\n      if (info.type == \"beacon\") slots_list = this.inpartition_slots(0, info, 0)\n      else slots_list = this.shuffle_slots()\n      for (var i = 0; i < slots_list.length; ++i) {\n        var slot = slots_list[i];\n        for (var offset = 0; offset < period; ++offset) {\n          if (this.available_subslot(nodes_list, slot, { period: period, offset: offset }, info, 0)) {\n            return { slot: slot, subslot: { offset: offset, period: period }, row: 0, is_optimal: 1 }\n          }\n        }\n      }\n      return\n    }\n    // LLSF, minimize slot gaps\n    if (this.algorithm == \"LLSF\") {\n      if (info.type == \"beacon\") slots_list = this.inpartition_slots(0, info, 0)\n      else slots_list = this.LLSF(parent, info.type)\n      for (var i = 0; i < slots_list.length; ++i) {\n        var slot = slots_list[i];\n        for (var offset = 0; offset < period; ++offset) {\n          if (this.available_subslot(nodes_list, slot, { period: period, offset: offset }, info, 0)) {\n            return { slot: slot, subslot: { offset: offset, period: period }, row: 0, is_optimal: 1 }\n          }\n        }\n      }\n      return\n    }\n\n    if (this.algorithm == \"LDSF\") {\n      slots_list = this.LDSF(nodes_list, info)\n      for (var i = 0; i < slots_list.length; ++i) {\n        var slot = slots_list[i];\n        for (var offset = 0; offset < period; ++offset) {\n          if (this.available_subslot(nodes_list, slot, { period: period, offset: offset }, info, 0)) {\n            return { slot: slot, subslot: { offset: offset, period: period }, row: 0, is_optimal: 1 }\n          }\n        }\n      }\n      console.log(nodes_list, info, \"not found\")\n      return\n    }\n\n    // partition\n    for (var ii = 0; ii < ROWS; ii++) {\n      r = rows[ii]\n      slots_list = this.inpartition_slots(0, info, r);\n      for (var i = 0; i < slots_list.length; ++i) {\n        var slot = slots_list[i];\n        for (var offset = 0; offset < period; ++offset) {\n          if (this.available_subslot(nodes_list, slot, { period: period, offset: offset }, info, checkOrder)) {\n            return { slot: slot, subslot: { offset: offset, period: period }, row: r, is_optimal: 1 }\n          }\n        }\n      }\n    }\n    // console.log(\"No empty aligned slot\")\n    this.nonOptimalCount++;\n\n    // assign in reserved area, row 0\n    slots_list = this.inpartition_slots(1, { type: info.type, layer: 0 }, 0);\n    for (var i = 0; i < slots_list.length; ++i) {\n      var slot = slots_list[i];\n      for (var offset = 0; offset < period; ++offset) {\n        if (this.available_subslot(nodes_list, slot, { period: period, offset: offset }, info, 0)) {\n          var ret = { slot: slot, subslot: { offset: offset, period: period }, row: 0, is_optimal: 0 }\n          // console.log(\"find an alternative slot:\",ret);\n          return (ret);\n        }\n      }\n    }\n\n    console.log(nodes_list, info, \"No empty slot found\");\n    slots_list=this.shuffle_slots()\n    for(var i=0;i<slots_list.length;++i){\n      var slot=slots_list[i];\n      for(var offset=0;offset<period;++offset){\n        if(this.available_subslot(nodes_list,slot,{period:period,offset:offset}, info, 0)){\n          return {slot:slot,subslot:{offset:offset,period:period}, row:0, is_optimal:0}\n        }\n      }\n    }\n    this.isFull = true;\n    return { slot: { slot_offset: 5, channel_offset: 10 }, row: 0, subslot: { offset: 0, period: 16 }, is_optimal: 0 };\n  }\n\n  this.remove_node = function (node) {\n    for (var slot = 0; slot < this.slotFrameLength; ++slot) {\n      for (var c in this.channels) {\n        var ch = this.channels[c];\n        for (var sub = 0; sub < SUBSLOTS; ++sub) {\n          if (this.schedule[slot][ch][sub] != null) {\n            if (\n              this.schedule[slot][ch][sub].sender == node ||\n              this.schedule[slot][ch][sub].receiver == node\n            ) {\n              // console.log(\"schedule[\"+slot+\"][\"+ch+\"][\"+sub+\"] cleaned\");\n              this.schedule[slot][ch][sub] = null;\n            }\n          }\n        }\n      }\n    }\n    for (var i = 0; i < this.used_subslot.length; i++) {\n      if (this.used_subslot[i].cell.sender == node || this.used_subslot[i].cell.receiver == node) {\n        this.used_subslot.splice(i, 1)\n        // array length will change\n        i--\n      }\n    }\n  }\n\n  this.periodOffsetToSubslot = function (periodOffset, period) {\n    return periodOffset * ((SUBSLOTS / period) % SUBSLOTS);\n  }\n}\n\nmodule.exports = {\n  create_scheduler: create_scheduler,\n  SUBSLOTS: SUBSLOTS\n};\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".bts[data-v-46c786ef]{float:right}.bts .vs-button[data-v-46c786ef]{margin-left:10px;font-size:.7rem;font-weight:600}.links[data-v-46c786ef]{text-align:left}.links #name[data-v-46c786ef]{font-size:1rem}.links #number[data-v-46c786ef]{font-size:1.2rem}#sch-table[data-v-46c786ef]{width:100%;height:255px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-3!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SchTable.vue?vue&type=style&index=0&id=46c786ef&lang=stylus&scoped=true&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"711764e2\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","import mod from \"-!../../node_modules/vue-style-loader/index.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-3!../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Footer.vue?vue&type=style&index=0&id=3e4ee0f8&lang=stylus&scoped=true&\"; export default mod; export * from \"-!../../node_modules/vue-style-loader/index.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-3!../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Footer.vue?vue&type=style&index=0&id=3e4ee0f8&lang=stylus&scoped=true&\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"#ntitle{text-align:right;font-weight:500;font-size:1.35rem;margin-left:90px;margin-bottom:20px}#ntitle #subtitle{font-size:1.2rem}#nbar{height:105px;z-index:1;position:absolute;margin-top:-80px;color:#fff}#nbar li{margin-right:30px;margin-bottom:20px}#nbar a{font-size:1rem}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"#map{font-size:1rem}#fBt{border-radius:6px 0 0 6px}#lBt{border-radius:0 6px 6px 0}#gmap{margin-top:8px;width:100%;height:648px}.gm-style-iw+button{display:none}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"517436b3\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","import mod from \"-!../../../node_modules/vue-style-loader/index.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-3!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Layers.vue?vue&type=style&index=0&id=3a8b9d87&lang=stylus&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/vue-style-loader/index.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-3!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Layers.vue?vue&type=style&index=0&id=3a8b9d87&lang=stylus&scoped=true&\"","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-3!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Events.vue?vue&type=style&index=0&lang=stylus&scope=true&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"156fb244\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('div',{attrs:{\"id\":\"content-wrap\"}},[_c('Navbar'),_c('Sidebar'),_c('keep-alive',[_c('router-view')],1)],1),_c('Footer')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('vs-navbar',{staticClass:\"nabarx\",attrs:{\"id\":\"nbar\",\"color\":\"linear-gradient(to right, #0A1E38 , #2A5788)\"}},[_c('div',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_c('vs-navbar-title',{attrs:{\"id\":\"ntitle\"}},[_c('div',[_vm._v(\"6TiSCH\")]),_c('div',{attrs:{\"id\":\"subtitle\"}},[_vm._v(\"@UConn\")])])],1),_c('vs-navbar-item',[_c('Events',{staticStyle:{\"cursor\":\"pointer\"}})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('vs-dropdown',{attrs:{\"id\":\"events\",\"vs-custom-content\":\"\",\"vs-trigger-click\":\"\"}},[_c('a',{attrs:{\"href.prevent\":\"\"}},[_vm._v(\"Events\")]),_c('vs-dropdown-menu',[_c('div',[_c('ECharts',{attrs:{\"autoresize\":\"\",\"options\":_vm.option}})],1),_c('vs-table',{attrs:{\"id\":\"t\",\"max-items\":\"13\",\"stripe\":\"\",\"pagination\":\"\",\"data\":_vm.events},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar data = ref.data;\nreturn _vm._l((data),function(tr,indextr){return _c('vs-tr',{key:indextr},[_c('vs-td',[_vm._v(\" \"+_vm._s(data[indextr].datetime)+\" \")]),_c('vs-td',[_vm._v(\" \"+_vm._s(data[indextr].event)+\" \")])],1)})}}])},[_c('template',{slot:\"thead\"},[_c('vs-th',[_vm._v(\" Date \")]),_c('vs-th',[_vm._v(\" Event \")])],1)],2)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <vs-dropdown id=\"events\" vs-custom-content vs-trigger-click >  \n    <a href.prevent>Events</a>\n    <vs-dropdown-menu>\n      <div><ECharts autoresize :options=\"option\"/></div>\n\n      <vs-table id=\"t\" max-items=\"13\" stripe pagination :data=\"events\">\n        <template slot=\"thead\">\n          <vs-th>\n            Date\n          </vs-th>\n          <vs-th>\n            Event\n          </vs-th>\n        </template>\n        <template slot-scope=\"{data}\">\n          <vs-tr :key=\"indextr\" v-for=\"(tr, indextr) in data\" >\n            <vs-td>\n              {{data[indextr].datetime}}\n            </vs-td>\n            <vs-td>\n              {{data[indextr].event}}\n            </vs-td>\n          </vs-tr>\n        </template>\n      </vs-table>\n    </vs-dropdown-menu>\n  </vs-dropdown>\n</template>\n\n<script>\nimport ECharts from \"vue-echarts/components/ECharts\";\nimport \"echarts/lib/chart/line\";\nimport \"echarts/lib/component/tooltip\";\nimport \"echarts/lib/component/dataZoom\";\n\nexport default {\n  components: {\n    ECharts\n  },\n  data() {\n    return {\n      events: [],\n      option: {\n        tooltip: {\n          trigger: 'axis'\n        },\n        dataZoom: [\n          {\n            type: \"inside\",\n            start: 0,\n            end: 100,\n          },\n        ],\n        xAxis: {\n            type: 'category',\n            data: [],\n          },\n        yAxis: {\n          show: false,\n          type: \"value\",\n          scale: true\n        },\n        \n        series: [{\n          name: 'Events count',\n          data: [],\n          smooth: true,\n          type: 'line',\n        }]\n      }\n    }\n  },\n  methods: {\n    getTopoHistory() {\n      this.$api.gateway.getTopoHistory()\n      .then(res => {\n        if(res.data.flag!=1) return\n        var tmp = []\n        var now = Date.now()\n        var nodeList = {}\n        for(var i=0;i<res.data.data.length;i++) {\n          var d = new Date(res.data.data[i].first_appear)\n          // time zone diff\n          var curD = new Date(d.getTime() - (d.getTimezoneOffset() * 60000))\n\n          tmp.push({\n            timestamp: res.data.data[i].first_appear, // for sort\n            datetime: curD.toJSON().substr(5, 14).replace('T', ' '),\n            event: `Node ${res.data.data[i].sensor_id} connected to Node ${res.data.data[i].parent}`\n          })\n\n          nodeList[res.data.data[i].sensor_id] = res.data.data[i].last_seen\n        }\n        \n        for(let id in nodeList) {\n          if((now - nodeList[id])>1000*60*10) {\n            var d2 = new Date(nodeList[id])\n            // time zone diff\n            var curD2 = new Date(d2.getTime() - (d2.getTimezoneOffset() * 60000))\n            tmp.push({\n              timestamp: nodeList[id], // for sort\n              datetime: curD2.toJSON().substr(5, 14).replace('T', ' '),\n              event: `Node ${id} lost`\n            })\n          }\n        }\n          \n        this.events = tmp.sort(function(a,b) {\n          return b.timestamp - a.timestamp\n        });\n\n        // draw chart\n        var st = this.events[this.events.length-1].datetime\n        var start_timestamp = new Date(2020,parseInt(st.slice(0,2))-1,st.slice(3,5), st.slice(6,8)).getTime()\n\n        var time_series = {}\n        for(var k=start_timestamp;k<now;k+=1000*60*60) {\n          var dd = new Date(k)\n          // time zone diff\n          var ddd = new Date(dd.getTime() - (dd.getTimezoneOffset() * 60000))\n          time_series[ddd.toJSON().substr(5, 8).replace('T', ' ')] = 0\n        }\n        \n        for(var l=0;l<this.events.length;l++) {\n          if(this.events[l].datetime.substr(0,8) in time_series) \n            time_series[this.events[l].datetime.substr(0,8)]+=1\n        }\n        \n        for(let t in time_series) {\n          this.option.xAxis.data.push(t)\n          this.option.series[0].data.push(time_series[t])\n        }\n      })\n    }\n  },\n  mounted() {\n    this.getTopoHistory()\n  }\n}\n</script>\n\n<style lang=\"stylus\" scope>\n#events\n  text-align center\n  color white\n  font-size 1rem\n  display block\n.echarts \n  width 400px\n  height 100px\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Events.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Events.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Events.vue?vue&type=template&id=34b80208&\"\nimport script from \"./Events.vue?vue&type=script&lang=js&\"\nexport * from \"./Events.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Events.vue?vue&type=style&index=0&lang=stylus&scope=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <vs-navbar class=\"nabarx\" id=\"nbar\" color=\"linear-gradient(to right, #0A1E38 , #2A5788)\">\n      <div slot=\"title\">\n        <vs-navbar-title id=\"ntitle\">\n          <div>6TiSCH</div><div id=\"subtitle\">@UConn</div>\n        </vs-navbar-title>\n      </div>\n      <vs-navbar-item>  \n        <Events style=\"cursor:pointer;\"/>\n      </vs-navbar-item>\n      <!-- <vs-navbar-item >\n        <a href=\"#\">foo2</a>\n      </vs-navbar-item>\n      <vs-navbar-item>\n        <a href=\"#\">foo3</a>\n      </vs-navbar-item> -->\n    </vs-navbar>\n  </div>\n</template>\n\n<script>\nimport Events from './dashboard/Events'\n\nexport default {\n  components: {\n    Events\n  }\n}\n</script>\n\n<style lang=\"stylus\" scope>\n#ntitle\n  text-align right\n  font-weight 500\n  font-size 1.35rem\n  margin-left 90px\n  margin-bottom 20px\n  #subtitle  \n    font-size 1.2rem\n#nbar\n  height 105px\n  z-index 1\n  position absolute\n  margin-top -80px\n  color white\n  li\n    margin-right 30px\n    margin-bottom 20px\n  a\n    font-size 1rem\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Navbar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Navbar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Navbar.vue?vue&type=template&id=fac63442&\"\nimport script from \"./Navbar.vue?vue&type=script&lang=js&\"\nexport * from \"./Navbar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Navbar.vue?vue&type=style&index=0&lang=stylus&scope=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"parentx\"},[_c('vs-sidebar',{staticClass:\"sidebarx\",attrs:{\"reduce\":_vm.reduce,\"reduce-not-rebound\":_vm.reduceNotRebound,\"reduce-not-hover-expand\":_vm.notExpand,\"hidden-background\":_vm.hiddenBG,\"parent\":\"body\",\"default-index\":_vm.cur_index,\"color\":\"danger\",\"spacer\":\"\"},model:{value:(_vm.active),callback:function ($$v) {_vm.active=$$v},expression:\"active\"}},[_c('div',{staticClass:\"header-sidebar\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('vs-avatar',{attrs:{\"size\":\"small\",\"src\":\"https://upload.wikimedia.org/wikipedia/en/thumb/5/56/University_of_Connecticut_seal.svg/1200px-University_of_Connecticut_seal.svg.png\"}})],1),_c('vs-sidebar-group',{attrs:{\"open\":\"\",\"title\":\"Application\",\"align\":\"left\"}},[_c('vs-sidebar-item',{attrs:{\"to\":\"/dashboard\",\"index\":\"1\",\"icon\":\"dashboard\"}},[_vm._v(\" Dashboard \")]),_c('vs-sidebar-item',{attrs:{\"to\":\"/scheduler\",\"index\":\"2\",\"icon\":\"schedule\"}},[_vm._v(\" Scheduler \")]),_c('vs-sidebar-item',{attrs:{\"to\":\"/analysis\",\"index\":\"3\",\"icon\":\"bar_chart\"}},[_vm._v(\" Analysis \")])],1),_c('vs-divider',{attrs:{\"icon\":\"person\",\"position\":\"left\"}},[_vm._v(\" User \")]),_c('vs-sidebar-item',{attrs:{\"index\":\"5\",\"icon\":\"account_box\"}},[_vm._v(\" Profile \")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"html\">\n\n  <div class=\"parentx\">\n\n    <vs-sidebar :reduce=\"reduce\" :reduce-not-rebound=\"reduceNotRebound\" :reduce-not-hover-expand=\"notExpand\" \n      :hidden-background=\"hiddenBG\" parent=\"body\" \n      :default-index=\"cur_index\"  color=\"danger\" class=\"sidebarx\" spacer v-model=\"active\" >\n\n      <div class=\"header-sidebar\" slot=\"header\">\n        <vs-avatar size=\"small\" src=\"https://upload.wikimedia.org/wikipedia/en/thumb/5/56/University_of_Connecticut_seal.svg/1200px-University_of_Connecticut_seal.svg.png\"/>\n      </div>\n      <vs-sidebar-group open title=\"Application\" align=\"left\">\n        <vs-sidebar-item to=\"/dashboard\" index=\"1\" icon=\"dashboard\">\n          Dashboard\n        </vs-sidebar-item>\n        <vs-sidebar-item to=\"/scheduler\" index=\"2\" icon=\"schedule\" >\n          Scheduler\n        </vs-sidebar-item>\n        <vs-sidebar-item to=\"/analysis\" index=\"3\" icon=\"bar_chart\" >\n          Analysis\n        </vs-sidebar-item>\n      </vs-sidebar-group>\n\n      <vs-divider icon=\"person\" position=\"left\" >\n        User\n      </vs-divider>\n\n      <vs-sidebar-item index=\"5\" icon=\"account_box\" >\n        Profile\n      </vs-sidebar-item>\n\n    </vs-sidebar>\n  </div>\n\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      cur_index: 1,\n      active: true,\n      paths: [\"/dashboard\", \"/scheduler\", \"/analysis\"],\n      notExpand: false,\n      hiddenBG: true,\n      reduce: true,\n      reduceNotRebound: true,\n    };\n  },\n  methods: {\n    biu() {\n      this.cur_index = this.paths.indexOf(this.$route.path)+1\n    },\n  },\n  created() {\n    this.biu();\n  },\n};\n</script>\n\n<style lang=\"stylus\" scoped>\n.header-sidebar {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n  width: 100%;\n\n  h4 {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: 100%;\n  }\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Sidebar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Sidebar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Sidebar.vue?vue&type=template&id=5ddbea69&scoped=true&lang=html&\"\nimport script from \"./Sidebar.vue?vue&type=script&lang=js&\"\nexport * from \"./Sidebar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Sidebar.vue?vue&type=style&index=0&id=5ddbea69&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5ddbea69\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"footer\"},[_c('vs-card',{attrs:{\"id\":\"card\"}},[_c('vs-row',{attrs:{\"vs-align\":\"center\",\"vs-type\":\"flex\"}},[_c('vs-col',{staticClass:\"c\",attrs:{\"vs-offset\":\"9\",\"vs-w\":\"4\",\"vs-align\":\"center\"}},[_c('h3',[_c('a',{attrs:{\"href\":\"https://cps.cse.uconn.edu/\"}},[_vm._v(\" Cyber-Physical Systems Laboratory, UConn\")])])])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<div class=\"footer\">\n\t<vs-card id=\"card\">\n\t\t<vs-row vs-align=\"center\" vs-type=\"flex\" >\n\t\t\t<vs-col class=\"c\" vs-offset=\"9\" vs-w=\"4\" vs-align=\"center\" > \n\t\t\t\t<h3><a href=\"https://cps.cse.uconn.edu/\">&#9400; Cyber-Physical Systems Laboratory, UConn</a></h3>\n\t\t\t</vs-col>\n\t\t</vs-row>\n\t</vs-card>\n</div>\n</template>\n\n<script>\nexport default {\n\t\n}\n</script>\n\n<style lang=\"stylus\" scoped>\n.footer\n  overflow: hidden;\n  position absolute\n  bottom 0\n  height 50px\n  width 100%\n#card\n  height 50px\n  width 100%\n  margin 0\n  padding 5px\n  border-radius 0px\n  color black\n  h3\n    font-size 0.7rem\n\ta\n    color #36454A\n  a:hover\n    text-decoration underline\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Footer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Footer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Footer.vue?vue&type=template&id=3e4ee0f8&scoped=true&\"\nimport script from \"./Footer.vue?vue&type=script&lang=js&\"\nexport * from \"./Footer.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Footer.vue?vue&type=style&index=0&id=3e4ee0f8&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3e4ee0f8\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div id=\"app\">\n    <div id=\"content-wrap\">\n      <Navbar/>\n      <Sidebar/>\n      <keep-alive>\n        <router-view/>\n      </keep-alive>\n    </div>\n    <Footer/>\n  </div>\n  \n</template>\n\n<script>\nimport Navbar from './components/Navbar'\nimport Sidebar from './components/Sidebar'\nimport Footer from './components/Footer'\n\nexport default {\n  name: 'app',\n  components: {\n    Navbar,\n    Sidebar,\n    Footer\n  }\n}\n</script>\n\n<style>\nhtml, body {\n  max-height: 120%;\n  \n  width: 100%;\n  margin: 0;\n  padding: 0;\n  background-color: #EBECF1;\n  font-size: 1.15rem;\n}\n\n#app {\n  position: relative;\n  min-height: calc(100vh - 80px);\n  font-family: \"Noto Sans\", sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  color: #2c3e50;\n  margin-top: 80px;\n  /* height: 100%; */\n}\n\n#content-wrap {\n  padding-bottom: 50px;\n  /* overflow: hidden; */\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=086ead11&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('vs-row',[_c('vs-col',{attrs:{\"vs-offset\":\"0.8\",\"vs-w\":\"5\"}},[_c('DeviceCnt')],1),_c('vs-col',{attrs:{\"vs-offset\":\"0.3\",\"vs-w\":\"2.6125\"}},[_c('Uptime')],1),_c('vs-col',{attrs:{\"vs-offset\":\"0.25\",\"vs-w\":\"2.6125\"}},[_c('TxTotal')],1)],1),_c('vs-row',{attrs:{\"vs-align\":\"flex-start\",\"vs-w\":\"12\"}},[_c('vs-col',{attrs:{\"vs-offset\":\"0.8\",\"vs-w\":\"5\"}},[_c('NWTable'),_c('RSSiChart')],1),_c('vs-col',{attrs:{\"vs-offset\":\"0.3\",\"vs-w\":\"5.5\"}},[_c('Topo')],1)],1),_c('vs-row',{attrs:{\"vs-align\":\"flex-start\",\"vs-w\":\"12\"}},[_c('vs-col',{attrs:{\"vs-offset\":\"0.8\",\"vs-w\":\"10.8\"}},[_c('SchTable')],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('vs-row',{attrs:{\"vs-align\":\"flex-start\"}},[_c('vs-col',{staticStyle:{\"z-index\":\"99\"},attrs:{\"vs-w\":\"5.7\"}},[_c('vs-card',[_c('vs-row',{attrs:{\"vs-align\":\"center\"}},[_c('vs-col',{attrs:{\"vs-w\":\"3\"}},[_c('vs-icon',{attrs:{\"size\":\"55px\",\"icon\":\"router\",\"color\":\"#B4A3DB\"}})],1),_c('vs-col',{staticClass:\"cnt\",attrs:{\"vs-offset\":\"4.5\",\"vs-w\":\"4.5\"}},[_c('h5',[_vm._v(\"Gateways\")]),_c('h3',[_vm._v(_vm._s(_vm.gateways.length))])])],1)],1)],1),_c('vs-col',{staticStyle:{\"z-index\":\"99\"},attrs:{\"vs-offset\":\"0.6\",\"vs-w\":\"5.7\"}},[_c('vs-card',[_c('vs-row',{attrs:{\"vs-align\":\"center\"}},[_c('vs-col',{attrs:{\"vs-w\":\"3\"}},[_c('vs-icon',{attrs:{\"size\":\"55px\",\"icon\":\"memory\",\"color\":\"#58B2EC\"}})],1),_c('vs-col',{staticClass:\"cnt\",attrs:{\"vs-offset\":\"4.5\",\"vs-w\":\"4.5\"}},[_c('h5',[_vm._v(\"Sensors\")]),_c('h3',[_vm._v(_vm._s(_vm.sensorCnt))])])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <vs-row vs-align=\"flex-start\"> \n    <vs-col style=\"z-index:99\" vs-w=\"5.7\">\n      <vs-card>\n          <vs-row vs-align=\"center\">\n            <vs-col vs-w=\"3\">\n              <vs-icon size=\"55px\" icon=\"router\" color=\"#B4A3DB\"></vs-icon>\n            </vs-col>\n\n            <vs-col class=\"cnt\" vs-offset=\"4.5\" vs-w=\"4.5\">\n              <h5>Gateways</h5>\n              <h3>{{gateways.length}}</h3>\n            </vs-col>\n          </vs-row>\n      </vs-card>\n    </vs-col>\n\n    <vs-col style=\"z-index:99\" vs-offset=\"0.6\" vs-w=\"5.7\">\n      <vs-card>\n          <vs-row vs-align=\"center\">\n            <vs-col vs-w=\"3\">\n              <vs-icon size=\"55px\" icon=\"memory\" color=\"#58B2EC\"></vs-icon>\n            </vs-col>\n\n            <vs-col class=\"cnt\" vs-offset=\"4.5\" vs-w=\"4.5\">\n              <h5>Sensors</h5>\n              <h3>{{sensorCnt}}</h3>\n            </vs-col>\n          </vs-row>\n      </vs-card>\n    </vs-col>\n  </vs-row> \n</template>\n\n<script>\n\nexport default {\n    data() {\n        return {\n            gateways: [],\n            sensorCnt: 0,\n        }\n    },\n    methods: {    \n        getGateway() {\n            this.$api.gateway.getGateway()\n            .then(res=> {\n                // this.gateways = res.data.data\n                this.gateways = ['UCONN_GW']\n                this.$EventBus.$emit('gateways',res.data.data)\n            })\n        },\n        selectCurGW(gw) {\n            this.curGW = gw\n            this.$vs.notify({\n                title:'Gateway Change',\n                text:`Current gateway changed to ${gw}`,\n                color:\"primary\",\n            })\n        }\n    },\n    mounted() {\n        this.getGateway();\n        this.$EventBus.$on(\"sensorCnt\", (n) => {\n          this.sensorCnt = n;\n        });\n    }\n}\n</script>\n\n<style lang=\"stylus\" scoped>\n.cnt\n  font-size 1.15rem\n  \n  >h3\n    font-size 1.5rem\n  >h5\n    color #3B4F63\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DeviceCnt.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DeviceCnt.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DeviceCnt.vue?vue&type=template&id=083ff0da&scoped=true&\"\nimport script from \"./DeviceCnt.vue?vue&type=script&lang=js&\"\nexport * from \"./DeviceCnt.vue?vue&type=script&lang=js&\"\nimport style0 from \"./DeviceCnt.vue?vue&type=style&index=0&id=083ff0da&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"083ff0da\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('vs-row',[_c('vs-col',{staticStyle:{\"z-index\":\"99\"},attrs:{\"vs-w\":\"12\"}},[_c('vs-card',{attrs:{\"id\":\"uptime\"}},[_c('vs-row',{attrs:{\"id\":\"r\",\"vs-type\":\"flex\",\"vs-align\":\"center\"}},[_c('vs-col',{attrs:{\"vs-w\":\"2.4\"}},[_c('vs-icon',{attrs:{\"size\":\"55px\",\"icon\":\"power_settings_new\",\"color\":\"#B4A3DB\"}})],1),_c('vs-col',{attrs:{\"vs-w\":\"2.5\"}},[_c('h3',{staticStyle:{\"color\":\"#3B4F63\"}},[_vm._v(\"Uptime\")])]),_c('vs-col',{attrs:{\"vs-offset\":\"3\",\"vs-w\":\"4\"}},[_c('h3',[_vm._v(\" \"+_vm._s(_vm.d)+\" day\"),(_vm.d>1)?_c('span',[_vm._v(\"s\")]):_vm._e(),_vm._v(\" \"+_vm._s(_vm.h.toString().padStart(2,'0'))+\":\"+_vm._s(_vm.m.toString().padStart(2,'0'))+\":\"+_vm._s(_vm.s.toString().padStart(2,'0')))])])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <vs-row > \n  <vs-col style=\"z-index:99\" vs-w=\"12\">\n    <vs-card id=\"uptime\">\n      <vs-row id=\"r\" vs-type=\"flex\" vs-align=\"center\">\n        <vs-col style=\"\" vs-w=\"2.4\">\n          <vs-icon size=\"55px\" icon=\"power_settings_new\" color=\"#B4A3DB\"></vs-icon>\n        </vs-col>\n        <vs-col vs-w=\"2.5\">\n          <h3 style=\"color:#3B4F63\">Uptime</h3>\n        </vs-col>\n        \n        <vs-col vs-offset=\"3\" vs-w=\"4\">\n          <h3> {{d}} day<span v-if=\"d>1\">s</span> {{h.toString().padStart(2,'0')}}:{{m.toString().padStart(2,'0')}}:{{s.toString().padStart(2,'0')}}</h3>\n        </vs-col>\n      </vs-row>\n    </vs-card>\n  </vs-col>\n  </vs-row> \n</template>\n\n<script>\n\nexport default {\n  data() {\n    return {\n      s: 0,\n      m: 0,\n      h: 0,\n      d: 0,\n    }\n  },\n  methods: {\n    computeTime(startTime) {\n        setInterval(()=>{\n          var now = Date.now()\n          this.s = Math.floor((now-startTime)/1000%60)\n          this.m = Math.floor((now-startTime)/(1000*60)%60)\n          this.h = Math.floor((now-startTime)/(1000*60*60)%24)\n          this.d = Math.floor((now-startTime)/(1000*60*60*24))\n        },1000)\n        \n    }\n  },\n  mounted() {\n    this.$EventBus.$on(\"startTime\", (st) => {\n      this.computeTime(st)\n    });\n  }\n}\n</script>\n\n<style lang=\"stylus\" scoped>\n#r\n  // margin-top 3px\n  font-size 0.92rem\n  overflow hidden\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Uptime.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Uptime.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Uptime.vue?vue&type=template&id=1938c24a&scoped=true&\"\nimport script from \"./Uptime.vue?vue&type=script&lang=js&\"\nexport * from \"./Uptime.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Uptime.vue?vue&type=style&index=0&id=1938c24a&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1938c24a\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('vs-table',{attrs:{\"id\":\"table\",\"max-items\":_vm.maxItems,\"pagination\":\"\",\"currentPage\":_vm.currentPage,\"data\":_vm.sensors},on:{\"selected\":_vm.selectSensor},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar data = ref.data;\nreturn _vm._l((data),function(tr,index){return _c('vs-tr',{key:index,attrs:{\"data\":tr}},[_c('vs-td',{attrs:{\"data\":data[index].sensor_id}},[_vm._v(\" \"+_vm._s(data[index].sensor_id)+\" \")]),_c('vs-td',{attrs:{\"data\":data[index].eui64}},[_vm._v(\" \"+_vm._s(data[index].eui64.substr(18,24).toUpperCase())+\" \")]),_c('vs-td',{attrs:{\"data\":data[index].hop}},[_vm._v(\" \"+_vm._s(data[index].hop)+\" \")]),_c('vs-td',{attrs:{\"data\":data[index].avg_mac_tx_total_diff}},[_vm._v(\" \"+_vm._s((data[index].avg_mac_tx_total_diff/120).toFixed(3))+\" \")]),_c('vs-td',{attrs:{\"data\":data[index].uplink_latency_avg}},[_vm._v(\" \"+_vm._s(data[index].uplink_latency_avg.toFixed(2))+\" \")]),_c('vs-td',{attrs:{\"data\":data[index].e2e_latency_avg}},[_vm._v(\" \"+_vm._s((data[index].e2e_latency_avg).toFixed(2))+\" \")]),_c('vs-td',{attrs:{\"data\":data[index].per}},[_vm._v(\" \"+_vm._s((data[index].per).toFixed(3))+\" \")])],1)})}}]),model:{value:(_vm.selectedSensor),callback:function ($$v) {_vm.selectedSensor=$$v},expression:\"selectedSensor\"}},[_c('vs-row',{staticStyle:{\"margin\":\"6px\"},attrs:{\"slot\":\"header\",\"vs-align\":\"center\"},slot:\"header\"},[_c('vs-col',{attrs:{\"vs-w\":\"4\"}},[_c('h4',[_vm._v(\"Network Statistics\")])]),_c('vs-col',{attrs:{\"vs-offset\":\"0.5\",\"vs-w\":\"3\"}},[_c('vs-row',{attrs:{\"vs-w\":\"12\",\"vs-justify\":\"flex-end\",\"vs-align\":\"center\"}},[_c('vs-col',{attrs:{\"vs-w\":\"6\"}},[_c('p',{staticStyle:{\"font-size\":\"0.8rem\",\"text-align\":\"right\"}},[_vm._v(\"auto-refresh\")])]),_c('vs-col',{attrs:{\"vs-offset\":\"0.2\",\"vs-w\":\"3\"}},[_c('vs-switch',{staticStyle:{\"white-space\":\"nowrap\"},model:{value:(_vm.autorefresh),callback:function ($$v) {_vm.autorefresh=$$v},expression:\"autorefresh\"}})],1)],1)],1),_c('vs-col',{attrs:{\"vs-offset\":\"0.3\",\"vs-w\":\"2\"}},[_c('vs-select',{attrs:{\"width\":\"100%\",\"autocomplete\":\"\"},on:{\"change\":_vm.selectGW},model:{value:(_vm.selectedGW),callback:function ($$v) {_vm.selectedGW=$$v},expression:\"selectedGW\"}},_vm._l((_vm.gateways),function(item,index){return _c('vs-select-item',{key:index,attrs:{\"text\":item,\"value\":item}})}),1)],1),_c('vs-col',{attrs:{\"vs-offset\":\"0.3\",\"vs-w\":\"1.6\"}},[_c('vs-select',{attrs:{\"width\":\"100%\",\"autocomplete\":\"\"},on:{\"change\":_vm.selectRange},model:{value:(_vm.selectedRange),callback:function ($$v) {_vm.selectedRange=$$v},expression:\"selectedRange\"}},_vm._l((_vm.ranges),function(item,index){return _c('vs-select-item',{key:index,attrs:{\"value\":item,\"text\":item}})}),1)],1)],1),_c('template',{slot:\"thead\"},[_c('vs-th',{attrs:{\"sort-key\":\"sensor_id\"}},[_vm._v(\" ID \")]),_c('vs-th',{attrs:{\"sort-key\":\"eui\"}},[_vm._v(\" EUI \")]),_c('vs-th',{attrs:{\"sort-key\":\"hop\"}},[_vm._v(\" HOP \")]),_c('vs-th',{attrs:{\"sort-key\":\"avg_mac_tx_total_diff\"}},[_vm._v(\" TX RATE(pps) \")]),_c('vs-th',{attrs:{\"sort-key\":\"uplink_latency_avg\"}},[_vm._v(\" LATENCY(s) \")]),_c('vs-th',{attrs:{\"sort-key\":\"e2e_latency_avg\"}},[_vm._v(\" RTT(s) \")]),_c('vs-th',{attrs:{\"sort-key\":\"per\"}},[_vm._v(\" PER(%) \")])],1)],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"html\" >\n  <div>\n    <vs-table id=\"table\" :max-items=\"maxItems\" pagination :currentPage=\"currentPage\" v-model=\"selectedSensor\" @selected=\"selectSensor\" :data=\"sensors\">\n      <vs-row slot=\"header\" vs-align=\"center\" style=\"margin:6px\">\n        <vs-col  vs-w=\"4\">\n          <h4>Network Statistics</h4>\n        </vs-col>\n        <vs-col vs-offset=\"0.5\" vs-w=\"3\">\n            <vs-row vs-w=12 vs-justify=\"flex-end\"  vs-align=\"center\">\n              <vs-col vs-w=\"6\">\n                <p style=\"font-size:0.8rem;text-align:right\">auto-refresh</p>\n              </vs-col>\n              <vs-col vs-offset=\"0.2\" vs-w=\"3\">\n                <vs-switch style=\"white-space: nowrap;\" v-model=\"autorefresh\"/>\n              </vs-col>\n            </vs-row>\n        </vs-col>\n        <vs-col vs-offset=\"0.3\" vs-w=\"2\">\n          <vs-select v-model=\"selectedGW\" width=\"100%\" autocomplete @change=\"selectGW\">\n            <vs-select-item :text=\"item\" :value=\"item\" v-for=\"(item,index) in gateways\" :key=\"index\"/>\n          </vs-select>\n        </vs-col>\n        <vs-col vs-offset=\"0.3\" vs-w=\"1.6\">\n          <vs-select v-model=\"selectedRange\" width=\"100%\" autocomplete @change=\"selectRange\">\n            <vs-select-item :value=\"item\" :text=\"item\" v-for=\"(item,index) in ranges\" :key=\"index\"/>\n          </vs-select>\n        </vs-col>\n      </vs-row>\n\n      <template slot=\"thead\">\n        <vs-th sort-key=\"sensor_id\">\n          ID\n        </vs-th>\n        <!-- <vs-th sort-key=\"gateway\">\n          GATEWAY\n        </vs-th> -->\n        <vs-th sort-key=\"eui\">\n          EUI\n        </vs-th>\n        <vs-th sort-key=\"hop\">\n          HOP\n        </vs-th>\n        \n        <vs-th sort-key=\"avg_mac_tx_total_diff\">\n          TX RATE(pps)\n        </vs-th>\n        <!-- <vs-th sort-key=\"tx_cells\">\n          TX CELLS\n        </vs-th> -->\n        <!-- <vs-th sort-key=\"parent\">\n          PARENT\n        </vs-th> -->\n        <!-- <vs-th sort-key=\"children\">\n          CHILDREN\n        </vs-th> -->\n        <vs-th sort-key=\"uplink_latency_avg\">\n          LATENCY(s)\n        </vs-th>\n        <!-- <vs-th sort-key=\"uplink_latency_sr\">\n          UPLINK LAT SR(%)\n        </vs-th> -->\n        <vs-th sort-key=\"e2e_latency_avg\">\n          RTT(s)\n        </vs-th>\n        <!-- <vs-th sort-key=\"sr\">\n          DSR(%)\n        </vs-th> -->\n        <!-- <vs-th sort-key=\"e2e_latency_sr\">\n          LAT SR(%)\n        </vs-th> -->\n        \n        <vs-th sort-key=\"per\">  \n          PER(%)\n        </vs-th>\n        <!-- <vs-th sort-key=\"per_app\">\n          APP PER(%)\n        </vs-th> -->\n      </template>\n\n      <template slot-scope=\"{data}\">\n        <vs-tr :data=\"tr\" :key=\"index\" v-for=\"(tr, index) in data\">\n          <vs-td :data=\"data[index].sensor_id\">\n            {{data[index].sensor_id}}\n          </vs-td>\n          <vs-td :data=\"data[index].eui64\">\n            {{data[index].eui64.substr(18,24).toUpperCase()}}\n          </vs-td>\n          <!-- <vs-td :data=\"data[index].gateway\">\n            {{data[index].gateway}}\n          </vs-td> -->\n          <vs-td :data=\"data[index].hop\">\n            {{data[index].hop}}\n          </vs-td>\n          <vs-td :data=\"data[index].avg_mac_tx_total_diff\">\n            {{(data[index].avg_mac_tx_total_diff/120).toFixed(3)}}\n          </vs-td>\n          \n          <!-- <vs-td :data=\"data[index].parent\">\n            {{data[index].parent}}\n          </vs-td> -->\n          <!-- <vs-td :data=\"data[index].children\">\n            {{data[index].children}}\n          </vs-td> -->\n          <!-- <vs-td :data=\"data[index].tx_cells\">\n            {{data[index].tx_cells}}\n          </vs-td> -->\n          \n          <vs-td :data=\"data[index].uplink_latency_avg\">\n            {{data[index].uplink_latency_avg.toFixed(2)}}\n          </vs-td>\n          <!-- <vs-td :data=\"data[index].uplink_latency_sr\">\n            {{(data[index].uplink_latency_sr*100).toFixed(2)}}\n          </vs-td> -->\n          <vs-td :data=\"data[index].e2e_latency_avg\">\n            {{(data[index].e2e_latency_avg).toFixed(2)}}\n          </vs-td>\n          <!-- <vs-td :data=\"data[index].sr\">\n            {{(data[index].sr*100).toFixed(2)}}\n          </vs-td> -->\n          <!-- <vs-td :data=\"data[index].e2e_latency_sr\">\n            {{(data[index].e2e_latency_sr*100).toFixed(2)}}\n          </vs-td> -->\n           \n          <vs-td :data=\"data[index].per\">\n            {{(data[index].per).toFixed(3)}}\n          </vs-td>\n          <!-- <vs-td :data=\"data[index].per_app\">\n            {{data[index].app_per.toFixed(3)}}\n          </vs-td>  -->\n        </vs-tr>\n      </template>\n    </vs-table>\n  </div>\n</template>\n\n\n\n<script>\n// import topoRes from './topology_121_part.json'\nexport default {\n  data() {\n    return {\n      autorefresh: false,\n      gateways: [],\n      sensors: [],\n      selectedGW: 'any',\n      selectedSensor: {},\n      maxItems: 8,\n      currentPage: 1,\n      selectedRange: 'week',\n      ranges: ['15min','30min','1hr',\"4hr\",'day','week','month']\n    }\n  },\n  methods: {\n    drawNWTable(gw, range) {\n      this.$api.gateway.getNWStat(gw, range)\n      .then(res=> {\n        if (res.data.flag==0||res.data.data.length==0){\n          this.sensors = []\n          return\n        }\n        for(var i=0;i<res.data.data.length;i++){\n          res.data.data[i].sr = (res.data.data[i].uplink_latency_success+res.data.data[i].e2e_latency_success) / (res.data.data[i].uplink_latency_cnt+res.data.data[i].e2e_latency_cnt)\n          res.data.data[i].mac_per = res.data.data[i].avg_mac_tx_noack_diff/(res.data.data[i].avg_mac_tx_total_diff+0.000001)*100.0\n          res.data.data[i].app_per = res.data.data[i].avg_app_per_lost_diff/(res.data.data[i].avg_app_per_sent_diff+0.000001)*100.0\n          res.data.data[i].per = res.data.data[i].mac_per + res.data.data[i].app_per\n          // res.data.data[i].tx_cells = 0\n        }\n\n        var sensors = res.data.data.sort(function(a,b) {\n          return a.sensor_id - b.sensor_id\n        });\n        \n        // get hop and children\n        var links = []\n        this.$api.gateway.getTopology(gw, range)\n        .then(res=>{\n          var nodes = res.data.data\n          // nodes = topoRes.data\n          for(var n=0;n<nodes.length;n++) {\n            \n\n\n            // links: [[child, parent]]\n            links.push([nodes[n].sensor_id,nodes[n].parent])\n\n            if(nodes[n].sensor_id!=1) {\n              var hop = 1\n              var parent = nodes[n].parent\n              var MaxHop = 10\n              while(parent!=1&&MaxHop>=0) {\n                for(var nn=0;nn<nodes.length;nn++) {\n                  if(nodes[nn].sensor_id == parent) {\n                    parent = nodes[nn].parent\n                    hop++\n                  }\n                }\n                MaxHop--\n              }\n              nodes[n].hop = hop\n            }\n          }\n          \n          // for(var nnn=0;nnn<nodes.length;nnn++) {\n          //   var children = 0\n          //   for(var l=0;l<links.length;l++) {\n          //     // is someone's parent\n          //     if(nodes[nnn].sensor_id==links[l][1])\n          //       children++\n          //   }\n          //   nodes[nnn].children=children\n          // }\n          \n          for(var x=0;x<sensors.length;x++) {\n            for(var y=0;y<nodes.length;y++) {\n              if(sensors[x].sensor_id==nodes[y].sensor_id) {\n                sensors[x].eui64 = nodes[y].eui64\n                sensors[x].hop = nodes[y].hop\n                sensors[x].parent = nodes[y].parent\n                // sensors[x].children = nodes[y].children\n              }\n            }\n          }\n          \n          // index for pagination\n          for(var j=0;j<sensors.length;j++) {\n            sensors[j].index = j\n          }\n          \n          this.sensors = sensors\n          this.$EventBus.$emit(\"sensors\",this.sensors)\n\n          // count bandwidth (tx cell)   \n          // this.$api.gateway.getSchedule().\n          // then((res)=>{ \n          //   if(res.data.flag == 0) return\n\n          //   for(var j=0;j<this.sensors.length;j++) {\n          //     var tx_cell_num = 0\n          //     for(var i=0;i<res.data.data.length;i++) {\n          //       if(res.data.data[i].type!=\"beacon\") {\n          //         if(res.data.data[i].sender == this.sensors[j].sensor_id) {\n          //           tx_cell_num++\n          //         }  \n          //       }\n          //     }\n          //     this.sensors[j].tx_cells = tx_cell_num\n          //   }            \n          // })\n        })\n      })\n    },\n    selectGW() {\n      this.$EventBus.$emit('selectedGW', this.selectedGW)\n    },\n    selectSensor(tr) {\n      this.$EventBus.$emit('selectedSensor', tr)\n    },\n    selectRange() {\n      this.$EventBus.$emit('selectedRange', this.selectedRange)\n    },\n  },\n  mounted() {\n    this.drawNWTable(this.selectedGW, this.selectedRange)\n\n    this.$EventBus.$on(\"gateways\", (gws)=>{\n      this.gateways=gws\n      this.gateways.unshift(\"any\")\n    }) \n    // handle sensor selection from Map\n    this.$EventBus.$on(\"selectedSensor\", (s)=>{\n      for(var i=0;i<this.sensors.length;i++) {\n        if(this.sensors[i].sensor_id == s.sensor_id) {\n          this.currentPage = parseInt((this.sensors[i].index+this.maxItems)/this.maxItems)\n          this.selectedSensor = this.sensors[i]\n        }\n      }\n    })\n    this.$EventBus.$on(\"selectedGW\", (gw)=>{\n      this.selectedGW = gw\n      this.drawNWTable(this.selectedGW, this.selectedRange)\n    })\n    this.$EventBus.$on(\"selectedRange\", (r)=>{\n      this.selectedRange = r\n      this.drawNWTable(this.selectedGW, this.selectedRange)\n    })\n  },\n  watch: {\n    autorefresh: {\n      handler: function(flag) {\n        this.$EventBus.$emit(\"autorefresh\", flag)\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"stylus\" scoped>\n#table\n  min-height 405px\nth\n  font-size 0.8rem\ntd\n  font-size 0.75rem\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NWTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NWTable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NWTable.vue?vue&type=template&id=b2a4b412&scoped=true&lang=html&\"\nimport script from \"./NWTable.vue?vue&type=script&lang=js&\"\nexport * from \"./NWTable.vue?vue&type=script&lang=js&\"\nimport style0 from \"./NWTable.vue?vue&type=style&index=0&id=b2a4b412&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b2a4b412\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('vs-row',[_c('vs-col',{staticStyle:{\"z-index\":\"99\"},attrs:{\"vs-w\":\"12\"}},[_c('vs-card',{attrs:{\"id\":\"txtotal\"}},[_c('vs-row',{attrs:{\"id\":\"r\",\"vs-type\":\"flex\",\"vs-align\":\"center\"}},[_c('vs-col',{attrs:{\"vs-w\":\"2.4\"}},[_c('vs-icon',{attrs:{\"size\":\"55px\",\"icon\":\"import_export\",\"color\":\"#B4A3DB\"}})],1),_c('vs-col',{attrs:{\"vs-w\":\"3.5\"}},[_c('h3',{staticStyle:{\"color\":\"#3B4F63\"}},[_vm._v(\"Tx Total\")])]),_c('vs-col',{attrs:{\"vs-offset\":\"3\",\"vs-w\":\"3\"}},[_c('h3',[_vm._v(_vm._s(_vm.txTotal_disp))])])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\n  <vs-row > \n  <vs-col style=\"z-index:99\" vs-w=\"12\">\n    <vs-card id=\"txtotal\">\n      <vs-row id=\"r\" vs-type=\"flex\" vs-align=\"center\">\n        <vs-col style=\"\" vs-w=\"2.4\">\n          <vs-icon size=\"55px\" icon=\"import_export\" color=\"#B4A3DB\"></vs-icon>\n        </vs-col>\n        <vs-col vs-w=\"3.5\">\n          <h3 style=\"color:#3B4F63\">Tx Total</h3>\n        </vs-col>\n        \n        <vs-col vs-offset=\"3\" vs-w=\"3\">\n          <h3>{{txTotal_disp}}</h3>\n        </vs-col>\n      </vs-row>\n    </vs-card>\n  </vs-col>\n  </vs-row> \n</template>\n\n<script>\n// import gsap from 'gsap'\n\nexport default {\n  data() {\n    return {\n      txTotal: 0,\n      txTotal_disp: 0,\n      interval:false,\n    }\n  },\n  methods: {\n    getTxTotal() {\n      this.$api.gateway.getTxTotal(\"any\", \"year\").\n      then((res) => {\n        if(res.data.flag != 1) return\n        this.txTotal = res.data.data\n        if(this.txTotal_disp==0) this.txTotal_disp = res.data.data\n      })\n    }\n  },\n  watch:{\n    txTotal: function(){\n      clearInterval(this.interval);\n        if(this.txTotal == this.txTotal_disp){\n          return;\n        }\n    \n        this.interval = window.setInterval(function(){\n          if(this.txTotal_disp != this.txTotal){\n            var change = (this.txTotal - this.txTotal_disp) / 10;\n            change = change >= 0 ? Math.ceil(change) : Math.floor(change);\n            this.txTotal_disp = this.txTotal_disp + change;\n          }\n        }.bind(this), 50);\n    }\n  \n  },\n  mounted() {\n    this.getTxTotal()\n    setInterval(this.getTxTotal, 3*1000)\n  }\n}\n</script>\n\n<style lang=\"stylus\" scoped>\n#r\n  // margin-top 3px\n  font-size 0.92rem\n  overflow hidden\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TxTotal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TxTotal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TxTotal.vue?vue&type=template&id=93048102&scoped=true&\"\nimport script from \"./TxTotal.vue?vue&type=script&lang=js&\"\nexport * from \"./TxTotal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TxTotal.vue?vue&type=style&index=0&id=93048102&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"93048102\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('vs-card',{staticStyle:{\"margin-top\":\"22px\"}},[_c('div',{attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('h5',[_vm._v(\" RSSI of Sensor \"+_vm._s(this.selectedSensor)+\", \"+_vm._s(this.selectedGW))])]),_c('ECharts',{attrs:{\"autoresize\":\"\",\"options\":_vm.option}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <vs-card style=\"margin-top:22px\">\n    <div slot=\"header\"><h5> RSSI of Sensor {{this.selectedSensor}}, {{this.selectedGW}}</h5></div>\n    <ECharts autoresize :options=\"option\" />\n  </vs-card>\n</template>\n\n<script>\nimport ECharts from \"vue-echarts/components/ECharts\";\nimport \"echarts/lib/chart/line\";\nimport \"echarts/lib/chart/heatmap\";\nimport \"echarts/lib/component/visualMap\";\nimport \"echarts/lib/component/title\";\nimport \"echarts/lib/component/toolbox\";\nimport \"echarts/lib/component/dataZoom\";\n\nexport default {\n  components: {\n    ECharts\n  },\n  data() {\n    return {\n      selectedSensor: 3,\n      selectedGW: \"UCONN_GW\",\n      selectedRange: \"week\",\n      dataAvg: [],\n      date: [],\n      xData: [],\n      yData: [],\n      dataCh: [],\n      min: 0,\n      max: 0,\n      option: {\n        toolbox:{\n          feature:{\n            // saveAsImage:{\n            //   name: \"rssi_sensor_\"\n            // }\n          }\n        },\n        grid: [{\n          top: '30',\n          height: '25%'\n        }, {\n          top: '145',\n          // height: '30%',\n          bottom: \"8%\"\n        }],\n        xAxis: [\n          {\n            show: false,\n            type: \"category\",\n            boundaryGap: false,\n            data: this.date,\n            axisLabel: {\n              fontSize:10,\n            }\n          },\n          {\n            gridIndex: 1,\n            type: 'category',\n            data: this.xData,\n            axisLabel: {\n              fontSize:11,\n            }\n          }\n        ],\n        yAxis: [\n          {\n            name: \"Average\",\n            nameTextStyle: {\n              fontWeight: 800,\n              fontSize: 15,\n            },\n            type: \"value\",\n            boundaryGap: ['40%', '40%'],\n            scale: true,\n            axisLabel: {\n              fontSize:10,\n            }\n          },\n          {\n            name: \"Channel-Level\",\n            nameGap: 20,\n            nameTextStyle: {\n              fontWeight: 800,\n              fontSize: 15,\n              padding: [0,0,0,20]\n            },\n            gridIndex: 1,\n            type: 'category',\n            data: [12,13,14,15,16,17,18,19,20,21,22,23,24,25,26],\n            axisLabel: {\n              fontSize:10,\n            }\n          }\n        ],\n        dataZoom: [\n          {\n            type: \"inside\",\n            start: 0,\n            end: 100,\n            xAxisIndex: [0, 1]\n          },\n          // {\n          //   start: 0,\n          //   end: 100,\n          //   xAxisIndex: [0, 1],\n          //   handleIcon:\n          //     \"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4v1.3h1.3v-1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7V23h6.6V24.4z M13.3,19.6H6.7v-1.4h6.6V19.6z\",\n          //   handleSize: \"80%\",\n          //   handleStyle: {\n          //     color: \"#fff\",\n          //     shadowBlur: 3,\n          //     shadowColor: \"rgba(0, 0, 0, 0.6)\",\n          //     shadowOffsetX: 2,\n          //     shadowOffsetY: 2\n          //   }\n          // }\n        ],\n        visualMap: {\n          seriesIndex: 1,\n          type: 'piecewise',\n          top: \"115\",\n          right: \"20\",\n          orient: \"horizontal\",\n          precision: 1,\n          min: this.min,\n          max: this.max,\n          calculable: true,\n          realtime: false,\n          textStyle: {\n            fontSize: 11\n          },\n          inRange: {\n              color: ['#313695', '#4575b4', '#74add1', '#abd9e9', '#e0f3f8', '#ffffbf', '#fee090', '#fdae61', '#f46d43', '#d73027', '#a50026']\n          },\n        },\n        series: [\n          {\n            name: \"Average RSSi\",\n            type: \"line\",\n            smooth: true,\n            symbol: \"none\",\n            // sampling leads to merge issue\n            // sampling: \"average\",\n            itemStyle: {\n              color: \"rgb(255, 70, 131)\"\n            },\n            data: this.dataAvg,\n          },\n          {\n            type: 'heatmap',\n            xAxisIndex: 1,\n            yAxisIndex: 1,\n            data: this.dataCh,\n            itemStyle: {\n              emphasis: {\n                  borderColor: '#333',\n                  borderWidth: 1\n              }\n            },\n            progressive: 1000,\n            animation: false\n          }\n        ]\n      }\n    }\n  },\n  methods: {\n    draw(gw,id,range) {\n      // draw average rssi\n      this.$api.gateway.getNWStatByID(gw, id, range, 0)\n      .then(res => {\n        this.dataAvg = []\n        this.date = []\n        if(res.data.flag == 0) {\n          return\n        }\n        for(var i=0; i<res.data.data.length; i++) {          \n          this.dataAvg.push(res.data.data[i].avg_rssi)\n\n          var d = new Date(res.data.data[i].timestamp)\n          // time zone diff\n          var curD = new Date(d.getTime() - (d.getTimezoneOffset() * 60000))\n          this.date.push(curD.toJSON().substr(5, 14).replace('T', ' '))\n        }\n        this.option.xAxis[0].data = this.date\n        this.option.series[0].data = this.dataAvg\n      })\n\n      // draw Channel-level rssi\n      this.dataCh = []\n      this.xData = []\n      this.yData = []\n      this.$api.gateway.getChInfoByID(gw, id, range)\n      .then(res=> {\n        if(res.data.flag == 0) {\n          return\n        }\n        // for(var c=12;c<27;c++) this.yData.push(c)\n\n        var min = parseInt(res.data.data[0].rssi.split(\",\")[0])\n        var max = min\n\n        for(var i=0;i<res.data.data.length;i++) {\n          var d = new Date(res.data.data[i].timestamp)\n          // time zone diff\n          var curD = new Date(d.getTime() - (d.getTimezoneOffset() * 60000))\n          var t = curD.toJSON().substr(5, 14).replace('T', ' ')\n          this.xData.push(t)\n\n          for(var j=0;j<res.data.data[i].channels.split(\",\").length-1;j++) {\n            this.dataCh.push([t, parseInt(res.data.data[i].channels.split(\",\")[j])-12, parseFloat(res.data.data[i].rssi.split(\",\")[j])])\n            var val = parseInt(res.data.data[i].rssi.split(\",\")[j])\n            min = val>min?min:val\n            max = val>max?val:max\n          }\n        }\n        this.option.visualMap.max = max\n        this.option.visualMap.min = min\n        this.option.xAxis[1].data = this.xData\n        // this.option.yAxis[1].data = this.yData\n        this.option.series[1].data = this.dataCh\n        // this.option.toolbox.feature.saveAsImage.name = \"rssi_sensor_\"+id\n      })\n    }\n  },\n  mounted() {\n    // this.draw(this.selectedGW, this.selectedSensor, this.selectedRange);\n    this.$EventBus.$on(\"sensors\", (sensors)=>{\n      this.selectedSensor = sensors[0].sensor_id\n      this.draw(this.selectedGW, this.selectedSensor, this.selectedRange);\n    })\n    this.$EventBus.$on(\"selectedSensor\", (sensor) => {\n      if(sensor.sensor_id!=1) {\n        this.selectedSensor = sensor.sensor_id\n        this.selectedGW = sensor.gateway\n        this.draw(this.selectedGW, this.selectedSensor, this.selectedRange);\n      }\n    });\n    this.$EventBus.$on(\"selectedRange\", (range) => {\n      this.selectedRange = range\n      this.draw(this.selectedGW, this.selectedSensor, this.selectedRange);\n    });\n  }\n};\n</script>\n\n<style lang=\"stylus\" scoped>\n.echarts \n  width 100%\n  height 228px\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RSSiChart.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RSSiChart.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RSSiChart.vue?vue&type=template&id=5c3fbead&scoped=true&\"\nimport script from \"./RSSiChart.vue?vue&type=script&lang=js&\"\nexport * from \"./RSSiChart.vue?vue&type=script&lang=js&\"\nimport style0 from \"./RSSiChart.vue?vue&type=style&index=0&id=5c3fbead&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5c3fbead\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('vs-card',{staticClass:\"topo\"},[_c('div',{attrs:{\"id\":\"title\"}},[_vm._v(\"Topology\")]),_c('vs-tabs',{attrs:{\"alignment\":\"center\"}},[_c('vs-tab',{attrs:{\"label\":\"Graph\"}},[_c('TopoGraph')],1),_c('vs-tab',{attrs:{\"label\":\"Map\"}},[_c('TopoMap')],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"map\"}},[_c('Slider'),_c('Layers'),_c('GmapMap',{ref:\"mymap\",attrs:{\"id\":\"gmap\",\"center\":_vm.center,\"zoom\":_vm.zoom,\"options\":_vm.opt},model:{value:(_vm.zoom),callback:function ($$v) {_vm.zoom=$$v},expression:\"zoom\"}},[_vm._l((_vm.markers),function(m,i){return _c('GmapMarker',{key:i,attrs:{\"position\":m.position,\"label\":m.label,\"icon\":m.icon,\"clickable\":true},on:{\"click\":function($event){return _vm.handleClick(m)}}})}),_c('GmapInfoWindow',{attrs:{\"opened\":_vm.infoWindowActive,\"options\":_vm.infoWindowOpt,\"position\":_vm.infoWindowPos},on:{\"closeclick\":function($event){_vm.infoWindowActive=false}}},[_c('PowerChart')],1),_vm._l((_vm.lines),function(line,i){return _c('GmapPolyline',{key:'l'+i,attrs:{\"path\":line.path,\"options\":line.option}})})],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"powChart\"},[_c('ECharts',{attrs:{\"autoresize\":\"\",\"options\":_vm.option}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div ref=\"powChart\"><ECharts  autoresize :options=\"option\"/></div>\n</template>\n\n<script>\nimport ECharts from \"vue-echarts/components/ECharts\";\nimport \"echarts/lib/chart/line\";\nimport \"echarts/lib/component/title\";\nimport \"echarts/lib/component/dataZoom\";\n\nexport default {\n  components: {\n    ECharts\n  },\n  data() {\n    return {\n      selectedGW: 'any',\n      selectedRange: 'day',\n      selectedSensor: 3,\n      date: [],\n      data: [],\n      option: {}\n    }\n  },\n  methods: {\n    draw(gw,id,range) {\n      this.$vs.loading({\n        container: this.$refs.powChart,\n      })\n      this.$api.gateway.getBatteryByID(gw,id,range)\n      .then(res => {\n        this.date = []\n        this.data = []\n        if(res.data.flag == 0) {\n          return\n        }\n        for(var i=0;i<res.data.data.length;i++) {\n          this.data.push(res.data.data[i].power_usage)\n\n          var d = new Date(res.data.data[i].timestamp)\n          // time zone diff\n          var curD = new Date(d.getTime() - (d.getTimezoneOffset() * 60000))\n          this.date.push(curD.toJSON().substr(5, 14).replace('T', ' '))\n        }\n        this.option = {\n          title: {\n            text: \"Power Usage\",\n            textStyle: {\n              fontSize: 14,\n            }\n          },\n          grid: {\n            top: '-15',\n            left:'-9',\n            width: \"170px\",\n            height: '100px'\n          },\n          xAxis: {\n            show: false,\n            type: 'category',\n            data: this.date,\n          },\n          yAxis: {\n            show: false,\n            type: \"value\",\n            boundaryGap: ['0%', '60%'],\n            scale: true\n          },\n          series: [{\n            data: this.data,\n            smooth: true,\n            type: 'line',\n            areaStyle: {}\n          }]\n        }\n        this.$vs.loading.close(this.$refs.powChart)\n      })\n    }\n  },\n  mounted() {\n    this.$EventBus.$on(\"showPowerLayer\", (sig) => {\n      if(sig) {\n        // this.draw(this.selectedGW, this.selectedSensor, this.selectedRange)\n        this.$EventBus.$on(\"selectedSensor\", (sensor) => {\n          this.selectedSensor = sensor.sensor_id\n          this.selectedGW = sensor.gateway\n          this.draw(this.selectedGW, this.selectedSensor, this.selectedRange);\n        });\n        this.$EventBus.$on(\"selectedRange\", (range) => {\n          this.selectedRange = range\n          this.draw(this.selectedGW, this.selectedSensor, this.selectedRange);\n        });\n      }\n    })\n  }\n}\n\n</script>\n\n<style lang=\"stylus\" scoped>\n.echarts \n  width 140px\n  height 90px\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PowerChart.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PowerChart.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PowerChart.vue?vue&type=template&id=3f880cc8&scoped=true&\"\nimport script from \"./PowerChart.vue?vue&type=script&lang=js&\"\nexport * from \"./PowerChart.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PowerChart.vue?vue&type=style&index=0&id=3f880cc8&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3f880cc8\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"expand\"}},[(_vm.show)?_c('vs-card',[_c('div',{staticClass:\"sliders\"},[_c('vs-row',{attrs:{\"vs-align\":\"flex-start\",\"vs-w\":\"12\"}},_vm._l((_vm.filters),function(f,i){return _c('vs-col',{key:i,attrs:{\"vs-offset\":\"0.5\",\"vs-w\":\"5.2\"}},[_c('span',{staticClass:\"title\"},[_vm._v(_vm._s(f.name)+\": [\"+_vm._s(f.value[0])+\", \"+_vm._s(f.value[1])+\"]\")]),_c('vs-slider',{attrs:{\"size\":\"small\",\"color\":f.color,\"max\":f.max,\"step\":f.step,\"step-decimals\":true},model:{value:(f.value),callback:function ($$v) {_vm.$set(f, \"value\", $$v)},expression:\"f.value\"}})],1)}),1)],1)]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<transition name=\"expand\">\n  <vs-card v-if=\"show\">\n    <div class=\"sliders\">\n      <vs-row vs-align=\"flex-start\" vs-w=\"12\">\n        <vs-col v-for=\"(f,i) in filters\" :key=\"i\" vs-offset=\"0.5\" vs-w=\"5.2\">\n          <span class=\"title\">{{f.name}}: [{{f.value[0]}}, {{f.value[1]}}]</span>\n          <vs-slider size=\"small\" :color=\"f.color\" :max=\"f.max\" :step=\"f.step\" :step-decimals=\"true\" v-model=\"f.value\"/>\n        </vs-col>\n      </vs-row>\n    </div>\n  </vs-card>\n</transition>\n</template>\n\n<script>\nimport lodash from \"lodash\"\n// [...new Set([...array1 ,...array2])];\nexport default {\n  data() {\n    return {\n      show: false,\n      filters: {\n        latency: {name:\"Latency\", max: 4, step:0.001, value: [0,4], color:\"dark\"},\n        rtt: {name:\"RTT\", max: 5, step:0.001, value: [0,5], color:\"orange\"},\n        noiseLv: {name:\"NoiseLv\", max: 3, step:0.1, value: [0,3], color:\"green\"},\n        per: {name:\"PER\", max: 1, step:0.001, value: [0,1], color:\"red\"},\n      },\n      // all sensors\n      sensors: [],\n      filterRes: {\n        latency: [],\n        macPER: [],\n        noiseLv:[],\n        appPER: [],\n      },      \n      finalRes: [],\n      selectedGW: \"any\",\n      timeRange: \"day\", \n    }\n  },\n  methods: {\n    handleLatencyRange: lodash.debounce(function() {\n      this.filterRes.latency = []\n      for(var i=0;i<this.sensors.length;i++) {\n        if(this.sensors[i].uplink_latency_avg>=this.filters.latency.value[0] \n          && this.sensors[i].uplink_latency_avg<=this.filters.latency.value[1]) {\n          this.filterRes.latency.push(this.sensors[i].sensor_id)\n        }\n      }\n      // intersection\n      this.finalRes = this.filterRes.latency.filter(x => this.filterRes.macPER.includes(x))\n        .filter(y => this.filterRes.appPER.includes(y)).filter(y => this.filterRes.noiseLv.includes(y))\n    }, 300),\n\n    handlePERRange: lodash.debounce(function() {\n      this.filterRes.macPER = []\n      for(var i=0;i<this.sensors.length;i++) {\n        if(this.sensors[i].noiseLv>=this.filters.noiseLv.value[0] \n          && this.sensors[i].noiseLv<=this.filters.noiseLv.value[1]) {\n          this.filterRes.noiseLv.push(this.sensors[i].sensor_id)\n        }\n      }\n      // intersection\n      this.finalRes = this.filterRes.latency.filter(x => this.filterRes.macPER.includes(x))\n        .filter(y => this.filterRes.appPER.includes(y)).filter(y => this.filterRes.noiseLv.includes(y))\n    }, 300),\n\n    handleNoiseLvRange: lodash.debounce(function() {\n      this.filterRes.noiseLv = []\n      for(var i=0;i<this.sensors.length;i++) {\n        if(this.sensors[i].mac_per>=this.filters.macPER.value[0] \n          && this.sensors[i].mac_per<=this.filters.macPER.value[1]) {\n          this.filterRes.macPER.push(this.sensors[i].sensor_id)\n        }\n      }\n      // intersection\n      this.finalRes = this.filterRes.latency.filter(x => this.filterRes.macPER.includes(x))\n        .filter(y => this.filterRes.appPER.includes(y)).filter(y => this.filterRes.noiseLv.includes(y))\n    }, 300),\n\n    handleAppPERRange: lodash.debounce(function() {\n      this.filterRes.appPER = []\n      for(var i=0;i<this.sensors.length;i++) {\n        if(this.sensors[i].app_per>=this.filters.appPER.value[0] \n          && this.sensors[i].app_per<=this.filters.appPER.value[1]) {\n          this.filterRes.appPER.push(this.sensors[i].sensor_id)\n        }\n      }\n      // intersection\n      this.finalRes = this.filterRes.latency.filter(x => this.filterRes.macPER.includes(x))\n        .filter(y => this.filterRes.appPER.includes(y)).filter(y => this.filterRes.noiseLv.includes(y))\n    }, 300)\n  },\n  watch: {\n    'filters.latency.value':function () {\n      this.handleLatencyRange()\n    },\n    'filters.macPER.value':function () {\n      this.handleMacPERRange()\n    },\n    // 'filters.noiseLv.value':function () {\n    //   this.handleLatencyRange()\n    // },\n    'filters.appPER.value':function () {\n      this.handleAppPERRange()\n    },\n    'finalRes': function() {\n      this.$EventBus.$emit(\"filterRes\", {data:this.finalRes, show: this.show})\n    }\n  },\n  mounted() {\n    this.$EventBus.$on(\"sensors\", (sensors)=>{\n      this.sensors = sensors\n      var sensorIDs = []\n      for(var i=0;i<sensors.length;i++) {\n        sensorIDs.push(sensors[i].sensor_id)\n      }\n      for(let k in this.filterRes) {\n        this.filterRes[k] = sensorIDs\n      }\n    })\n    this.$EventBus.$on(\"showFiltersPanel\", (sig)=>{\n      if(sig)this.show = !this.show\n      // force clear\n      else {\n        this.show = false\n        for(var key in this.filters) this.filters[key].value = [0, this.filters[key].max]\n      }\n    })\n  },\n}\n</script>\n\n<style lang=\"stylus\" scoped>\n.sliders\n  font-size 0.9rem\n.con-vs-slider\n  margin-top 10px\n  margin-bottom 10px\n.expand-enter-active, .expand-leave-active \n  transition all .3s\n  height 100px\n  overflow: hidden;\n.expand-enter, .expand-leave-to\n  height 0px\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Slider.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Slider.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Slider.vue?vue&type=template&id=70444063&scoped=true&\"\nimport script from \"./Slider.vue?vue&type=script&lang=js&\"\nexport * from \"./Slider.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Slider.vue?vue&type=style&index=0&id=70444063&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"70444063\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"expand\"}},[(_vm.show)?_c('vs-card',{staticClass:\"layers\"},[_c('div',{attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('vs-row',{attrs:{\"vs-type\":\"flex\",\"vs-align\":\"flex-start\",\"vs-justify\":\"space-around\"}},[_c('vs-col',{attrs:{\"vs-w\":\"3\",\"vs-type\":\"flex\",\"vs-justify\":\"center\"}},[_c('vs-button',{attrs:{\"color\":\"primary\",\"type\":_vm.buttonTypes[_vm.currentBtType.traffic],\"icon-pack\":\"fa\",\"icon\":\"fa-cookie\",\"size\":\"small\"},on:{\"click\":_vm.showTrafficLayer}},[_vm._v(\" Traffic Rate \")])],1),_c('vs-col',{attrs:{\"vs-w\":\"3\",\"vs-type\":\"flex\",\"vs-justify\":\"center\",\"vs-align\":\"center\"}},[_c('vs-button',{attrs:{\"color\":\"#EAB835\",\"type\":_vm.buttonTypes[_vm.currentBtType.noiseLv],\"icon-pack\":\"fa\",\"icon\":\"fa-rss\",\"size\":\"small\"},on:{\"click\":_vm.showNoiseLayer}},[_vm._v(\" Noise Level \")])],1),_c('vs-col',{attrs:{\"vs-w\":\"3\",\"vs-type\":\"flex\",\"vs-justify\":\"center\",\"vs-align\":\"center\"}},[_c('vs-button',{attrs:{\"color\":\"success\",\"type\":_vm.buttonTypes[_vm.currentBtType.power],\"icon-pack\":\"fa\",\"icon\":\"fa-car-battery\",\"size\":\"small\"},on:{\"click\":_vm.showPowerLayer}},[_vm._v(\" Power Usage \")])],1)],1)],1)]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<transition name=\"expand\">\n  <vs-card v-if=\"show\" class=\"layers\">\n    <div slot=\"header\">\n      <vs-row vs-type=\"flex\" vs-align=\"flex-start\" vs-justify=\"space-around\">\n        <vs-col vs-w=\"3\"  vs-type=\"flex\" vs-justify=\"center\">\n          <vs-button color=\"primary\" :type=\"buttonTypes[currentBtType.traffic]\" @click=\"showTrafficLayer\" \n            icon-pack=\"fa\" icon=\"fa-cookie\" size=\"small\">\n            Traffic Rate\n          </vs-button>\n        </vs-col>\n        <vs-col vs-w=\"3\"  vs-type=\"flex\" vs-justify=\"center\" vs-align=\"center\" >\n          <vs-button color=\"#EAB835\" :type=\"buttonTypes[currentBtType.noiseLv]\" @click=\"showNoiseLayer\" \n            icon-pack=\"fa\" icon=\"fa-rss\" size=\"small\">\n            Noise Level\n          </vs-button>\n        </vs-col>\n        <vs-col vs-w=\"3\" vs-type=\"flex\" vs-justify=\"center\" vs-align=\"center\">\n          <vs-button color=\"success\" :type=\"buttonTypes[currentBtType.power]\" @click=\"showPowerLayer\" \n            icon-pack=\"fa\" icon=\"fa-car-battery\" size=\"small\">\n            Power Usage\n          </vs-button>\n        </vs-col>\n        <!-- <vs-col vs-w=\"2\"  vs-type=\"flex\" vs-justify=\"center\" vs-align=\"center\" >\n          <vs-button color=\"primary\" :type=\"buttonTypes[currentBtType.layer4]\" @click=\"clearMap\" icon=\"clear_all\" size=\"small\">\n            Layer 4\n          </vs-button>\n        </vs-col> -->\n      </vs-row>\n    </div>\n  </vs-card>\n</transition>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      show: false,\n      buttonTypes: [\"line\",\"filled\"],\n      // 0 inactive, 1 active\n      currentBtType: {\n        power: 0,\n        noiseLv: 0,\n        traffic: 0,\n        layer4: 0,\n      },\n      // all sensors\n      sensors: [],\n      // sensors shown on map\n      shownSensors: [],\n      selectedGW: \"any\",\n      timeRange: \"day\",\n    }\n  },\n  methods: {\n    showPowerLayer() {\n      this.currentBtType.power = 1-this.currentBtType.power\n      this.$EventBus.$emit(\"showPowerLayer\", this.currentBtType.power)\n    },\n    showNoiseLayer() {\n      this.currentBtType.noiseLv = 1-this.currentBtType.noiseLv\n      this.$EventBus.$emit(\"showNoiseLayer\", this.currentBtType.noiseLv)\n    },\n    showTrafficLayer() {\n      this.currentBtType.traffic = 1-this.currentBtType.traffic\n    }\n  },\n  mounted() {\n    this.$EventBus.$on(\"showLayersPanel\", (sig)=>{\n      if(sig)this.show = !this.show\n      // force clear\n      else {\n        this.show = false\n        for(var key in this.currentBtType) this.currentBtType[key] = 0\n      }\n    })\n  },\n}\n</script>\n\n<style lang=\"stylus\" scoped>\n.layers\n  height 55px\n\n.expand-enter-active, .expand-leave-active \n  transition all .3s\n  height 55px\n  overflow: hidden;\n.expand-enter, .expand-leave-to\n  height 0px\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Layers.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Layers.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Layers.vue?vue&type=template&id=3a8b9d87&scoped=true&\"\nimport script from \"./Layers.vue?vue&type=script&lang=js&\"\nexport * from \"./Layers.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Layers.vue?vue&type=style&index=0&id=3a8b9d87&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3a8b9d87\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <!-- <vs-card> -->\n    <!-- <div slot=\"header\"> -->\n\n    <div id=\"map\">\n      <Slider/>\n      <Layers/>\n      <!-- <vs-row vs-align=\"center\" vs-justify=\"space-between\">\n        <vs-col vs-w=\"3\" vs-type=\"flex\" vs-align=\"center\">\n          <vs-button id=\"fBt\" color=\"danger\" @click=\"showFiltersPanel\" icon=\"filter_list\" size=\"small\">\n            Filters\n          </vs-button>\n          <vs-button id=\"lBt\" color=\"#1F7BBB\" @click=\"showLayersPanel\" icon=\"layers\" size=\"small\">\n            Layers\n          </vs-button>\n        </vs-col>\n        <vs-col vs-w=\"3.5\" vs-type=\"flex\" vs-justify=\"flex-end\" vs-align=\"center\">\n          <vs-button color=\"#860262\" @click=\"clearMap\" icon=\"clear_all\" size=\"small\">\n            Reset All\n          </vs-button>\n        </vs-col>\n      </vs-row> -->\n      <GmapMap ref=\"mymap\" id=\"gmap\" :center=\"center\" v-model=\"zoom\" :zoom=\"zoom\" :options=\"opt\">\n        <GmapMarker :key=\"i\" v-for=\"(m,i) in markers\" :position=\"m.position\" :label=\"m.label\" :icon=\"m.icon\" :clickable=\"true\" @click=\"handleClick(m)\"/><GmapInfoWindow :opened=\"infoWindowActive\" :options=\"infoWindowOpt\" :position=\"infoWindowPos\" @closeclick=\"infoWindowActive=false\"><PowerChart/></GmapInfoWindow>\n        <GmapPolyline v-for=\"(line,i) in lines\" :key=\"'l'+i\" :path=\"line.path\" :options=\"line.option\"/>\n      </GmapMap>\n      \n    </div>\n  <!-- </vs-card> -->\n</template>\n\n<script>\nimport PowerChart from '@/components/dashboard/PowerChart'\n// import topoRes from './topology_121_part.json'\nimport Slider from '@/components/dashboard/Slider'\nimport Layers from '@/components/dashboard/Layers'\n\nexport default {\n  components: {\n    PowerChart,\n    Slider,\n    Layers\n  },\n  data() {\n    return {\n      selectedGW: \"any\",\n      selectedRange: \"week\",\n      selectedSensor: {},\n      latencyRange: [],\n      noiseLvRange: [],\n      macPERRange: [],\n      appPERRange: [],\n      noiseLayer: {},\n      trafficLayerFlag: 0,\n      noiseLayerFlag: 0,\n      powerLayerFlag: 0,\n      label: {},\n      infoWindowActive:false,\n      infoWindowPos: {lat:0,lng:0},\n      infoWindowOpt: {},\n      zoom: 21,\n      center: {lat:41.806617, lng:-72.252749}, // ITEB\n      sensors : [],\n      markers: [],\n      lines:[],\n      opt:{\n        styles: [{\n            \"featureType\": \"poi\",\n                \"stylers\": [{\n                // \"visibility\": \"off\"\n            }]\n        },{\n            \"featureType\": \"transit\",\n                \"stylers\": [{\n                // \"visibility\": \"off\"\n            }]\n        }]\n      }\n    }\n  },\n  methods: {\n    drawTopology(gw, range) {\n      this.$gmapApiPromiseLazy().then(() => {\n        this.$api.gateway.getTopology(gw, range)\n        .then(res=> {\n          this.markers = []\n          this.lines = []\n          \n          // res.data = topoRes\n          // window.console.log(res,topoRes)\n          if (res.data.flag==0||res.data.data.length==0){\n            return\n          }\n          \n          \n          this.$EventBus.$emit('sensorCnt', res.data.data.length-1)\n          \n          for(var i=0;i<res.data.data.length;i++) {\n            if(res.data.data[i].sensor_id==1) {\n              this.$EventBus.$emit('startTime', res.data.data[i].first_appear)\n            }\n            \n            // generate lines\n            // window.console.log(i,res.data.data[i].position)\n            var parentPos = []\n            if(res.data.data[i].parent == 0) {\n              parentPos = res.data.data[i].position\n            } else {\n              for(var j=0;j<res.data.data.length;j++) {\n                if(res.data.data[j].sensor_id == res.data.data[i].parent) {\n                  parentPos = res.data.data[j].position\n                }\n              }\n            }\n            this.lines.push({\n              path: [res.data.data[i].position, parentPos],\n              option: {\n                strokeColor: 'rgba(102,102,102, 0.5)',\n                strokeWeight: 1,\n              },\n            })\n          }\n          // sensors data backup\n          this.sensors = res.data.data.sort(function(a,b) {\n            return a.sensor_id - b.sensor_id\n          });\n          this.markers = this.sensors\n          \n          for(var k=0;k<this.markers.length;k++) {            \n             var icon = {\n              path: window.google.maps.SymbolPath.CIRCLE,\n              scale: 6,\n              // fillColor: \"#FE7E28\",\n              // fillOpacity: 1,\n              // strokeColor: \"#FE7E28\",\n              fillColor: \"#58B2EC\",\n              fillOpacity: 1,\n              strokeColor: \"#58B2EC\",\n            }\n            var text = \"\"\n            if(this.markers[k].sensor_id==1) {\n              text = 'GW'\n              icon.scale = 7\n            } else {\n              text = this.markers[k].sensor_id.toString()\n            }\n            this.$set(this.markers[k],'icon', icon)\n            this.$set(this.markers[k],'label', {text:text, color:'#2c3e50', fontSize:\"8pt\"})\n          }\n        })\n      })\n    },\n    drawPowerLayer() {\n      this.powerLayerFlag = 1\n      this.$api.gateway.getBattery(this.selectedGW, this.selectedRange)\n      .then(res => {\n        var min = res.data.data[0].avg_cc2650_active+res.data.data[0].avg_cc2650_sleep\n                                +res.data.data[0].avg_rf_rx+res.data.data[0].avg_rf_tx\n        var max = min\n        for(var x=1;x<res.data.data.length;x++) {\n          var avgPWR = (res.data.data[x].avg_cc2650_active+res.data.data[x].avg_cc2650_sleep\n                                +res.data.data[x].avg_rf_rx+res.data.data[x].avg_rf_tx)\n          min = avgPWR>min?min:avgPWR\n          max = avgPWR>max?avgPWR:max\n        }\n        var mid = (max - min)/2\n        \n        var r; var g; var b=0;\n        for(var i=0;i<res.data.data.length;i++) {\n          avgPWR = (res.data.data[i].avg_cc2650_active+res.data.data[i].avg_cc2650_sleep\n                                +res.data.data[i].avg_rf_rx+res.data.data[i].avg_rf_tx)\n          \n          if(avgPWR>=mid) {r=255;g=Math.round(255*((max-avgPWR)/(max-mid)))}\n          else {g=255;r=Math.round(255*((avgPWR-min)/(mid-min)))}\n\n          var colorStr = \"#\"+('0'+r.toString(16)).slice(-2)+('0'+g.toString(16)).slice(-2)+('0'+b.toString(16)).slice(-2)   \n\n          for(var j=0;j<this.markers.length;j++) {\n            if(this.markers[j].sensor_id == res.data.data[i].sensor_id) {\n              this.markers[j].icon = {\n                path: window.google.maps.SymbolPath.CIRCLE,\n                scale: 7,\n                fillColor: colorStr,\n                fillOpacity: 1,\n                strokeColor: colorStr,\n              }\n              this.markers[j].label = {text:this.markers[j].sensor_id.toString(), color:'#2c3e50', fontSize:\"10pt\"}\n            }\n          }\n        }\n      })\n    },\n    drawNoiseLayer() {\n      this.$gmapApiPromiseLazy().then(() => {\n        var noiseData = []\n        this.$api.gateway.getNoiseLevel(this.selectedGW, this.selectedRange)\n          .then(res => {\n            for(var i=0;i<res.data.data.length;i++) {\n                noiseData.push({location: new window.google.maps.LatLng(parseFloat(res.data.data[i].position.lat), parseFloat(res.data.data[i].position.lng)), weight: res.data.data[i].noise_level*(-1)})\n            }\n            this.noiseLayer = new window.google.maps.visualization.HeatmapLayer({\n              data: noiseData,\n              map: this.$refs.mymap.$mapObject,\n              radius: 60,\n            })\n          })\n\n      })\n    },\n    drawTrafficLayer() {\n      \n    },\n    clearTrafficLayer() {\n      if(this.trafficLayerFlag)\n        return\n    },\n    clearPowerLayer() {\n      this.powerLayerFlag = 0\n      for(var i=0;i<this.markers.length;i++) {\n        this.markers[i].icon = {\n          path: window.google.maps.SymbolPath.CIRCLE,\n          scale: 7,\n          fillColor: \"#58B2EC\",\n          fillOpacity: 1,\n          strokeColor: \"#58B2EC\",\n        }\n        this.markers[i].label = {text:this.markers[i].sensor_id.toString(), color:'#2c3e50', fontSize:\"10pt\"}\n      }\n    },\n    clearNoiseLayer() {\n      if(this.noiseLayerFlag)\n        this.noiseLayer.setMap(null)\n    },\n    handleClick(m) {\n      // not gateway\n      this.$EventBus.$emit('selectedSensor', m)\n      // double click -> reset\n      if(m==this.selectedSensor) {\n        this.topoColorReset()\n        this.infoWindowActive = false\n        this.selectedSensor = {}\n        return\n      }\n      this.selectedSensor = m\n    },\n    showInfoWindow(m) {\n      this.infoWindowActive = true\n      this.infoWindowPos = m.position\n      this.infoWindowOpt = {\n        closeBoxURL: \"\",\n        pixelOffset: {\n            width: 0,\n            height: -15\n          }\n      }\n    },\n    topoHighLight(m) {\n      // high light\n      for(var i=0;i<this.lines.length;i++) {\n        // as child\n        if (m.position == this.lines[i].path[0]) {\n          this.lines[i].option = {strokeColor:\"green\",zIndex:2000}\n          // as parent\n        } else if (m.position == this.lines[i].path[1]) { \n          this.lines[i].option = {strokeColor:\"lime\",zIndex:2000}\n        }\n        else {\n          this.lines[i].option = {strokeColor:\"rgba(192,192,192,0.3)\",zIndex:1}\n        }\n      }\n    },\n    topoColorReset() {\n      for(var i=0;i<this.lines.length;i++) {\n        this.lines[i].option = {strokeColor:\"rgba(102,102,102,0.5)\"}\n      }\n    },\n    panTo(position) {\n      if(this.$refs.mymap!=null) {\n        this.$refs.mymap.$mapPromise.then((map) => {\n          map.panTo(position)\n        })\n      }\n    },\n    showFiltersPanel() {\n      this.$EventBus.$emit(\"showFiltersPanel\", 1)\n    },\n    showLayersPanel() {\n      this.$EventBus.$emit(\"showLayersPanel\", 1)\n    },\n    clearMap() {\n      this.$EventBus.$emit(\"showFiltersPanel\", 0)\n      this.$EventBus.$emit(\"showLayersPanel\", 0)\n      this.clearNoiseLayer()\n      this.drawTopology(this.selectedGW, this.selectedRange)\n      this.zoom = 21\n      this.panTo(this.center)\n    }\n  },\n  mounted() {\n    this.drawTopology(this.selectedGW, this.selectedRange);\n    \n    this.$EventBus.$on('selectedSensor', (sensor) => {\n      for(var i=0;i<this.markers.length;i++) {\n        if(this.markers[i].sensor_id==sensor.sensor_id) {\n          this.panTo(this.markers[i].position)\n          this.zoom = 23\n          this.topoHighLight(this.markers[i])\n          if(sensor.sensor_id!=1 && this.powerLayerFlag) {\n            this.showInfoWindow(this.markers[i])\n          }\n        }\n      }\n    });\n    this.$EventBus.$on('selectedGW', (gw) => {\n      this.selectedGW = gw\n      this.drawTopology(this.selectedGW, this.selectedRange)\n      this.infoWindowActive = false\n      this.panTo(this.center)\n      this.zoom = 21\n    });\n    this.$EventBus.$on(\"selectedRange\", (range)=>{\n      this.selectedRange = range\n      this.drawTopology(this.selectedGW, this.selectedRange)\n      if(this.powerLayerFlag) this.drawPowerLayer()\n      if(this.noiseLayerFlag) {this.clearNoiseLayer();this.drawNoiseLayer()}\n      this.infoWindowActive = false\n      this.panTo(this.center)\n      this.zoom = 21\n    })\n\n    this.$EventBus.$on(\"filterRes\", (res)=>{\n      // if result is returned after reset/clear, shall not be shown\n      if(!res.show) return\n      var tmp = []\n      for(var i=0;i<this.sensors.length;i++) {\n        for(var j=0;j<res.data.length;j++) {\n          if(this.sensors[i].sensor_id == res.data[j]) {\n            tmp.push(this.sensors[i])\n          }\n        }\n      }\n      this.markers = tmp\n      this.lines = []\n    })\n\n    this.$EventBus.$on(\"showTrafficLayer\", (sig) => {\n      if(sig) this.drawPowerLayer()\n      else this.clearPowerLayer()\n    })\n\n    this.$EventBus.$on(\"showPowerLayer\", (sig) => {\n      if(sig) this.drawPowerLayer()\n      else this.clearPowerLayer()\n    })\n\n    this.$EventBus.$on(\"showNoiseLayer\", (sig) => {\n      if(sig) {\n        this.drawNoiseLayer()\n        this.noiseLayerFlag=!this.noiseLayerFlag\n      }\n      else {\n        this.clearNoiseLayer()\n        this.noiseLayerFlag=0\n      }\n    })\n  }\n}\n</script>\n\n<style lang=\"stylus\">\n#map\n  font-size 1rem\n  \n#fBt\n  border-radius 6px 0 0 6px\n#lBt\n  border-radius 0 6px 6px 0\n#gmap\n  margin-top 8px\n  width 100%\n  height 648px\n.gm-style-iw + button {display: none;}  \n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TopoMap.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TopoMap.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TopoMap.vue?vue&type=template&id=b8d54378&\"\nimport script from \"./TopoMap.vue?vue&type=script&lang=js&\"\nexport * from \"./TopoMap.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TopoMap.vue?vue&type=style&index=0&lang=stylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ECharts',{attrs:{\"id\":\"graph\",\"autoresize\":\"\",\"options\":_vm.option}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <ECharts id=\"graph\" autoresize :options=\"option\"/>\n</template>\n\n<script>\nimport ECharts from \"vue-echarts/components/ECharts\";\nimport \"echarts/lib/chart/tree\";\nimport \"echarts/lib/component/legend\";\nimport \"echarts/lib/component/toolbox\";\nimport \"echarts/lib/component/tooltip\";\n\n// import t from \"./topology_121_part.json\"\n\nexport default {\n  components: {\n    ECharts\n  },\n  data() {\n    return {\n      selectedGW: \"any\",\n      selectedRange: \"week\",\n      selectedSensor: {},\n      trees: {1:\n        {\n          name:\"GW\", \n          children:[], \n          symbolSize: 12,\n          label: {\n            fontSize: 14\n          }\n        } \n      },\n      option: {\n        series: [\n          {\n            type: 'tree',\n            data:[\n              {name:\"GW\",children:[]}\n            ],\n            top: '1%',\n            left: '7%',\n            bottom: '1%',\n            right: '20%',\n            roam: true,\n            symbolSize: 8,\n\n            label: {\n              position: 'left',\n              verticalAlign: 'middle',\n              align: 'right',\n              fontSize: 13\n            },\n\n            leaves: {\n                label: {\n                    position: 'right',\n                    verticalAlign: 'middle',\n                    align: 'left'\n                }\n            },\n            initialTreeDepth: 5,\n            expandAndCollapse: true,\n            animationDuration: 550,\n            animationDurationUpdate: 750\n          }\n        ]\n      }\n    }\n  },\n  methods: {\n    draw(gw, range) {\n      this.$api.gateway.getTopology(gw, range)\n      .then(res=> {\n        // res.data = t\n        if (res.data.flag==0||res.data.data.length==0) return\n        this.$EventBus.$emit('sensorCnt', res.data.data.length-1)\n   \n        for(var i=0;i<res.data.data.length;i++) {\n          var node = res.data.data[i]\n          if(node.sensor_id==1) {\n            this.$EventBus.$emit('startTime', node.first_appear)\n            continue\n          }\n\n          if(this.trees[node.sensor_id]==null) \n            this.trees[node.sensor_id] = {name: node.sensor_id, children:[]}\n          if(this.trees[node.parent]==null)\n            this.trees[node.parent] = { name: node.parent, children: [ this.trees[node.sensor_id] ] }\n          else\n            this.trees[node.parent].children.push(this.trees[node.sensor_id])\n        }\n\n        this.option.series[0].data = [this.trees[1]]\n      })\n    },\n\n  },\n  mounted() {\n    this.draw(this.selectedGW, this.selectedRange)\n  }\n}\n</script>\n\n<style lang=\"stylus\" scoped>\n#graph\n  width 100%\n  height 656px\n</style>\n\n<!-- \nEdge to Tree, 1 loop\n\n```go\npackage main\n\ntype node struct {\n\tname     int\n\tchildren []*node\n}\n\nfunc main() {\n\tvar edges = [][2]int{{1, 0}, {2, 1}, {3, 1}, {4, 2}, {5, 4}, {6, 2}}\n\ttrees := make(map[int]*node)\n\n\tfor _, pair := range edges {\n\t\tc := pair[0]\n\t\tp := pair[1]\n\t\tif _, ok := trees[c]; !ok {\n\t\t\ttrees[c] = &node{c, []*node{}}\n\t\t}\n\t\tif parent, ok := trees[p]; ok {\n\t\t\tparent.children = append(parent.children, trees[c])\n\t\t} else {\n\t\t\ttrees[p] = &node{p, []*node{trees[c]}}\n\t\t}\n\t}\n}\n```\n-->","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TopoGraph.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TopoGraph.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TopoGraph.vue?vue&type=template&id=146e76fa&scoped=true&\"\nimport script from \"./TopoGraph.vue?vue&type=script&lang=js&\"\nexport * from \"./TopoGraph.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TopoGraph.vue?vue&type=style&index=0&id=146e76fa&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"146e76fa\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <vs-card class=\"topo\">\n    <div id=\"title\">Topology</div>\n    <vs-tabs alignment=\"center\">\n      <vs-tab label=\"Graph\">\n        <TopoGraph/>\n      </vs-tab>\n      <vs-tab label=\"Map\">\n        <TopoMap/>\n      </vs-tab>\n      \n      \n    </vs-tabs>\n  </vs-card>\n</template>\n\n<script>\nimport TopoMap from './TopoMap'\nimport TopoGraph from './TopoGraph'\n\nexport default {\n  components: {\n    TopoMap,\n    TopoGraph\n  }\n}\n</script>\n\n<style lang=\"stylus\">\n#title\n  position: absolute;\n  font-weight 600\n  font-size 1.15rem\n  margin 10px\n\n.topo\n  .vs-card--content\n    padding 0\n  .vs-tabs--btn\n    span\n      font-size 0.9rem\n\n  \n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Topo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Topo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Topo.vue?vue&type=template&id=150a96b7&\"\nimport script from \"./Topo.vue?vue&type=script&lang=js&\"\nexport * from \"./Topo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Topo.vue?vue&type=style&index=0&lang=stylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('vs-card',[_c('div',{attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('h4',[_vm._v(\"Communication Schedule\")])]),_c('ECharts',{attrs:{\"id\":\"sch-table\",\"autoresize\":\"\",\"options\":_vm.option},on:{\"click\":_vm.handleClickSch}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <vs-card>\n      <div slot=\"header\" >\n        <h4>Communication Schedule</h4>\n      </div>\n      <ECharts id=\"sch-table\" autoresize :options=\"option\" @click=\"handleClickSch\" />        \n    </vs-card>\n</template>\n\n<script>\nimport ECharts from \"vue-echarts/components/ECharts\";\nimport \"echarts/lib/chart/heatmap\";\nimport \"echarts/lib/component/visualMap\";\nimport \"echarts/lib/component/legend\";\nimport \"echarts/lib/component/toolbox\";\nimport \"echarts/lib/component/tooltip\";\nimport \"echarts/lib/component/title\";\nimport \"echarts/lib/component/markArea\";\nimport \"echarts/lib/component/markLine\";\nimport \"echarts/lib/component/dataZoom\";\nimport \"echarts/lib/chart/graph\"\n\nconst SlotFrameLength = 211\n\nexport default {\n  components: {\n    ECharts,\n  },\n  data() {\n    return {\n      autorefresh:false,\n      i:0,\n      selectedCell: {slot:[]},\n      Channels: [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16],\n      slots: [],\n      subPartitions:[],\n      partition_center: 0,\n      bcnSubslots: {},\n      option: {\n        toolbox:{\n          feature:{\n            // saveAsImage:{}\n          }\n        },\n        tooltip: {\n          formatter: (item) => {\n            for(var i=0;i<this.slots.length;i++) {\n              // if(this.slots[i].slot[0]==(item.data[0]-0.5) && this.slots[i].slot[1]==(item.data[1]*2+1)) {\n              if(this.slots[i].slot[0]==(item.data[0]-0.5) && this.slots[i].slot[1]==(item.data[1]-0.5)) {\n                // if(this.slots[i].type == \"beacon\") {\n                //   var res = `[${item.data[0]-0.5}, ${item.data[1]-0.5}]<br/>\n                //             Beacon<br/>\n                //             Subslots<br/>`\n                //   for(var sub in this.bcnSubslots[this.slots[i].slot[0]]) {\n                //     var sub_text = sub.toString()\n                //     sub_text = (sub_text.length<2) ? (\"\\xa0\\xa0\"+sub_text):sub_text\n                //     res+=`${sub_text}\\xa0\\xa0-\\xa0\\xa0${this.bcnSubslots[this.slots[i].slot[0]][sub]}<br/>`\n                //   }\n                //   return res\n                // }\n                \n                // return `[${item.data[0]-0.5}, ${item.data[1]*2+1}]<br/>\n                return `[${item.data[0]-0.5}, ${item.data[1]-0.5}]<br/>\n                        ${this.slots[i].type.replace(/^\\S/, s => s.toUpperCase())}<br/>\n                        Layer ${this.slots[i].layer}<br/>\n                        ${this.slots[i].sender} -> ${this.slots[i].receiver}`\n              }\n            }\n            return item.data\n          }\n        },\n        grid: {\n          top: '18%',\n          // height: '78%',\n          left: '3%',\n          right: '1%',\n          bottom: \"6%\",\n        },\n        xAxis: {\n          min:0,\n          max:SlotFrameLength,\n          splitNumber: SlotFrameLength,\n          minInterval: 1,\n          axisLabel: {\n            formatter: (item)=>{\n              if(item%5==0) \n                return item\n            },\n            fontSize: 10\n          },\n          name: \"Slot Offset\",\n          type: 'value',\n          position: \"top\",\n          nameLocation: \"middle\",\n          nameTextStyle: {\n            fontWeight: \"bold\",\n            padding: 10,\n            fontSize: 14\n          },\n          data: [],\n          splitArea: {\n            show: true,\n          },\n        },\n        yAxis: {\n          name: \"Channel Offset\",\n          type: 'value',\n          min: 1,\n          max: 16,\n          interval: 1,\n          inverse: true,\n          nameLocation: \"middle\",\n          nameTextStyle: {\n            fontWeight: \"bold\",\n            padding: 8,\n            fontSize: 14\n          },\n          data: [],\n          splitArea: {\n            show: true,\n          }\n        },\n        dataZoom: [\n          {\n            type: \"inside\",\n            start: 0,\n            end: 100  ,\n          },\n        ],\n        visualMap: {\n          min: 0,\n          max: 1,\n          show:true,\n          type: 'piecewise',\n          inRange: {\n            color: [\"red\",'#4575b4', 'green']\n          },\n          pieces:[{min:-1,max:-1,label:\"Beacon\"},{min:0,max:0,label:\"Uplink\"},{min:1,max:1,label:\"Downlink\"},],\n          textStyle: {\n            fontSize:12,\n          },\n          position: 'top',\n          orient: \"horizontal\",\n          top: 0,\n          right:\"1%\",\n        },\n        series: [\n          {\n          type: 'heatmap',\n          data: [],\n          label: {\n            show: false,\n            color: 'white',\n            fontWeight: 'bold',\n            fontSize: 14.5,\n            formatter: (item) => {\n              for(var i=0;i<this.slots.length;i++) {\n                // if(this.slots[i].slot[0]==(item.data[0]-0.5) && this.slots[i].slot[1]==(item.data[1]*2+1)) {\n                if(this.slots[i].slot[0]==(item.data[0]-0.5) && this.slots[i].slot[1]==(item.data[1]-0.5)) {\n                  if(this.slots[i].type!=\"beacon\"){\n                    \n                    return `${this.slots[i].sender}\\n${this.slots[i].receiver}`\n                  }\n                }\n              }\n              return ''\n            }\n          },\n          itemStyle: {\n            borderWidth: 1.1,\n            borderType: \"solid\",\n            borderColor: \"white\"\n          },\n          markLine: {\n            data: [],\n            symbolSize: 8,\n            lineStyle: {\n              color: \"red\",\n              width: 3,\n              type: \"solid\"\n            },\n            animationDuration: 300,\n          },\n          markArea: {\n            silent:true,\n            label: {\n              position:\"bottom\"\n            },\n            data: []\n          },\n          \n          },\n          {\n            type: \"line\",\n            z: 999,\n            zIndex: 999,\n            markArea: {\n              silent:true,\n              label: {\n                position:\"bottom\"\n              },\n              data: []\n            }\n          }\n        ]\n      },\n    }\n  },\n  methods: {\n    drawPartition() {\n       this.slots = []\n        this.option.yAxis.data = this.Channels\n        this.$api.gateway.getPartitionHARP()\n        .then(res=> {\n          if(res.data.flag==0) return\n          this.partitions = res.data.data\n          var markAreaTmp = []\n          // var colors = ['#4575b4', '#74add1', '#abd9e9', '#e0f3f8', '#ffffbf', '#fee090', '#fdae61', '#f46d43', '#d73027', '#a50026']\n          // var colors = {}\n          var colorMap = {\n            \"SHARED\": {'rgb':'grey', opacity: 0.7},\n            \"BEACON\":{'rgb':\"orange\", opacity:0.7},\n            \"MANAGEMENT\":{'rgb':\"lightseagreen\", opacity:0.7},\n            \"UPLINK\": {'rgb':\"#1d71f2\", opacity:0.7},\n            \"DOWNLINK\": {'rgb':\"green\", opacity:0.7},\n          }\n          // var color_index = 0\n          for(var i=0;i<res.data.data.length;i++) {\n            // init beacon subslots\n            if(res.data.data[i].type==\"beacon\") {\n              for(var b=res.data.data[i].range[0];b<res.data.data[i].range[1];b++) {\n                this.bcnSubslots[b] = {}\n              }            \n            }\n            if(res.data.data[i].type == \"management\")\n              this.partition_center = (res.data.data[i].range[0]+res.data.data[i].range[1])/2\n\n            if(res.data.data[i].range[0]<res.data.data[i].range[1]) {\n              \n              var name = res.data.data[i].type.toUpperCase()\n              \n              var y1 = 1\n              var y2 = 17\n              var pos = \"bottom\"\n              \n              markAreaTmp.push([\n                {\n                  name:name,\n                  xAxis:res.data.data[i].range[0],\n                  yAxis: y1,\n                },\n                {\n                  xAxis:res.data.data[i].range[1], \n                  yAxis: y2,\n                  itemStyle:{color:colorMap[name].rgb, opacity:colorMap[name].opacity,borderColor:\"black\",borderWidth:0.1},\n                  label:{color:\"black\",fontWeight:\"bold\",fontSize:12, position:pos}\n                },\n              ])\n            }\n          }\n          markAreaTmp.push()\n          this.option.series[0].markArea.data = markAreaTmp\n        \n          // make sure partition is loaded\n          this.drawSchedule()\n        })\n    },\n    drawSchedule() {\n      this.$api.gateway.getSchedule()\n      .then(res => {\n      \n        if(res.data.flag==0) return\n        // this.nonOptimalCnt = Object.keys(this.unAligned).length\n        this.nonOptimalCnt = 0\n        var cellsTmp = []\n        // if(!res.data.flag) return\n        this.slots = res.data.data\n        for(var i=0;i<res.data.data.length;i++) {\n          // res.data.data[i].layer++\n          if(res.data.data[i].sender==\"1\" && res.data.data[i].receiver==2) {\n            res.data.data.splice(i,1)\n            i--\n            continue\n          }\n          \n          var tag = 1\n          if(res.data.data[i].type==\"uplink\") {\n            // this.nonOptimalCnt++\n            // this.unAligned[res.data.data[i].sender+'-'+res.data.data[i].receiver] = 1\n            // this.links[name].non_optimal+=1\n            tag = 0\n          }\n          if(res.data.data[i].type==\"beacon\") {\n            tag = -1\n          }\n          // if(this.bcnSubslots[res.data.data[i].slot[0]]!=null) {\n          //   if(res.data.data[i].type==\"beacon\") {\n          //     this.bcnSubslots[res.data.data[i].slot[0]][res.data.data[i].subslot[0]]=res.data.data[i].sender\n          //   }\n          // }\n\n          cellsTmp.push([res.data.data[i].slot[0]+0.5,res.data.data[i].slot[1]+0.5,tag])\n          // cellsTmp.push([res.data.data[i].slot[0]+0.5,Math.floor(res.data.data[i].slot[1]/2),tag])\n        }\n        this.option.series[0].data = cellsTmp\n\n        for(var k in this.links) {\n          if(this.links[k].used==0)\n            delete this.links[k]\n        }\n\n        this.$EventBus.$emit(\"links\", this.links)\n      })\n    },\n    drawSubPartition() {\n      this.$api.gateway.getSubPartitionHARP()\n      .then(res => {\n        if(res.data.flag==0) return\n        this.subPartitions = []\n        this.option.series[1].markArea.data = []\n        var up_colors = [\"royalblue\", \"cornflowerblue\", \"deepskyblue\", \"lightskyblue\"]\n        var down_colors = [\"darkgreen\",\"forestgreen\", \"limegreen\", \"lime\"]\n        for(var i=0;i<res.data.data.length;i++) {\n          this.subPartitions.push(res.data.data[i])\n          var sp = res.data.data[i]\n          // uplink\n          this.option.series[1].markArea.data.push([\n            {\n              name:\"U\"+sp.id+\"-\"+sp.layer,\n              xAxis:sp.ts_start,\n              yAxis: sp.ch_start,\n            },\n            {\n              xAxis:sp.ts_end, \n              yAxis: sp.ch_end,\n              itemStyle:{color:up_colors[sp.layer], opacity:0.7,borderColor:\"white\",borderWidth:1},\n              label:{color:\"black\",fontWeight:\"bold\",fontSize:12, position:\"inside\"}\n            },\n          ])\n          // downlink\n          this.option.series[1].markArea.data.push([\n            {\n              name:\"D\"+sp.id+\"-\"+sp.layer,\n              xAxis:2*this.partition_center-sp.ts_end, \n              yAxis: sp.ch_start,\n            },\n            {\n              xAxis:2*this.partition_center-sp.ts_start,\n\n              yAxis: sp.ch_end,\n              itemStyle:{color:down_colors[sp.layer], opacity:0.7,borderColor:\"white\",borderWidth:1},\n              label:{color:\"black\",fontWeight:\"bold\",fontSize:12, position:\"inside\"}\n            },\n          ])\n        }\n      })\n      \n    },\n\n    findPath(cell) {\n      this.option.series[0].markLine.data = []\n      // update cell\n      for(var i=0;i<this.slots.length;i++) {\n        if(this.slots[i].sender==cell.sender && this.slots[i].type==\"uplink\") {\n          cell = this.slots[i] \n        }\n      }\n      // find children\n      for(var j=0;j<this.slots.length;j++) {\n        if(this.slots[j].receiver==cell.sender&&this.slots[j].type==cell.type) {\n          this.option.series[0].markLine.data.push([{xAxis:this.slots[j].slot[0]+1, yAxis:this.slots[j].slot[1]+0.5}, {xAxis:cell.slot[0], yAxis:cell.slot[1]+0.5, lineStyle:{color:\"lime\", width:4}}])\n        }\n      }\n      // find parent\n      var parent = {}\n      while(cell.receiver!=0) {\n        parent = this.findSlot(cell.receiver)\n        if(parent==0) break\n        this.option.series[0].markLine.data.push([{xAxis:cell.slot[0]+1, yAxis:cell.slot[1]+0.5}, {xAxis:parent.slot[0], yAxis:parent.slot[1]+0.5}])\n        cell = parent\n      }  \n    },\n    handleClickSch(item) {\n      this.option.series[0].markLine.data = []\n      if((item.data[0]-0.5)==this.selectedCell.slot[0] && (item.data[1]-0.5)==this.selectedCell.slot[1]) {\n        this.selectedCell = {slot:[]}\n        return\n      }\n      var cell = {}\n      for(var i=0;i<this.slots.length;i++) {\n        if(this.slots[i].slot[0]==(item.data[0]-0.5) && this.slots[i].slot[1]==(item.data[1]-0.5)) {\n          cell = this.slots[i]\n          this.selectedCell = cell\n          this.findPath(cell)\n        }\n      }\n    },\n\n    findSlot(node) {\n      for(var i=0;i<this.slots.length;i++) {\n        if(this.slots[i].sender == node && this.slots[i].type==\"uplink\") {\n          return this.slots[i]\n        }\n      }\n      return 0\n    },\n  },\n\n  mounted() {\n    this.drawPartition()\n    setTimeout(this.drawSubPartition, 100)\n    // setInterval(this.drawPartition, 10000)\n    this.$EventBus.$on(\"autorefresh\", (flag)=>{\n      this.autorefresh = flag\n    })\n    setInterval(()=>{\n      if(this.autorefresh) {\n        this.drawPartition()\n      }\n    },5000)\n  },\n}\n</script>\n\n<style lang=\"stylus\" scoped>\n.bts\n  float right\n  .vs-button\n    margin-left 10px\n    font-size 0.7rem\n    font-weight 600\n  \n.links\n  text-align left \n  #name\n    font-size 1rem\n  #number\n    font-size 1.2rem\n#sch-table\n  width 100%\n  height 255px\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SchTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SchTable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SchTable.vue?vue&type=template&id=46c786ef&scoped=true&\"\nimport script from \"./SchTable.vue?vue&type=script&lang=js&\"\nexport * from \"./SchTable.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SchTable.vue?vue&type=style&index=0&id=46c786ef&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"46c786ef\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <vs-row>\n      <vs-col  vs-offset=\"0.8\" vs-w=\"5\">\n        <DeviceCnt/>\n      </vs-col>\n      <vs-col vs-offset=\"0.3\" vs-w=\"2.6125\">\n        <Uptime/>\n      </vs-col>\n      <vs-col  vs-offset=\"0.25\"  vs-w=\"2.6125\">\n        <TxTotal/>\n      </vs-col>\n    </vs-row>\n    <vs-row vs-align=\"flex-start\" vs-w=\"12\">\n      <vs-col vs-offset=\"0.8\" vs-w=\"5\">\n        <NWTable/>\n        <RSSiChart/>\n      </vs-col>\n      <vs-col vs-offset=\"0.3\" vs-w=\"5.5\">\n   \n        <Topo/>\n      </vs-col>\n    </vs-row> \n    <!-- <vs-row >\n      <vs-col vs-offset=\"0.8\" vs-w=\"10.8\"> -->\n        <!-- <LatencyChart/> -->\n        <!-- <RTTChart/> -->\n      <!-- </vs-col>\n    </vs-row> -->\n    <vs-row vs-align=\"flex-start\" vs-w=\"12\">\n      <vs-col vs-offset=\"0.8\" vs-w=\"10.8\">\n        <SchTable/>\n      </vs-col>\n      <!-- <vs-col vs-offset=\"0.3\" vs-w=\"2\">\n        <SchPi/>\n      </vs-col> -->\n    </vs-row>\n  </div>\n</template>>\n\n<script>\nimport DeviceCnt from '../components/dashboard/DeviceCnt'\nimport Uptime from '../components/dashboard/Uptime'\nimport NWTable from '../components/dashboard/NWTable'\nimport TxTotal from \"../components/dashboard/TxTotal\"\n// import LatencyChart from '../components/dashboard/LatencyChart'\n// import RTTChart from '../components/dashboard/RTTChart'\nimport RSSiChart from '../components/dashboard/RSSiChart'\nimport Topo from '../components/dashboard/Topo'\n\nimport SchTable from '../components/dashboard/SchTable'\n// import SchPi from '../components/dashboard/SchPi'\nexport default {\n    components: {\n      DeviceCnt,\n      Uptime,\n      TxTotal,\n      NWTable,\n      // LatencyChart,\n      // RTTChart,\n      RSSiChart,\n      Topo,\n    \n      SchTable,\n      // SchPi\n    },\n    data() {\n      return {\n        autorefresh: false\n      }\n    },\n    mounted() {\n      this.$EventBus.$on(\"autorefresh\", (flag)=>{\n        this.autorefresh = flag\n      })\n      setInterval(()=>{\n        if(this.autorefresh)\n          this.$EventBus.$emit(\"selectedRange\",\"week\")\n        // window.console.log(\"biu\")\n      },3000)\n\n    }\n}\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dashboard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dashboard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Dashboard.vue?vue&type=template&id=b16b95b4&\"\nimport script from \"./Dashboard.vue?vue&type=script&lang=js&\"\nexport * from \"./Dashboard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('vs-row',{attrs:{\"vs-align\":\"flex-start\",\"vs-w\":\"12\"}},[_c('br'),_c('br'),_c('br'),_c('br'),_c('br'),_c('vs-col',{staticStyle:{\"z-index\":\"99\"},attrs:{\"vs-offset\":\"0.6\",\"vs-w\":\"5\"}},[_c('Grid')],1),_c('vs-col',{staticStyle:{\"z-index\":\"99\"},attrs:{\"vs-offset\":\"0.2\",\"vs-w\":\"6\"}},[_c('sim')],1)],1),_c('vs-row',[_c('vs-col',{staticStyle:{\"z-index\":\"99\"},attrs:{\"vs-offset\":\"0.6\",\"vs-w\":\"11.2\"}},[_c('SchTable')],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('vs-card',[_c('div',{attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('h4',[_vm._v(\"Topology\")])]),_c('vs-row',{staticClass:\"panel\",attrs:{\"vs-w\":\"11\",\"vs-type\":\"flex\",\"vs-justify\":\"space-between\"}},[_c('vs-col',{attrs:{\"vs-w\":\"2\",\"vs-offset\":\"0.5\"}},[_c('vs-input',{staticClass:\"inputx\",attrs:{\"type\":\"number\",\"size\":\"small\",\"label\":\"GridX\",\"placeholder\":\"20\"},model:{value:(_vm.sizeX),callback:function ($$v) {_vm.sizeX=$$v},expression:\"sizeX\"}})],1),_c('vs-col',{attrs:{\"vs-w\":\"2\"}},[_c('vs-input',{staticClass:\"inputx\",attrs:{\"type\":\"number\",\"size\":\"small\",\"label\":\"GridY\",\"placeholder\":\"20\"},model:{value:(_vm.sizeY),callback:function ($$v) {_vm.sizeY=$$v},expression:\"sizeY\"}})],1),_c('vs-col',{attrs:{\"vs-w\":\"2\"}},[_c('vs-input',{staticClass:\"inputx\",attrs:{\"type\":\"number\",\"size\":\"small\",\"label\":\"Nodes\",\"placeholder\":\"100\"},model:{value:(_vm.nodesNumber),callback:function ($$v) {_vm.nodesNumber=$$v},expression:\"nodesNumber\"}})],1),_c('vs-col',{attrs:{\"vs-w\":\"2\"}},[_c('vs-input',{staticClass:\"inputx\",attrs:{\"type\":\"number\",\"size\":\"small\",\"label\":\"Tx Range ^2\",\"placeholder\":\"20\"},model:{value:(_vm.txRange),callback:function ($$v) {_vm.txRange=$$v},expression:\"txRange\"}})],1),_c('vs-col',{attrs:{\"vs-w\":\"2\"}},[_c('vs-input',{staticClass:\"inputx\",attrs:{\"type\":\"number\",\"size\":\"small\",\"label\":\"Max Hop\",\"placeholder\":\"8\"},model:{value:(_vm.maxHop),callback:function ($$v) {_vm.maxHop=$$v},expression:\"maxHop\"}})],1)],1),_c('ECharts',{ref:\"chart\",attrs:{\"id\":\"grid-chart\",\"autoresize\":\"\",\"options\":_vm.option},on:{\"click\":_vm.addNoiseByClick}}),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('vs-row',{attrs:{\"vs-justify\":\"flex-end\",\"id\":\"bts\"}},[_c('vs-button',{attrs:{\"size\":\"small\",\"color\":\"green\",\"type\":\"relief\"},on:{\"click\":_vm.draw}},[_vm._v(\"ReDraw\")]),_c('vs-button',{attrs:{\"size\":\"small\",\"color\":\"danger\",\"type\":\"relief\"},on:{\"click\":_vm.addNoiseCircleRand}},[_vm._v(\"Interfer\")]),_c('vs-button',{attrs:{\"size\":\"small\",\"color\":\"primary\",\"type\":\"relief\"},on:{\"click\":_vm.clearNoise}},[_vm._v(\"Clear\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <vs-card>\n    <div slot=\"header\"><h4>Topology</h4></div>\n    <vs-row class=\"panel\" vs-w=\"11\" vs-type=\"flex\" vs-justify=\"space-between\">\n      <vs-col vs-w=\"2\" vs-offset=\"0.5\">\n        <vs-input\n          type=\"number\"\n          size=\"small\"\n          label=\"GridX\"\n          class=\"inputx\"\n          placeholder=\"20\"\n          v-model=\"sizeX\"\n        />\n      </vs-col>\n      <vs-col vs-w=\"2\">\n        <vs-input\n          type=\"number\"\n          size=\"small\"\n          label=\"GridY\"\n          class=\"inputx\"\n          placeholder=\"20\"\n          v-model=\"sizeY\"\n        />\n      </vs-col>\n      <vs-col vs-w=\"2\">\n        <vs-input\n          type=\"number\"\n          size=\"small\"\n          label=\"Nodes\"\n          class=\"inputx\"\n          placeholder=\"100\"\n          v-model=\"nodesNumber\"\n        />\n      </vs-col>\n      <vs-col vs-w=\"2\">\n        <vs-input\n          type=\"number\"\n          size=\"small\"\n          label=\"Tx Range ^2\"\n          class=\"inputx\"\n          placeholder=\"20\"\n          v-model=\"txRange\"\n        />\n      </vs-col>\n      <vs-col vs-w=\"2\">\n        <vs-input\n          type=\"number\"\n          size=\"small\"\n          label=\"Max Hop\"\n          class=\"inputx\"\n          placeholder=\"8\"\n          v-model=\"maxHop\"\n        />\n      </vs-col>\n      <!-- <vs-col vs-w=\"2\">\n        <vs-input\n          type=\"number\"\n          size=\"small\"\n          label=\"Max Children\"\n          class=\"inputx\"\n          placeholder=\"10\"\n          v-model=\"parent_capacity\"\n        />\n      </vs-col> -->\n    </vs-row>\n    <ECharts\n      ref=\"chart\"\n      @click=\"addNoiseByClick\"\n      id=\"grid-chart\"\n      autoresize\n      :options=\"option\"\n    />\n    <!-- <ECharts\n      ref=\"chart\"\n      @click=\"selectNode\"\n      id=\"chart\"\n      autoresize\n      :options=\"option\"\n    /> -->\n    <div slot=\"footer\">\n      <vs-row vs-justify=\"flex-end\" id=\"bts\">\n        <vs-button size=\"small\" color=\"green\" type=\"relief\" @click=\"draw\"\n          >ReDraw</vs-button\n        >\n\n        <vs-button\n          size=\"small\"\n          color=\"danger\"\n          type=\"relief\"\n          @click=\"addNoiseCircleRand\"\n          >Interfer</vs-button\n        >\n        <vs-button\n          size=\"small\"\n          color=\"primary\"\n          type=\"relief\"\n          @click=\"clearNoise\"\n          >Clear</vs-button\n        >\n      </vs-row>\n    </div>\n  </vs-card>\n</template>\n\n<script>\nimport ECharts from \"vue-echarts/components/ECharts\";\nimport \"echarts/lib/chart/scatter\";\nimport \"echarts/lib/chart/effectScatter\";\nimport \"echarts/lib/component/markLine\";\nimport \"echarts/lib/component/toolbox\";\nimport nodes from \"./nodes3.json\";\n// import noiseList from \"./noiseList.json\";\n\n// import _ from \"lodash\"\n\nexport default {\n  components: {\n    ECharts,\n  },\n  data() {\n    return {\n      load_topo: false,\n      gwPos: [],\n      sizeX: 19,\n      sizeY: 9,\n      nodesNumber: 33, // include gateway\n      maxHop: 5,\n      txRange: 9, // in square\n      childrenCnt: { 0: 0 },\n      parent_capacity: 4, // except gateway\n      interference_range: 16, // in square\n      kicked: [],\n      history_cp: [],\n      history_cl: [],\n      nodes: [],\n      distanceTable: {},\n      nonOptimal: [],\n      join_seq: [],\n      noisePos: [],\n      noisePosList: [],\n      noiseID: 0,\n      blacklist: [],\n      pkt_id: 0,\n      pkt_num_cur_slot: 0,\n      simulation_slot: -1,\n      simulation_run: false,\n      simulation_slot_list: [0, 0],\n      schedule: [],\n      option: {\n        toolbox: {\n          feature: {\n            // saveAsImage:{}\n          },\n        },\n        grid: {\n          top: \"3%\",\n          left: \"5%\",\n          right: \"5%\",\n          bottom: \"5%\",\n        },\n        xAxis: {\n          min: 0,\n          max: this.size,\n          interval: 1,\n          axisLabel: {\n            fontSize: 10,\n          },\n        },\n        yAxis: {\n          min: 0,\n          max: this.size,\n          interval: 1,\n          axisLabel: {\n            fontSize: 10,\n          },\n        },\n        markLine: {\n          z: -1,\n        },\n        series: [\n          {\n            symbolSize: 18,\n            itemStyle: {\n              color: \"deepskyblue\",\n            },\n            // animation:false,\n            silent: true,\n            data: [],\n            label: {\n              show: true,\n              color: \"black\",\n              fontSize: 12,\n              formatter: (item) => {\n                for (var i = 0; i < Object.keys(this.nodes).length; i++) {\n                  if (\n                    this.nodes[i].position[0] == item.data[0] &&\n                    this.nodes[i].position[1] == item.data[1]\n                  ) {\n                    return i;\n                  }\n                }\n              },\n            },\n            markLine: {\n              animation: false,\n              silent: true,\n              symbolSize: 5,\n              lineStyle: {\n                type: \"solid\",\n                width: 2.5,\n                opacity: 0.7,\n                color: \"grey\",\n              },\n              data: [],\n            },\n            type: \"scatter\",\n          },\n          {\n            type: \"scatter\",\n            data: [],\n            itemStyle: {\n              color: \"white\",\n              opacity: 0,\n            },\n            symbolSize: 20,\n            animation: false,\n            // hoverAnimation: false\n          },\n          {\n            type: \"effectScatter\",\n            symbolSize: 12,\n            rippleEffect: {\n              scale: 25,\n            },\n            data: [],\n            animation: false,\n          },\n          {\n            type: \"scatter\",\n            data: [],\n            label: {\n              show: true,\n              fontSize: 16,\n              formatter: () => {\n                return \"0\";\n              },\n            },\n            itemStyle: {\n              color: \"purple\",\n              opacity: 0.85,\n            },\n            symbolSize: 18,\n            hoverAnimation: false,\n            animation: false,\n          },\n          {\n            type: \"scatter\",\n            data: [],\n            symbolSize: 25,\n            hoverAnimation: false,\n          },\n          {\n            type: \"effectScatter\",\n            symbolSize: 10,\n            rippleEffect: {\n              color: \"red\",\n              scale: 4,\n            },\n            itemStyle: {\n              color: \"red\",\n            },\n            symbol: \"rect\",\n            animation: false,\n            data: [],\n          },\n          {\n            type: \"scatter\",\n            data: [],\n            itemStyle: {\n              color: \"red\",\n              opacity: 0.9,\n            },\n            symbolSize: 10,\n            hoverAnimation: false,\n            animationDelayUpdate: 0,\n            animationDurationUpdate: 1000,\n          },\n        ],\n      },\n    };\n  },\n  methods: {\n    draw() {\n      // this.size = parseInt(this.size)\n      var sizeX = parseInt(this.sizeX);\n      var sizeY = parseInt(this.sizeY);\n      this.nodesNumber = parseInt(this.nodesNumber);\n      this.txRange = parseInt(this.txRange);\n      this.maxHop = parseInt(this.maxHop);\n      this.parent_capacity = parseInt(this.parent_capacity);\n      if ((sizeX - 1) * (sizeY - 1) < this.nodesNumber) return;\n\n      this.option.series[0].data = [];\n      // gen invisible node for click event\n      for (var a = 0; a <= sizeX; a++) {\n        for (var b = 0; b <= sizeY; b++) {\n          this.option.series[1].data.push([a, b]);\n        }\n      }\n      // gen gateway and nodes\n      var xx = Math.round((sizeX - 2) * Math.random() + 2);\n      var yy = Math.round((sizeY - 2) * Math.random() + 2);\n      // yy = 4\n      this.gwPos = [xx, yy];\n      if(this.load_topo)\n        this.gwPos = nodes[0].position;\n\n      // this.gwPos = [10,10]\n      this.nodes = {\n        0: { parent: -1, position: this.gwPos, layer: -1, path: [0] },\n      };\n      this.option.series[3].data = [this.gwPos];\n      var pos_list = {};\n      pos_list[this.gwPos[0] + \"-\" + this.gwPos[1]] = 1;\n      for (var i = 1; i < this.nodesNumber; i++) {\n        var x = Math.round((sizeX - 2) * Math.random() + 1);\n        var y = Math.round((sizeY - 2) * Math.random() + 1);\n        while (pos_list[x + \"-\" + y] != null) {\n          x = Math.round((sizeX - 1) * Math.random() + 1);\n          y = Math.round((sizeY - 1) * Math.random() + 1);\n        }\n        pos_list[x + \"-\" + y] = 1;\n        this.nodes[i] = { parent: -1, position: [x, y], layer: -1, path: [i] };\n        this.childrenCnt[i] = 0;\n      }\n\n      if(this.load_topo)\n        this.nodes = nodes;\n      // window.console.log(this.nodes)\n      for (var nn = 0; nn < Object.keys(this.nodes).length; nn++) {\n        this.nodes[nn].distance2interference = -1\n        this.option.series[0].data.push(this.nodes[nn].position);\n      }\n      this.option.xAxis.max = sizeX;\n      this.option.yAxis.max = sizeY;\n\n      // find parents\n      this.findParents();\n      setTimeout(() => {\n        this.$EventBus.$emit(\"topo\", { data: this.nodes, seq: this.join_seq });\n      }, 100);\n    },\n    findParents() {\n      // reset\n      for (var k = 0; k <= this.nodesNumber; k++) this.childrenCnt[k] = 0;\n      var loopCnt = 0;\n      this.option.series[0].markLine.data = [];\n      for (var ii = 0; ii < Object.keys(this.nodes).length; ii++) {\n        this.nodes[ii].parent = -1;\n      }\n      // find parents\n      var layers = { \"-1\": [0] };\n\n      var cnt = 1;\n      this.join_seq = [];\n      var threshold = this.txRange;\n      while (cnt < this.nodesNumber && loopCnt < 2000) {\n        for (var cur_layer = 0; cur_layer < this.maxHop; cur_layer++) {\n          if (layers[cur_layer] == null) layers[cur_layer] = [];\n\n          for (var j = 1; j < this.nodesNumber; j++) {\n            // assigned\n            if (this.nodes[j].parent != -1) continue;\n            // distance to possible parents\n            var distance_list = [];\n            for (var p_i = 0; p_i < layers[cur_layer - 1].length; p_i++) {\n              var p = layers[cur_layer - 1][p_i];\n              var distance =\n                Math.pow(\n                  this.nodes[j].position[0] - this.nodes[p].position[0],\n                  2\n                ) +\n                Math.pow(\n                  this.nodes[j].position[1] - this.nodes[p].position[1],\n                  2\n                );\n              distance_list.push({ id: p, d: distance });\n            }\n            var parent_candidates = distance_list.sort((a, b) =>\n              a.d > b.d ? 1 : -1\n            );\n\n            for (var i = 0; i < parent_candidates.length; i++) {\n              if (\n                parent_candidates[i].d <= threshold &&\n                (parent_candidates[i].id == 0 ||\n                  (parent_candidates[i].id != 0 &&\n                    this.childrenCnt[parent_candidates[i].id] <=\n                      this.parent_capacity))\n              ) {\n                this.nodes[j].parent = parent_candidates[i].id;\n                this.nodes[j].layer = cur_layer;\n                if(!this.load_topo)\n                  this.nodes[j].path = this.nodes[j].path.concat(\n                    this.nodes[parent_candidates[i].id].path\n                  );\n                this.childrenCnt[parent_candidates[i].id]++;\n                layers[cur_layer].push(j);\n                this.join_seq.push(j);\n                cnt++;\n                this.drawLine(j, parent_candidates[i].id, cur_layer);\n                break;\n              }\n            }\n          }\n        }\n        // not found, increase threshold\n        threshold += this.txRange;\n        // window.console.log(\"increase tx range to \"+threshold)\n        loopCnt++;\n      }\n    },\n    changeParents(kicked) {\n      var changed = [];\n      var cnt_cp = 0;\n      var cnt_cl = 0;\n      for (var i = 0; i < kicked.length; i++) {\n        var node = kicked[i];\n        // find new parent, nearest and low layer\n        var distance_list = [];\n\n        var nearest_parent = { id: this.nodes[node].parent, d: 1 };\n\n        // parent in blacklist or parent's cell is not optimal now\n        if (\n          this.blacklist.findIndex((n) => n.id === node) != -1 ||\n          this.blacklist.findIndex((n) => n.id === this.nodes[node].parent) !=\n            -1 ||\n          this.nonOptimal.indexOf(this.nodes[node].parent) != -1\n        ) {\n          for (var j = 0; j < Object.keys(this.nodes).length; j++) {\n            // itself\n            if (node == j) continue;\n            // in blacklist, pass\n            if (this.blacklist.findIndex((n) => n.id === j) != -1) continue;\n            // parent's cell are not optimal\n            if (this.nonOptimal.indexOf(j) != -1) continue;\n            // higher layer, pass\n            if (this.nodes[j].layer >= this.nodes[node].layer) continue;\n            // old parent, pass\n            if (this.nodes[node].parent == j) continue;\n            // too far\n            if (\n              this.nodes[j].position[0] - this.nodes[node].position[0] > 10 ||\n              this.nodes[j].position[1] - this.nodes[node].position[1] > 10\n            )\n              continue;\n\n            var distance =\n              Math.pow( \n                this.nodes[j].position[0] - this.nodes[node].position[0],\n                2\n              ) +\n              Math.pow(\n                this.nodes[j].position[1] - this.nodes[node].position[1],\n                2\n              );\n            distance_list.push({ id: j, d: distance });\n          }\n\n          // cannot find, don't change\n          // layer 0 nodes\n          if (distance_list.length < 1) {\n            nearest_parent = { id: this.nodes[node].parent, d: 1 };\n          } else {\n            nearest_parent = distance_list.sort((a, b) =>\n              a.d > b.d ? 1 : -1\n            )[0];\n          }\n        }\n        var old_parent = this.nodes[node].parent;\n        var old_layer = this.nodes[node].layer;\n        if (nearest_parent.id != old_parent) cnt_cp++;\n        if (this.nodes[nearest_parent.id].layer + 1 != old_layer) cnt_cl++;\n        this.nodes[node].parent = nearest_parent.id;\n        this.nodes[node].layer = this.nodes[nearest_parent.id].layer + 1;\n        changed.push({\n          id: node,\n          parent: this.nodes[node].parent,\n          layer: this.nodes[node].layer,\n        });\n        this.drawLine(node, nearest_parent.id);\n      }\n      this.last_nodes = JSON.parse(JSON.stringify(this.nodes));\n\n      this.history_cp.push(cnt_cp);\n      this.history_cl.push(cnt_cl);\n      // window.console.log(this.history_cp, \" nodes changed parent\");\n      // window.console.log(this.history_cl, \" nodes changed layer\");\n      this.$EventBus.$emit(\n        \"changed\",\n        changed.sort((a, b) => (a.layer > b.layer ? 1 : -1))\n      );\n      this.$EventBus.$emit(\"changedTopo\", this.nodes);\n    },\n    drawLine(start, end) {\n      this.option.series[0].markLine.data.push([\n        { coord: this.nodes[start].position },\n        { coord: this.nodes[end].position },\n      ]);\n    },\n    eraseLine(start, end) {\n      for (var i = 0; i < this.option.series[0].markLine.data.length; i++) {\n        var L = this.option.series[0].markLine.data[i];\n        if (\n          this.nodes[start].position == L[0].coord &&\n          this.nodes[end].position == L[1].coord\n        ) {\n          this.option.series[0].markLine.data.splice(i, 1);\n          return;\n        }\n      }\n    },\n    selectNode(param) {\n      var selectedNode = 0;\n      if (param.value[0] == this.gwPos[0] && param.value[1] == this.gwPos[1]) {\n        selectedNode = 0;\n      } else {\n        for (var i = 1; i < Object.keys(this.nodes).length; i++) {\n          if (\n            this.nodes[i].position[0] == param.value[0] &&\n            this.nodes[i].position[1] == param.value[1]\n          ) {\n            selectedNode = i;\n            break;\n          }\n        }\n      }\n      this.$EventBus.$emit(\"selectedNode\", selectedNode);\n    },\n    addNoiseByClick(param) {\n      this.option.series[2].rippleEffect.scale = 25\n      this.interference_range = 16\n      this.$EventBus.$emit(\"new_itf\", 1);\n      if (\n        this.noisePos[0] == param.value[0] &&\n        this.noisePos[1] == param.value[1]\n      ) {\n        this.clearNoise();\n      } else {\n        this.noisePos = param.value;\n        this.option.series[2].data = [param.value];\n        // this.noisePosList.push(param.value);\n        // window.console.log(this.noisePosList)\n        this.respondToNoise();\n      }\n    },\n    addNoiseCircleRand() {\n      this.option.series[2].rippleEffect.scale = 25\n      this.interference_range = 16\n      this.$EventBus.$emit(\"new_itf\", 1);\n      var x = Math.round(this.sizeX * Math.random());\n      var y = Math.round(this.sizeY * Math.random());\n      // x = 9\n      // y = 3\n      \n      // if (this.noiseID < 100) {\n      //   x = noiseList[this.noiseID][0];\n      //   y = noiseList[this.noiseID][1];\n      // }\n      // this.noiseID++;\n      if (\n        this.noisePos[0] == x &&\n        this.noisePos[1] == y\n      ) {\n        return\n      }\n      this.noisePos = [x, y];\n      \n      // this.noisePosList.push([x,y])\n      // window.console.log(this.noiseID,this.noiseList)\n      this.option.series[2].data = [[x, y]];\n      this.respondToNoise();\n      \n    },\n    clearNoise() {\n      for(var i in this.nodes) {\n        this.nodes[i].distance2interference = -1\n      }\n      this.noisePos = [];\n      this.option.series[2].data = [];\n      this.blacklist = [];\n      this.option.series[4].data = [];\n      this.option.series[5].data = [];\n      this.$EventBus.$emit(\"clear\", 1);\n      this.findParents();\n    },\n    respondToNoise() {\n      this.option.series[4].data = [];\n      for(var ii in this.nodes) {\n        this.nodes[ii].distance2interference = -1\n      }\n      // var affected = [];\n      this.kicked = [];\n      this.blacklist = [];\n\n      for (var i = 0; i < Object.keys(this.nodes).length; i++) {\n        var distance =\n          Math.pow(this.nodes[i].position[0] - this.noisePos[0], 2) +\n          Math.pow(this.nodes[i].position[1] - this.noisePos[1], 2);\n        if (distance <= this.interference_range && i != 0) {\n\n          // affected.push({ id: i, lv: distance, loss_rate: this.interference_strength/distance});\n\n          this.nodes[i].distance2interference = distance\n          this.option.series[4].data.push({\n            value: this.nodes[i].position,\n            itemStyle: {\n              color: \"red\",\n              opacity: 0.9/Math.sqrt(distance),\n            },\n          });\n          // no topo change\n          // this.kickChildren(i);\n        }\n      }\n      // change link quality\n      this.$EventBus.$emit(\"affected\", { data: this.nodes, seq: this.join_seq });\n\n      // no topo change \n      // this.option.series[4].data = Array.from(\n      //   new Set(this.option.series[4].data)\n      // );\n      // this.blacklist = affected.sort((a, b) => (a.lv >= b.lv ? 1 : -1));\n\n      // // Deduplicate and sort by layer\n      // this.kicked = Array.from(new Set(this.kicked));\n      // var tmp = [];\n      // for (var k = 0; k < this.kicked.length; k++) {\n      //   tmp.push({\n      //     id: this.kicked[k],\n      //     layer: this.nodes[this.kicked[k]].layer,\n      //   });\n      // }\n      // tmp.sort((a, b) => (a.layer >= b.layer ? 1 : -1));\n      // this.kicked = [];\n      // for (var kk = 0; kk < tmp.length; kk++) {\n      //   this.kicked.push(tmp[kk].id);\n      // }\n\n      // this.$EventBus.$emit(\"kicked\", this.kicked);\n      // this.changeParents(this.kicked);\n      // end `no topo change`\n\n    },\n    // kick the whole branch\n    kickChildren(node) {\n      for (var i = 0; i < Object.keys(this.nodes).length; i++) {\n        if (this.nodes[i].parent == node) {\n          // this.nodes[i].parent = -1\n          this.kicked.push(i);\n          this.eraseLine(i, node);\n          this.kickChildren(i);\n        }\n      }\n    },\n    send(src, dst) {\n      this.pkt_id++;\n      var pkt = {\n        name: \"pkt \" + src + \"->\" + dst + \" #\" + this.pkt_id,\n        value: this.nodes[src].position,\n      };\n      this.option.series[6].data.push(pkt);\n\n      setTimeout(() => {\n        pkt.value = this.nodes[dst].position;\n        setTimeout(() => {\n          pkt.value = [-1, -1];\n          this.$EventBus.$emit(\"pkt_finish\", pkt);\n        }, 800);\n      }, 400);\n    },\n    runSimulationNext() {\n      this.pkt_num_cur_slot = 0;\n      this.simulation_slot++;\n      if (this.simulation_slot > 126) {\n        this.$EventBus.$emit(\"simulation_finish\", true);\n        return;\n      }\n      // window.console.log(\"slot\",this.simulation_slot)\n      var transmissions = [];\n      this.$EventBus.$emit(\"simulation_cur_slot\", this.simulation_slot);\n      for (var ch = 1; ch < 17; ch++) {\n        if (this.schedule[this.simulation_slot][ch] != null) {\n          var cell = this.schedule[this.simulation_slot][ch];\n          if (cell.type != \"beacon\") {\n            this.pkt_num_cur_slot++;\n            this.send(cell.sender, cell.receiver);\n            transmissions.push([cell.sender, cell.receiver, ch]);\n          }\n        }\n      }\n\n      if (this.pkt_num_cur_slot == 0) {\n        this.$EventBus.$emit(\"no_pkt\", true);\n      } else {\n        this.simulation_slot_list.push(this.simulation_slot);\n\n        this.$EventBus.$emit(\"simulation_log\", {\n          slot: this.simulation_slot,\n          tx: transmissions,\n        });\n      }\n    },\n    runSimulation() {},\n  },\n  mounted() {\n    window.grid = this;\n    this.$EventBus.$on(\"init\", () => {\n      this.draw();\n    });\n\n    this.$EventBus.$on(\"cells1\", (cells) => {\n      this.schedule = new Array(127);\n      for (var slot = 0; slot < 127; slot++) {\n        this.schedule[slot] = new Array(17);\n      }\n      for (var i = 0; i < cells.length; i++) {\n        this.schedule[cells[i].slot[0]][cells[i].slot[1]] = cells[i].cell;\n      }\n    });\n\n    this.$EventBus.$on(\"no_pkt\", () => {\n      // if(this.simulation_)\n      this.runSimulationNext();\n    });\n\n    this.$EventBus.$on(\"simulation_run\", (sig) => {\n      this.simulation_run = sig;\n      if (sig == true) this.runSimulationNext();\n    });\n\n    this.$EventBus.$on(\"simulation_finish\", () => {\n      this.simulation_run = false;\n      this.simulation_slot = 0;\n    });\n\n    this.$EventBus.$on(\"simulation_step\", (direction) => {\n      if (direction == \"back\") {\n        var idx = this.simulation_slot_list.indexOf(this.simulation_slot);\n        this.simulation_slot = this.simulation_slot_list[idx - 2];\n      }\n      this.runSimulationNext();\n    });\n    var cnt = 0;\n    this.$EventBus.$on(\"pkt_finish\", () => {\n      cnt++;\n      // window.console.log(pkt.name,\"finished\")\n      if (cnt == this.pkt_num_cur_slot) {\n        cnt = 0;\n        if (this.simulation_run == true) this.runSimulationNext();\n      }\n    });\n\n    this.$EventBus.$on(\"interference_strength\", (val) => {\n      this.option.series[2].rippleEffect.scale -= 5\n      this.interference_range -= 4\n      this.respondToNoise()\n      if(val==0)\n        this.option.series[2].data = []\n    });\n  },\n};\n</script>\n\n<style lang=\"stylus\" scoped>\n.panel {\n  margin-top: -5px;\n\n  .vs-input {\n    width: 100px;\n  }\n}\n\n#grid-chart {\n  width: 100%;\n  height: 350px;\n}\n\n#bts {\n  font-size: 0.9rem;\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Grid.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Grid.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Grid.vue?vue&type=template&id=d73c2ca8&scoped=true&\"\nimport script from \"./Grid.vue?vue&type=script&lang=js&\"\nexport * from \"./Grid.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Grid.vue?vue&type=style&index=0&id=d73c2ca8&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d73c2ca8\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('vs-card',{attrs:{\"id\":\"console\"}},[_c('div',{attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('h4',[_vm._v(\"Simulation\")])]),_c('div',[_c('vs-row',{attrs:{\"vs-justify\":\"flex-start\",\"vs-w\":\"12\",\"vs-align\":\"center\"}},[_c('vs-col',{attrs:{\"vs-w\":\"0.8\",\"vs-offset\":\"0.1\"}},[_c('vs-button',{attrs:{\"size\":\"small\",\"color\":\"red\",\"disabled\":_vm.running,\"icon-pack\":\"fas\",\"type\":\"relief\",\"icon\":\"fa-play\"},on:{\"click\":_vm.runV2}})],1),_c('vs-col',{attrs:{\"vs-w\":\"0.8\"}},[_c('vs-button',{attrs:{\"size\":\"small\",\"color\":\"primary\",\"disabled\":!_vm.running,\"icon-pack\":\"fas\",\"type\":\"relief\",\"icon\":\"fa-pause\"},on:{\"click\":_vm.stopV2}})],1),_c('vs-col',{attrs:{\"vs-w\":\"0.8\"}},[_c('vs-button',{attrs:{\"size\":\"small\",\"color\":\"primary\",\"disabled\":!_vm.started||_vm.running,\"icon-pack\":\"fas\",\"type\":\"relief\",\"icon\":\"fa-step-backward\"},on:{\"click\":_vm.stepBwd}})],1),_c('vs-col',{attrs:{\"vs-w\":\"0.8\"}},[_c('vs-button',{attrs:{\"size\":\"small\",\"color\":\"primary\",\"disabled\":_vm.running,\"icon-pack\":\"fas\",\"type\":\"relief\",\"icon\":\"fa-step-forward\"},on:{\"click\":_vm.stepFwd}})],1),_c('vs-col',{attrs:{\"vs-w\":\"0.8\"}},[_c('vs-button',{attrs:{\"size\":\"small\",\"color\":\"primary\",\"disabled\":!_vm.started,\"icon-pack\":\"fas\",\"type\":\"relief\",\"icon\":\"fa-stop\"},on:{\"click\":_vm.finishV2}})],1),_c('vs-col',{attrs:{\"vs-offset\":\"5.5\",\"vs-w\":\"2\"}},[_c('vs-button',{staticStyle:{\"font-size\":\"0.7rem\"},attrs:{\"type\":\"line\"},on:{\"click\":function($event){_vm.popup_active=true}}},[_vm._v(\"view data\")])],1)],1)],1),_c('vs-popup',{staticClass:\"a\",attrs:{\"title\":\"data.csv\",\"active\":_vm.popup_active},on:{\"update:active\":function($event){_vm.popup_active=$event}}},[_c('vs-button',{staticStyle:{\"font-size\":\"0.7rem\"},attrs:{\"type\":\"line\"},on:{\"click\":_vm.copy_res}},[_vm._v(\"copy\")]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.res),expression:\"res\"}],ref:\"res\",attrs:{\"id\":\"logs\"},domProps:{\"value\":(_vm.res)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.res=$event.target.value}}})],1),_c('div',[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.activeTabIdx==1),expression:\"activeTabIdx==1\"}]},[_c('ECharts',{attrs:{\"id\":\"chart\",\"options\":_vm.option,\"autoresize\":\"\"},on:{\"click\":_vm.handleClick}})],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <vs-card id=\"console\">\n    <div slot=\"header\">\n      <h4>Simulation</h4>\n    </div>\n    <div>\n      <vs-row vs-justify=\"flex-start\" vs-w=12 vs-align=\"center\">\n        <vs-col vs-w=0.8 vs-offset=0.1>\n          <!-- <vs-button size=\"small\" color=\"red\" :disabled=\"running\" icon-pack=\"fas\" type=\"relief\" icon=\"fa-play\" @click=\"run\"></vs-button> -->\n          <vs-button size=\"small\" color=\"red\" :disabled=\"running\" icon-pack=\"fas\" type=\"relief\" icon=\"fa-play\" @click=\"runV2\"></vs-button>\n        </vs-col>\n        <vs-col vs-w=0.8>\n          <vs-button size=\"small\" color=\"primary\" :disabled=\"!running\" icon-pack=\"fas\" type=\"relief\" icon=\"fa-pause\" @click=\"stopV2\"></vs-button>\n        </vs-col>\n        <vs-col vs-w=0.8>\n          <vs-button size=\"small\" color=\"primary\" :disabled=\"!started||running\" icon-pack=\"fas\" type=\"relief\" icon=\"fa-step-backward\" @click=\"stepBwd\"></vs-button>\n        </vs-col>\n        <vs-col vs-w=0.8>\n          <vs-button size=\"small\" color=\"primary\" :disabled=\"running\" icon-pack=\"fas\" type=\"relief\" icon=\"fa-step-forward\" @click=\"stepFwd\"></vs-button>\n        </vs-col>\n        <vs-col vs-w=0.8>\n          <vs-button size=\"small\" color=\"primary\" :disabled=\"!started\" icon-pack=\"fas\" type=\"relief\" icon=\"fa-stop\" @click=\"finishV2\"></vs-button>\n        </vs-col>\n\n\n        <vs-col vs-offset=5.5 vs-w=2>\n          <vs-button style=\"font-size:0.7rem\" type=\"line\" @click=\"popup_active=true\">view data</vs-button>\n        </vs-col>\n        \n      </vs-row>\n    </div>\n    \n    <vs-popup class=\"a\"  title=\"data.csv\" :active.sync=\"popup_active\">\n      <vs-button style=\"font-size:0.7rem\" type=\"line\" @click=\"copy_res\">copy</vs-button>\n      <textarea id=\"logs\" ref=\"res\" v-model=\"res\"  />\n    </vs-popup>\n    <div>\n      <!-- <vs-row vs-w=12>\n        <vs-col vs-offset=0.1 vs-w=\"4\">\n          <textarea autofocus id=\"logs\" ref=\"logs\" v-model=\"simulation_log\" disabled />\n        </vs-col>\n        <vs-col vs-offset=0.5 vs-w=\"7.3\">\n          <ECharts id=\"chart\" :options=\"option\" autoresize v-show=\"activeTabIdx==1\" />\n        </vs-col>\n      </vs-row> -->\n      <div v-show=\"activeTabIdx==1\">\n        <ECharts @click=\"handleClick\" id=\"chart\" :options=\"option\" autoresize/>\n      </div>\n    </div>\n      \n  </vs-card>\n</template>\n\n<script>\nimport ECharts from \"vue-echarts/components/ECharts\";\nimport \"echarts/lib/chart/line\";\nimport \"echarts/lib/chart/bar\";\nimport \"echarts/lib/component/toolbox\";\n\n\nexport default {\n  components: {\n    ECharts,\n  },\n  data() {\n    return {\n      popup_active:false,\n      res:\"TIME, SUCCESS_RATIO, NOISE_STRENGTH\\n\",\n      interference_strength: 0,\n      itf_start_sf:0,\n      sf_id:0,\n      topo:{},\n      shift_flag: false,\n      sortedNodes:[],\n      cells:[],\n      sim_timer: {},\n      started: false,\n      running: false,\n      simulation_log: \"\",\n      activeTabIdx:1,\n      rttPerLayer: {},\n      dsr:0,\n      history: {\n        latency:[],\n        rtt: [],\n        dsr: [],\n      },\n      result: {\n        avg_latency:[],\n        avg_rtt: [],\n        dsr: [],\n      },\n      option: {\n        grid: [\n          {\n            top: \"10%\",\n            height: \"40%\",\n            left: '7%',\n            right: '8%'\n          },\n          {\n            top: \"62%\",\n            // height: \"32%\",\n            bottom: \"15%\",\n            left: '7%',\n            right: '8%'\n          }\n        ],\n        xAxis: [\n        {\n          name: 'time (s)',\n          type: 'category',\n          data: [],\n          // nameLocation: \"center\",\n          nameTextStyle: {\n            fontSize:13\n          },\n          nameGap: 10,\n          axisLabel: {\n            fontSize:10,\n          },\n          splitNumber: 1,\n          boundaryGap: true,\n          animation: false\n        },\n        {\n          name: 'time (s)',\n          type: 'category',\n          data: [],\n          // nameLocation: \"center\",\n          nameTextStyle: {\n            fontSize:13\n          },\n          nameGap: 10,\n          axisLabel: {\n            fontSize:10,\n          },\n          boundaryGap: true,\n          gridIndex: 1,\n          animation: false\n        }\n        ],\n        yAxis: [\n          {\n            name: 'Success Ratio (%)',\n            nameTextStyle: {\n              fontSize:13\n            },\n            type: 'value',\n            axisLabel: {\n              fontSize:12,\n            },\n            gridIndex: 0,\n            boundaryGap: [0, 0]\n          },\n          {\n            name: 'Noise Strength',\n            gridIndex: 1,\n            boundaryGap: [0, 0]\n          }\n        ],\n        dataZoom: [\n          {\n            type: \"inside\",\n            start: 0,\n            end: 100,\n            xAxisIndex: [0, 1]\n          },\n          {\n            start: 0,\n            end: 100,\n            xAxisIndex: [0, 1],\n            handleIcon:\n              \"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4v1.3h1.3v-1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7V23h6.6V24.4z M13.3,19.6H6.7v-1.4h6.6V19.6z\",\n            handleSize: \"80%\",\n            handleStyle: {\n              color: \"#fff\",\n              shadowBlur: 3,\n              shadowColor: \"rgba(0, 0, 0, 0.6)\",\n              shadowOffsetX: 2,\n              shadowOffsetY: 2\n            }\n          }\n        ],\n        series: [\n        {\n          name: \"sr\",\n          type: \"line\",\n          symbol: \"none\",\n          // symbolSize: 8,\n          xAxisIndex:0,\n          // itemStyle: {\n          //   borderColor: \"blue\",\n          //   color: \"white\",\n          // },\n          animation: false,\n          data: [],\n        },\n        {\n          name: \"noise lv\",\n          type: \"line\",\n          symbol: \"none\",\n          xAxisIndex:1,\n          yAxisIndex:1,\n          animation: false,\n          data: [],\n        },\n\n        ]\n      },\n    }\n  },\n  methods: {  \n    copy_res() {\n      this.$refs.res.select()\n      document.execCommand(\"copy\")\n\n    },\n    \n    // simulation within 1 sf\n    run() {\n      this.activeTabIdx = 0\n      if(!this.started) {\n        this.simulation_log += \"Simulation started\\n\"\n        this.$nextTick(() => {\n          this.$refs.logs.scrollTop = this.$refs.logs.scrollHeight\n        })\n        \n        setTimeout(()=>{\n          this.$EventBus.$emit(\"simulation_run\", true)    \n        },500)\n      }\n      else \n        this.$EventBus.$emit(\"simulation_run\", true)\n\n      \n      this.started = true\n      this.running = true\n    },\n\n    // simulate multiple slotframes, with packet loss\n    runV2() {\n      this.sim_timer = setInterval(()=>{\n        this.computeRTTSR()\n        // this.draw()\n      },40)\n      this.started = true\n      this.running = true\n    },\n    stopV2() {\n      clearInterval(this.sim_timer)\n      this.running = false\n    },\n    finishV2() {\n      clearInterval(this.sim_timer)\n      this.running = false\n    },\n    stop() {\n      this.activeTabIdx = 0\n      this.$EventBus.$emit(\"simulation_run\", false)\n      this.running = false\n    },\n    stepFwd() {\n      this.activeTabIdx = 0\n      this.started = true\n      this.$EventBus.$emit(\"simulation_step\", \"forward\")\n    },\n    stepBwd() {\n      this.activeTabIdx = 0\n      this.$EventBus.$emit(\"simulation_step\", \"back\")\n    },\n    finish() {\n      this.activeTabIdx = 0\n      this.$EventBus.$emit(\"simulation_finish\", true)\n      this.running = false\n    },\n  \n    computeRTTSR() {\n      var miss_ddl = 0\n      for(var i in this.topo) {\n        if(i==0) continue\n        var p = JSON.parse(JSON.stringify(this.topo[i].path))\n        for(var k=this.topo[i].path.length-2;k>=0;k--)\n          p.push(p[k])\n        \n        for(var j in p) {\n          var nn = p[j]\n          var loss_rate = 0\n          if(this.topo[nn].distance2interference!=-1) \n            loss_rate = this.interference_strength/this.topo[nn].distance2interference\n  \n          if(Math.random()<=loss_rate) {\n            miss_ddl++\n            break\n          }\n        }\n      }\n      var sr = 100*(1-miss_ddl/(Object.keys(this.topo).length-1))\n      this.option.xAxis[0].data.push(this.sf_id)\n      this.option.xAxis[1].data.push(this.sf_id)\n      this.option.series[0].data.push(sr)\n      this.option.series[1].data.push(this.interference_strength)\n      this.res+=this.sf_id + \", \" + sr + \", \" + this.interference_strength + \"\\n\"\n      // if(!this.shift_flag)\n      //   if(this.option.series[0].data.length>300)\n      //     this.shift_flag = true\n      // if(this.shift_flag) {\n      //   this.option.xAxis[1].data.shift()\n      //   this.option.series[0].data.shift()\n      //   this.option.series[1].data.shift()\n      // }\n      this.sf_id++\n      if((this.sf_id-this.itf_start_sf)%120==0) {\n        this.interference_strength-=0.2\n        if(this.interference_strength<0)\n          this.interference_strength = 0\n        this.$EventBus.$emit(\"interference_strength\", this.interference_strength)\n\n      }\n    },\n\n    handleClick(item) {\n      // window.console.log(item)\n      this.$EventBus.$emit(\"schSelectNode\", item.name)\n    }\n  },\n  mounted() {\n    window.sim = this\n    this.$EventBus.$on(\"topo\", (t) => {\n      this.topo = t.data\n      window.console.log(this.topo)\n    });\n    this.$EventBus.$on(\"changedTopo\", (t) => {\n      this.topo = t\n    });\n\n    this.$EventBus.$on(\"new_itf\", ()=>{\n      this.interference_strength = 0.9\n      this.itf_start_sf = this.sf_id;\n    });\n\n    this.$EventBus.$on(\"affected\", (t) => {\n      this.topo = t.data\n    });\n\n    this.$EventBus.$on(\"cells1\", (cells)=>{\n      this.cells = cells\n      this.computeRTTSR()\n    })\n\n\n    this.$EventBus.$on(\"simulation_log\", (log) => {\n      this.simulation_log += \"# Slot \"+log.slot+\"\\n\"\n      for(var i=0;i<log.tx.length;i++) {\n        this.simulation_log += \"\\tChannel \"+log.tx[i][2]+\": \"+log.tx[i][0]+\"->\"+log.tx[i][1] + \"\\n\"\n      }\n      this.$nextTick(() => {\n        this.$refs.logs.scrollTop = this.$refs.logs.scrollHeight\n      })\n    });\n    \n    this.$EventBus.$on(\"simulation_finish\", ()=>{\n      this.simulation_log += \"Finished! Collecting results...\\n\"\n      this.$nextTick(() => {\n        this.$refs.logs.scrollTop = this.$refs.logs.scrollHeight\n      })\n      this.draw()\n      setTimeout(()=>{\n        this.activeTabIdx = 1\n      },1000)\n      this.running = false\n      this.started = false\n    })\n  },\n}\n</script>\n\n<style lang=\"stylus\" >\n#console\n  width 100%\n  height 465px\n#buttons\n  // position absolute\n  // width 300px\n  z-index 999\n  \n#logs\n  margin-top 10px\n  width 100%\n  height 355px\n  font-size 0.7rem\n  line-height 1.3\n  border-radius: 6px;\n  padding 9px\n  box-sizing: border-box;\n  resize none\n  outline: none;\n  text-transform: none;\n  text-decoration: none;\ntextarea:disabled {\n  background: white;\n}\n#chart\n  width 100%\n  height 380px\n.vs-tabs--li\n  // span\n  // z-index 999\n    // font-size 0.7rem\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Sim.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Sim.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Sim.vue?vue&type=template&id=2ed0cf7f&\"\nimport script from \"./Sim.vue?vue&type=script&lang=js&\"\nexport * from \"./Sim.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Sim.vue?vue&type=style&index=0&lang=stylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('vs-card',[_c('div',{attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('h4',[_vm._v(\"Scheduler: APaS \")])]),_c('ECharts',{attrs:{\"id\":\"sch-table\",\"autoresize\":\"\",\"options\":_vm.option},on:{\"click\":_vm.handleClickSch}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\n      <vs-card>\n        <div slot=\"header\" >\n          <h4>Scheduler: APaS \n            <!-- | <span style=\"text-decoration:underline;cursor:pointer;\" @click=\"handleSwitch\">{{simOrReal}}</span> -->\n          <!-- <h4>Partition Scheduler -->\n            <!-- <div v-if=\"simOrReal=='Simulation'\" class=\"bts\"> -->\n              <!-- <vs-button color=\"danger\" type=\"filled\" @click=\"handleShuffleBt\">Shuffle</vs-button> -->\n              <!-- <vs-button color=\"primary\" type=\"filled\"  @click=\"handleIntraPartitionAdjustmentBt\">Intra-Partition Adjustment</vs-button> -->\n              <!-- <vs-button color=\"danger\" type=\"filled\"  @click=\"handleInterPartitionAdjustmentBt\">Inter-Partition Adjustment</vs-button> -->\n            <!-- </div> -->\n          </h4>\n        </div>\n        <!-- <div class=\"partition-usage\">\n          \n          <vs-row vs-type=\"flex\" vs-justify=\"space-around\" vs-w=\"12\">\n            <vs-col vs-w=\"2\">\n              <h3>{{this.slots.length}} links, {{nonOptimalCnt}} non-aligned</h3>\n            </vs-col>\n            <vs-col id=\"part\" vs-w=\"0.5\" v-for=\"(l,i) in links\" :key=\"i\">\n              {{l.name}}: {{l.used-l.non_optimal}}<span class=\"non-optimal\" v-if=\"l.non_optimal>0\">+{{l.non_optimal}}</span>\n            </vs-col>\n          </vs-row>\n          {{this.res.n1}} slots used, {{this.res.n2}} slots use multiple channels\n        </div> -->\n        <!-- <vs-divider/> -->\n        <ECharts id=\"sch-table\" autoresize :options=\"option\" @click=\"handleClickSch\" />        \n      </vs-card>\n\n</template>\n\n<script>\nimport ECharts from \"vue-echarts/components/ECharts\";\nimport \"echarts/lib/chart/heatmap\";\nimport \"echarts/lib/component/visualMap\";\nimport \"echarts/lib/component/legend\";\nimport \"echarts/lib/component/toolbox\";\nimport \"echarts/lib/component/tooltip\";\nimport \"echarts/lib/component/title\";\nimport \"echarts/lib/component/markArea\";\nimport \"echarts/lib/component/markLine\";\nimport \"echarts/lib/component/dataZoom\";\nimport \"echarts/lib/chart/graph\"\n\nimport {init1,inter_partition_adjustment, intra_partition_adjustment,dynamic_schedule,kick,get_sch,get_scheduler} from './schedule-dpa-sim.js'\n\nexport default {\n  components: {\n    ECharts,\n  },\n  data() {\n    return {\n      i:0,\n      autoFlag: 0,\n      simOrReal: \"Simulation\",\n      partition_changes: {},\n      selectedCell: {slot:[]},\n      auto: {},\n      res: {},\n      SlotFrameLength: 100,\n      Channels: [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16],\n      slots: [],\n      links: {},\n      topo: [],\n      seq:[],\n      bcnSubslots: {},\n      nonOptimalCnt:0,\n      nonOptimalList: [],\n      unAligned: {},\n      option: {\n        toolbox:{\n          feature:{\n            // saveAsImage:{}\n          }\n        },\n        tooltip: {\n          formatter: (item) => {\n            for(var i=0;i<this.slots.length;i++) {\n              // if(this.slots[i].slot[0]==(item.data[0]-0.5) && this.slots[i].slot[1]==(item.data[1]*2+1)) {\n              if(this.slots[i].slot[0]==(item.data[0]-0.5) && this.slots[i].slot[1]==(item.data[1]-0.5)) {\n                if(this.slots[i].type == \"beacon\") {\n                  var res = `[${item.data[0]-0.5}, ${item.data[1]-0.5}]<br/>\n                            Beacon<br/>\n                            Subslots<br/>`\n                  for(var sub in this.bcnSubslots[this.slots[i].slot[0]]) {\n                    var sub_text = sub.toString()\n                    sub_text = (sub_text.length<2) ? (\"\\xa0\\xa0\"+sub_text):sub_text\n                    res+=`${sub_text}\\xa0\\xa0-\\xa0\\xa0${this.bcnSubslots[this.slots[i].slot[0]][sub]}<br/>`\n                  }\n                  return res\n                }\n                // return `[${item.data[0]-0.5}, ${item.data[1]*2+1}]<br/>\n                return `[${item.data[0]-0.5}, ${item.data[1]-0.5}]<br/>\n                        ${this.slots[i].type.replace(/^\\S/, s => s.toUpperCase())}<br/>\n                        Layer ${this.slots[i].layer}<br/>\n                        ${this.slots[i].sender} -> ${this.slots[i].receiver}`\n              }\n            }\n            return item.data\n          }\n        },\n        grid: {\n          top: '20%',\n          // height: '78%',\n          left: '3%',\n          right: '1%',\n          bottom: \"7.5%\",\n        },\n        xAxis: {\n          min:0,\n          max:100,\n          splitNumber: 100,\n          minInterval: 1,\n          axisLabel: {\n            formatter: (item)=>{\n              if(item%2==1) \n                return item\n            },\n            fontSize:10,\n          },\n          name: \"Slot Offset\",\n          type: 'value',\n          position: \"top\",\n          nameLocation: \"middle\",\n          nameTextStyle: {\n            fontWeight: \"bold\",\n            padding: 15,\n            fontSize: 12\n          },\n          data: [],\n          splitArea: {\n            show: true,\n          },\n          \n        },\n        yAxis: {\n          name: \"Channel Offset\",\n          type: 'value',\n          min: 1,\n          max: 17,\n          interval: 1,\n          inverse: true,\n          nameLocation: \"middle\",\n          nameTextStyle: {\n            fontWeight: \"bold\",\n            padding: 10,\n            fontSize: 12\n          },\n          data: [],\n          splitArea: {\n            show: true,\n          },\n          axisLabel: {\n            fontSize:10,\n          }\n        },\n        dataZoom: [\n          {\n            type: \"inside\",\n            start: 0,\n            end: 100  ,\n          },\n        ],\n        visualMap: {\n          min: 0,\n          max: 1,\n          show:true,\n          type: 'piecewise',\n          inRange: {\n            color: [\"green\",'#4575b4', '#d73027']\n          },\n          pieces:[{min:-1,max:-1,label:\"Beacon\"},{min:0,max:0,label:\"Uplink\"},{min:1,max:1,label:\"Downlink\"},],\n          textStyle: {\n            fontSize:12,\n          },\n          position: 'top',\n          orient: \"horizontal\",\n          top: 0,\n          right:\"1%\",\n        },\n        series: [{\n          type: 'heatmap',\n          data: [],\n          label: {\n            show: false,\n            color: 'white',\n            fontWeight: 'bold',\n            fontSize: 14.5,\n            formatter: (item) => {\n              for(var i=0;i<this.slots.length;i++) {\n                // if(this.slots[i].slot[0]==(item.data[0]-0.5) && this.slots[i].slot[1]==(item.data[1]*2+1)) {\n                if(this.slots[i].slot[0]==(item.data[0]-0.5) && this.slots[i].slot[1]==(item.data[1]-0.5)) {\n                  if(this.slots[i].type!=\"beacon\"){\n                    \n                    return `${this.slots[i].sender}\\n${this.slots[i].receiver}`\n                  }\n                }\n              }\n              return ''\n            }\n          },\n          itemStyle: {\n            borderWidth: 1.1,\n            borderType: \"solid\",\n            borderColor: \"white\"\n          },\n          markLine: {\n            data: [],\n            symbolSize: 8,\n            lineStyle: {\n              color: \"yellow\",\n              width: 3,\n              type: \"solid\"\n            },\n            animationDuration: 300,\n          },\n          markArea: {\n            silent:true,\n            label: {\n              position:\"bottom\"\n            },\n            data: []\n          },\n        },\n        {\n          type: 'line',\n          markLine: {\n            data: [],\n            symbol: \"pin\",\n            symbolSize: 8,\n            lineStyle: {\n              color: \"red\",\n              width: 3,\n              type: \"solid\"\n            },\n            label: {\n              formatter: (item)=>{\n                return \"Slot \"+ (item.data.coord[0]-0.5).toString()\n              },\n              fontSize:13\n            },\n            animationDuration:300,\n            animationDurationUpdate: 500,\n          },\n        }]\n      },\n    }\n  },\n  methods: {\n    drawPartition() {\n      this.slots = []\n      for(var k in this.links) {\n        this.links[k] = {name:k, used:0, non_optimal:0}\n      }\n      this.option.yAxis.data = this.Channels\n      this.$api.gateway.getPartition()\n      .then(res=> {\n        if(this.simOrReal==\"Simulation\") {\n          res = {data:{data:this.res.partitions}}\n        }\n\n        this.partitions = res.data.data\n        var markAreaTmp = []\n        // var colors = ['#4575b4', '#74add1', '#abd9e9', '#e0f3f8', '#ffffbf', '#fee090', '#fdae61', '#f46d43', '#d73027', '#a50026']\n        // var colors = {}\n        var colorMap = {\n          \"B\":{'rgb':\"#ffa000\", opacity:0.5},\n          \"U1\":{'rgb':\"#1d71f2\", opacity:0.6},\n          \"D1\":{'rgb':\"#ffff00\", opacity:0.6},\n          \"U2\":{'rgb':\"#4e92f5\", opacity:0.5},\n          \"D2\":{'rgb':\"#ffff60\", opacity:0.6},\n          \"U3\":{'rgb':\"#80b3f8\", opacity:0.5},\n          \"D3\":{'rgb':\"#ffff80\", opacity:0.5},\n          \"U4\":{'rgb':\"#b1d3fb\", opacity:0.5},\n          \"D4\":{'rgb':\"#ffffc0\", opacity:0.5},\n          \"U5\":{'rgb':\"#e3f4fe\", opacity:0.6},\n          \"D5\":{'rgb':\"#ffffee\", opacity:0.6},\n          \"U6\":{'rgb':\"#e3f4fe\", opacity:0.4},\n          \"D6\":{'rgb':\"#ffffee\", opacity:0.4},\n        }\n        // var color_index = 0\n        for(var i=0;i<res.data.data.length;i++) {\n          // init beacon subslots\n          if(res.data.data[i].type==\"beacon\") {\n            for(var b=res.data.data[i].range[0];b<res.data.data[i].range[1];b++) {\n              this.bcnSubslots[b] = {}\n            }            \n          }\n          // partition size > 0\n          // res.data.data[i].layer++\n          if(res.data.data[i].range[0]<res.data.data[i].range[1]) {\n            \n            var name = res.data.data[i].type[0].toUpperCase()\n            if(name!=\"B\") name+=res.data.data[i].layer+1\n            // if(colorMap[name]==null) {\n            //   colorMap[name] = colors[color_index%colors.length]\n            //   color_index+=1\n            // }\n            var y1 = 1\n            var y2 = 17\n            var pos = \"insideBottom\"\n            if(res.data.data[i].type!=\"beacon\") {\n              y1 = 1+res.data.data[i].channels[0]\n              y2 = 1+res.data.data[i].channels[1]\n            }\n            if(res.data.data[i].type==\"uplink\") {\n              pos = \"insideBottomLeft\"\n            } else {\n              pos = \"insideBottomRight\"\n            }\n            this.links[name] = {name:name, used:0, non_optimal:0}\n            \n            markAreaTmp.push([\n              {\n                name:name,\n                xAxis:res.data.data[i].range[0],\n                yAxis: y1,\n              },\n              {\n                xAxis:res.data.data[i].range[1], \n                yAxis: y2,\n                itemStyle:{color:colorMap[name].rgb, opacity:colorMap[name].opacity,borderColor:\"black\",borderWidth:0.1},\n                label:{color:\"black\",fontWeight:\"bold\",fontSize:12, position:pos}\n              },\n            ])\n          }\n        }\n        markAreaTmp.push()\n        this.option.series[0].markArea.data = markAreaTmp\n       \n        // make sure partition is loaded\n        this.drawSchedule()\n      })\n    },\n    drawSchedule() {\n      this.$api.gateway.getSchedule()\n      .then(res => {\n        if(this.simOrReal==\"Simulation\") {\n          res = {data:{data:this.res.cells}}\n          for(var x=0;x<res.data.data.length;x++) {\n            res.data.data[x].row = res.data.data[x].cell.row\n            res.data.data[x].type = res.data.data[x].cell.type\n            res.data.data[x].layer = res.data.data[x].cell.layer\n            res.data.data[x].sender = res.data.data[x].cell.sender\n            res.data.data[x].receiver = res.data.data[x].cell.receiver\n          }\n        }\n\n        // this.nonOptimalCnt = Object.keys(this.unAligned).length\n        this.nonOptimalCnt = 0\n        var cellsTmp = []\n        // if(!res.data.flag) return\n        this.slots = res.data.data\n        for(var i=0;i<res.data.data.length;i++) {\n          // res.data.data[i].layer++\n          var name = res.data.data[i].type[0].toUpperCase()\n          if(res.data.data[i].type == \"beacon\") {\n            res.data.data[i].layer = \"\"\n          } else {\n            name+=res.data.data[i].layer+=1\n          }\n          \n          // if(res.data.data[i].layer>2) continue\n          if(this.links[name] == null) {\n            this.links[name] = {name:name, used:0, non_optimal:0}\n          }\n          this.links[name].used+=1\n\n          var tag = 1\n          if(res.data.data[i].type==\"uplink\") {\n            // this.nonOptimalCnt++\n            // this.unAligned[res.data.data[i].sender+'-'+res.data.data[i].receiver] = 1\n            // this.links[name].non_optimal+=1\n            tag = 0\n          }\n          if(res.data.data[i].type==\"beacon\") {\n            tag = -1\n          }\n          if(this.bcnSubslots[res.data.data[i].slot[0]]!=null) {\n            if(res.data.data[i].type==\"beacon\") {\n              this.bcnSubslots[res.data.data[i].slot[0]][res.data.data[i].subslot[0]]=res.data.data[i].sender\n            }\n          }\n\n          cellsTmp.push([res.data.data[i].slot[0]+0.5,res.data.data[i].slot[1]+0.5,tag])\n          // cellsTmp.push([res.data.data[i].slot[0]+0.5,Math.floor(res.data.data[i].slot[1]/2),tag])\n        }\n        this.option.series[0].data = cellsTmp\n\n        for(var k in this.links) {\n          if(this.links[k].used==0)\n            delete this.links[k]\n        }\n      })\n    },\n    handleIntraPartitionAdjustmentBt() {\n      this.res = intra_partition_adjustment(window.grid.nodes)\n      this.drawPartition()\n      if(this.selectedCell.slot.length>0) setTimeout(()=>{this.findPath(this.selectedCell)},800)\n    },\n    handleInterPartitionAdjustmentBt() {\n      this.res = inter_partition_adjustment()\n      this.drawPartition()\n      if(this.selectedCell.slot.length>0) setTimeout(()=>{this.findPath(this.selectedCell)},300)\n    },\n    findPath(cell) {\n      this.option.series[0].markLine.data = []\n      // update cell\n      for(var i=0;i<this.slots.length;i++) {\n        if(this.slots[i].sender==cell.sender && this.slots[i].type==\"uplink\") {\n          cell = this.slots[i] \n        }\n      }\n      // find children\n      for(var j=0;j<this.slots.length;j++) {\n        if(this.slots[j].receiver==cell.sender&&this.slots[j].type==cell.type) {\n          this.option.series[0].markLine.data.push([{xAxis:this.slots[j].slot[0]+1, yAxis:this.slots[j].slot[1]+0.5}, {xAxis:cell.slot[0], yAxis:cell.slot[1]+0.5, lineStyle:{color:\"lime\", width:4}}])\n        }\n      }\n      // find parent\n      var parent = {}\n      while(cell.receiver!=0) {\n        parent = this.findSlot(cell.receiver)\n        this.option.series[0].markLine.data.push([{xAxis:cell.slot[0]+1, yAxis:cell.slot[1]+0.5}, {xAxis:parent.slot[0], yAxis:parent.slot[1]+0.5}])\n        cell = parent\n      }  \n    },\n    handleClickSch(item) {\n      this.option.series[0].markLine.data = []\n      if((item.data[0]-0.5)==this.selectedCell.slot[0] && (item.data[1]-0.5)==this.selectedCell.slot[1]) {\n        this.selectedCell = {slot:[]}\n        return\n      }\n      var cell = {}\n      for(var i=0;i<this.slots.length;i++) {\n        if(this.slots[i].slot[0]==(item.data[0]-0.5) && this.slots[i].slot[1]==(item.data[1]-0.5)) {\n          cell = this.slots[i]\n          this.selectedCell = cell\n          this.findPath(cell)\n        }\n      }\n    },\n\n    findSlot(node) {\n      for(var i=0;i<this.slots.length;i++) {\n        if(this.slots[i].cell.sender == node && this.slots[i].cell.type==\"uplink\") {\n          return this.slots[i]\n        }\n      }\n      return 0\n    },\n    update_sch() {\n      this.res = get_sch()\n      this.drawPartition()\n    }\n  },\n\n  mounted() {\n    window.table = this\n    this.$EventBus.$emit(\"init\",1)\n    if(this.simOrReal==\"Simulation\") {\n      // change on to once\n      this.$EventBus.$once(\"topo\", (topo) => {\n        this.topo = topo.data\n        this.seq = topo.seq\n        this.res = init1(topo.data, topo.seq)\n        this.$EventBus.$emit(\"cells1\",this.res.cells)\n        this.drawPartition()\n        // setTimeout(this.getCrossRowLinks,1000)\n        window.sch = get_scheduler()\n      });\n    } else {\n      this.drawPartition()\n    }\n    \n    this.$EventBus.$on(\"schSelectNode\", (node) => {\n      var cell = this.findSlot(node)\n      this.findPath(cell)\n    })\n\n    this.$EventBus.$on(\"kicked\", (kicked) => {\n      kick(kicked)\n      \n      this.res = get_sch()\n      this.drawPartition()\n    })\n    this.$EventBus.$on(\"clear\", (clear) => {\n      if(clear) {\n        this.res = init1(this.topo, this.seq)\n        this.drawPartition()\n      }\n    })\n    this.$EventBus.$on(\"changed\", (nodes) => {\n      // dynamic_schedule()\n      // var node = nodes[0]\n      for(var i=0;i<nodes.length;i++) dynamic_schedule(nodes[i])\n      // if(!is_optimal) {\n      //   this.$EventBus.$emit(\"nonOptimal\", node.id)\n      // }\n      \n      this.res = get_sch()      \n      this.drawPartition()\n      this.$EventBus.$emit(\"cells1\",this.res.cells)\n      if(this.selectedCell.slot.length>0) setTimeout(()=>{this.findPath(this.selectedCell)},500)\n    });\n\n    \n    this.$EventBus.$on(\"simulation_cur_slot\", (slot)=>{\n      this.option.series[1].markLine.data = [{xAxis:slot+0.5}]\n    })\n    this.$EventBus.$on(\"simulation_finish\", ()=>{\n      this.option.series[1].markLine.data = []\n    })\n  },\n}\n</script>\n\n<style lang=\"stylus\" scoped>\n.bts\n  float right\n  .vs-button\n    margin-left 10px\n    font-size 0.8rem\n    font-weight 600\n#topo\n  height 480px\n  width 100%\n  \n.non-optimal\n  font-weight 600\n  color red\n.partition-usage\n  font-size 0.9rem\n  text-align center\n  #part\n    margin-top 4px\n#sch-table\n\n  width 100%\n  height 250px\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Table.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Table.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Table.vue?vue&type=template&id=183cb6df&scoped=true&\"\nimport script from \"./Table.vue?vue&type=script&lang=js&\"\nexport * from \"./Table.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Table.vue?vue&type=style&index=0&id=183cb6df&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"183cb6df\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <vs-row vs-align=\"flex-start\" vs-w=\"12\">\n      <br><br><br><br><br>\n      <vs-col style=\"z-index:99\" vs-offset=\"0.6\" vs-w=\"5\">  \n        <Grid/>\n      </vs-col>\n      <vs-col style=\"z-index:99\" vs-offset=\"0.2\" vs-w=\"6\">  \n        <!-- <Latency/> -->\n        <sim/>\n        <!-- <Graph/> -->\n      </vs-col>\n       <!-- <vs-col style=\"z-index:99\" vs-offset=\"0.1\" vs-w=\"2.2  \">  \n        <Latency/>\n      </vs-col> -->\n      <!-- <vs-col style=\"z-index:99\" vs-offset=\"0.1\" vs-w=\"2.2\">\n        <Latency3/>\n      </vs-col> -->\n      <!-- <vs-col style=\"z-index:99\" vs-offset=\"0.1\" vs-w=\"2.2\">\n        <Latency4/>\n      </vs-col> -->\n    </vs-row>\n    <vs-row>\n      <vs-col style=\"z-index:99\" vs-offset=\"0.6\" vs-w=\"11.2\">  \n        <SchTable/>\n      </vs-col>\n      <!-- <vs-col style=\"z-index:99\" vs-offset=\"0.6\" vs-w=\"11.1\">  \n        <SchTable2/>\n      </vs-col> -->\n      <!-- <vs-col style=\"z-index:99\" vs-offset=\"0.6\" vs-w=\"11.1\">  \n        <SchTable4/>\n      </vs-col> -->\n      \n      <!-- <vs-col style=\"z-index:99\" vs-offset=\"0.6\" vs-w=\"11.1\">  \n        <SchTable3/>\n      </vs-col> -->\n    </vs-row>\n\n  </div>\n</template>\n\n<script>\n// import Console from '../components/schedule/Console.vue'\nimport Grid from '../components/schedule/Grid'\nimport Sim from '../components/schedule/Sim.vue'\nimport SchTable from '../components/schedule/Table'\n// import Graph from '../components/schedule/Graph'\n// import SchTable5 from '../components/schedule/Table5'\n// import SchTable4 from '../components/schedule/Table4'\n// import SchTable2 from '../components/schedule/Table2'\n// import SchTable3 from '../components/schedule/Table3'\n// import Latency from '../components/schedule/Latency'\n// import Latency from '../components/schedule/Latency'\n// import Latency3 from '../components/schedule/Latency3'\n// import Latency4 from '../components/schedule/Latency4'\n\n\nexport default {\n    components: {\n      Grid,\n      SchTable,\n      // Graph,\n        // Console,\n        Sim,\n      // SchTable4,\n      // SchTable2,\n      // SchTable3,\n      // Latency,\n      // Latency,\n      // Latency3,\n      // Latency4\n    }\n}\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Scheduler.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Scheduler.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Scheduler.vue?vue&type=template&id=f9ee0dec&\"\nimport script from \"./Scheduler.vue?vue&type=script&lang=js&\"\nexport * from \"./Scheduler.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div')}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    \n  </div>\n</template>\n\n<script>\n\n\nexport default {\n    components: {\n    }\n}\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Analysis.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Analysis.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Analysis.vue?vue&type=template&id=15acfb9c&\"\nimport script from \"./Analysis.vue?vue&type=script&lang=js&\"\nexport * from \"./Analysis.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport Router from 'vue-router'\nimport Dashboard from '@/pages/Dashboard'\nimport Scheduler from '@/pages/Scheduler'\nimport Analysis from '@/pages/Analysis'\n\nVue.use(Router)\n\nexport default new Router({\n    routes: [\n        {\n            path: '/',\n            redirect: '/dashboard',\n        },\n        {\n            path: '/dashboard',\n            component: Dashboard,\n        },\n        {\n            path: '/scheduler',\n            component: Scheduler,\n        },\n        {\n            path: '/analysis',\n            component: Analysis,\n        },\n    ]\n})","import axios from 'axios'\n\nvar instance = axios.create()\n\n// instance.defaults.baseURL = 'https://6tisch.amyang.xyz/'\ninstance.defaults.baseURL = '/'\ninstance.defaults.headers.post['Content-Type'] = 'application/x-www-form-urlencoded';\n\ninstance.interceptors.response.use(function (response) {\n    return response;\n  }, function (error) {\n    return Promise.reject(error);\n  });\n\nexport default instance","import axios from './base'\n\nconst gateway = {\n    getGateway(range) {\n        return axios.get(`/api/gateway?range=${range}`)\n    },\n    getTopology(gw, range) {\n        return axios.get(`/api/${gw}/topology?range=${range}`)\n    },\n    getTopoHistory() {\n        return axios.get(`/api/any/topology/history`)\n    },\n    getSchedule() {\n        return axios.get(`/api/any/schedule`)\n    },\n    getPartition() {\n        return axios.get(`/api/any/schedule/partition`)\n    },\n    getPartitionHARP() {\n        return axios.get(`/api/any/schedule/partition_harp`)\n    },\n    getSubPartitionHARP() {\n        return axios.get(`/api/any/schedule/sp_harp`)\n    },\n    getNWStat(gw, range) {\n        return axios.get(`/api/${gw}/nwstat?range=${range}`)\n    },\n    getNWStatByID(gw, id, range, adv) {\n        return axios.get(`/api/${gw}/nwstat/${id}?range=${range}&advanced=${adv}`)\n    },\n    getChInfoByID(gw, id, range) {\n        return axios.get(`/api/${gw}/nwstat/${id}/channel?range=${range}`)\n    },\n    getBattery(gw, range) {\n        return axios.get(`/api/${gw}/battery?range=${range}`)\n    },\n    getBatteryByID(gw, id, range) {\n        return axios.get(`/api/${gw}/battery/${id}?range=${range}`)\n    },\n    getNoiseLevel(gw, range) {\n        return axios.get(`/api/${gw}/noise?range=${range}`)\n    },\n    getTxTotal() {\n        return axios.get(`/api/any/txtotal?range=year`)\n    }\n}\n\nexport default gateway\n            ","import gateway from '@/api/gateway'\n\nexport default {\n    gateway,\n}","import Vue from 'vue'\nimport App from './App.vue'\nimport Vuesax from 'vuesax'\nimport router from './router'\nimport api from './api'\nimport * as VueGoogleMaps from 'vue2-google-maps'\nimport 'vuesax/dist/vuesax.css'\nimport 'material-icons/iconfont/material-icons.css';\nimport '@fortawesome/fontawesome-free/css/all.css'\nimport '@fortawesome/fontawesome-free/js/all.js'\n\nVue.prototype.$EventBus = new Vue()\nVue.prototype.$api = api\nVue.use(Vuesax)\nVue.use(VueGoogleMaps, {\n  load: {\n    key: 'AIzaSyCxlmDq-hB_CguPXR3OH_tTkf0X2HO3XdU',\n    libraries: 'places,drawing,visualization', \n  },\n  installComponents: true\n})\nVue.config.productionTip = false\n\nnew Vue({\n  router,\n  render: h => h(App),\n}).$mount('#app')\n\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"#r[data-v-93048102]{font-size:.92rem;overflow:hidden}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-3!../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Sidebar.vue?vue&type=style&index=0&id=5ddbea69&lang=stylus&scoped=true&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"588d21ac\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".footer[data-v-3e4ee0f8]{overflow:hidden;position:absolute;bottom:0}#card[data-v-3e4ee0f8],.footer[data-v-3e4ee0f8]{height:50px;width:100%}#card[data-v-3e4ee0f8]{margin:0;padding:5px;border-radius:0;color:#000}#card h3[data-v-3e4ee0f8]{font-size:.7rem}a[data-v-3e4ee0f8]{color:#36454a}a[data-v-3e4ee0f8]:hover{text-decoration:underline}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","import mod from \"-!../../node_modules/vue-style-loader/index.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-3!../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Sidebar.vue?vue&type=style&index=0&id=5ddbea69&lang=stylus&scoped=true&\"; export default mod; export * from \"-!../../node_modules/vue-style-loader/index.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-3!../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Sidebar.vue?vue&type=style&index=0&id=5ddbea69&lang=stylus&scoped=true&\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".layers[data-v-3a8b9d87]{height:55px}.expand-enter-active[data-v-3a8b9d87],.expand-leave-active[data-v-3a8b9d87]{-webkit-transition:all .3s;transition:all .3s;height:55px;overflow:hidden}.expand-enter[data-v-3a8b9d87],.expand-leave-to[data-v-3a8b9d87]{height:0}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","import mod from \"-!../../../node_modules/vue-style-loader/index.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-3!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Grid.vue?vue&type=style&index=0&id=d73c2ca8&lang=stylus&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/vue-style-loader/index.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-3!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Grid.vue?vue&type=style&index=0&id=d73c2ca8&lang=stylus&scoped=true&\"","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-3!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Sim.vue?vue&type=style&index=0&lang=stylus&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"62f79d3e\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","import mod from \"-!../../../node_modules/vue-style-loader/index.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-3!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SchTable.vue?vue&type=style&index=0&id=46c786ef&lang=stylus&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/vue-style-loader/index.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-3!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SchTable.vue?vue&type=style&index=0&id=46c786ef&lang=stylus&scoped=true&\"","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-3!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Grid.vue?vue&type=style&index=0&id=d73c2ca8&lang=stylus&scoped=true&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"b2045154\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".cnt[data-v-083ff0da]{font-size:1.15rem}.cnt>h3[data-v-083ff0da]{font-size:1.5rem}.cnt>h5[data-v-083ff0da]{color:#3b4f63}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-3!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Layers.vue?vue&type=style&index=0&id=3a8b9d87&lang=stylus&scoped=true&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"e071554c\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".echarts[data-v-5c3fbead]{width:100%;height:228px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"#table[data-v-b2a4b412]{min-height:405px}th[data-v-b2a4b412]{font-size:.8rem}td[data-v-b2a4b412]{font-size:.75rem}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","import mod from \"-!../../../node_modules/vue-style-loader/index.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-3!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DeviceCnt.vue?vue&type=style&index=0&id=083ff0da&lang=stylus&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/vue-style-loader/index.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-3!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DeviceCnt.vue?vue&type=style&index=0&id=083ff0da&lang=stylus&scoped=true&\"","import mod from \"-!../../../node_modules/vue-style-loader/index.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-3!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Uptime.vue?vue&type=style&index=0&id=1938c24a&lang=stylus&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/vue-style-loader/index.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-3!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Uptime.vue?vue&type=style&index=0&id=1938c24a&lang=stylus&scoped=true&\"","/*eslint-disable*/\nvar scheduler = require('./scheduler-apas')\n// var scheduler = require('./scheduler-apasp')\n// var scheduler1row = require('./scheduler')\n// var scheduler_block = require('./scheduler-block')\n\nfunction get_partition() {\n  var p = []\n  sch = sch1\n  p.push({type:\"beacon\", layer:0, range:[sch.partition.broadcast.start,sch.partition.broadcast.end]})\n  for(var l=0;l<Object.keys(sch.partition[0].uplink).length;l++) {\n    for(var r=0;r<sch1.rows;r++) {\n      p.push({type:'uplink',layer:l, row:r, channels:sch.partition[r].uplink[l].channels, range:[sch.partition[r].uplink[l].start,sch.partition[r].uplink[l].end]})\n      p.push({type:'downlink',layer:l, row:r, channels:sch.partition[r].downlink[l].channels, range:[sch.partition[r].downlink[l].start,sch.partition[r].downlink[l].end]})\n    }\n  }\n  // console.log(p)\n  return p\n}\n\nfunction get_partition1row() {\n  var p = []\n  p.push({type:\"beacon\", layer:0, range:[sch2.partition.broadcast.start,sch2.partition.broadcast.end]})\n  for(var l=0;l<Object.keys(sch2.partition.uplink).length;l++) {\n      p.push({type:'uplink',layer:l, range:[sch2.partition.uplink[l].start,sch2.partition.uplink[l].end]})\n      p.push({type:'downlink',layer:l, range:[sch2.partition.downlink[l].start,sch2.partition.downlink[l].end]})\n     \n  }\n  return p\n}\n\nvar sch1={}\nvar sch2={}\nvar sch3={}\nvar sch4={}\nvar sch5={}\nvar sch6={}\nvar topo = {}\nvar join_seq = []\n\n// static schedule, init\nfunction static_schedule1() {\n  for(var i=0;i<join_seq.length;i++) {\n    var node = join_seq[i]\n    var parent = topo[node].parent\n    var layer = topo[node].layer\n\n    var ret=sch1.find_empty_subslot([node],8,{type:\"beacon\",layer:0});\n    sch1.add_subslot(ret.slot, ret.subslot, {type:\"beacon\",layer:layer,row:ret.row, sender:node,receiver:0xffff}, ret.is_optimal);\n\n    var ret=sch1.find_empty_subslot([node,parent],1,{type:\"uplink\",layer:layer});\n    sch1.add_subslot(ret.slot, ret.subslot, {type:\"uplink\",layer:layer,row:ret.row,sender:node,receiver:parent}, ret.is_optimal);    \n    var ret=sch1.find_empty_subslot([parent, node],1,{type:\"downlink\",layer:layer});\n    sch1.add_subslot(ret.slot, ret.subslot, {type:\"downlink\",layer:layer,row:ret.row,sender:parent,receiver:node}, ret.is_optimal);\n  }\n}\n\nfunction static_schedule2() {\n  for(var i=0;i<join_seq.length;i++) {\n    var node = join_seq[i]\n    var parent = topo[node].parent\n    var layer = topo[node].layer\n\n    // var ret=sch2.find_empty_subslot([node],8,{type:\"beacon\",layer:0});\n    // sch2.add_subslot(ret.slot, ret.subslot, {type:\"beacon\",layer:layer,row:ret.row, sender:node,receiver:0xffff}, ret.is_optimal);\n\n    var ret=sch2.find_empty_subslot([node,parent],1,{type:\"uplink\",layer:layer});\n    if(ret!=null)\n      sch2.add_subslot(ret.slot, ret.subslot, {type:\"uplink\",layer:layer,row:ret.row,sender:node,receiver:parent}, ret.is_optimal);    \n    var ret=sch2.find_empty_subslot([parent, node],1,{type:\"downlink\",layer:layer});\n    if(ret!=null)\n      sch2.add_subslot(ret.slot, ret.subslot, {type:\"downlink\",layer:layer,row:ret.row,sender:parent,receiver:node}, ret.is_optimal);\n  }\n}\n\nfunction static_schedule3() {\n  for(var i=0;i<join_seq.length;i++) {\n    var node = join_seq[i]\n    var parent = topo[node].parent\n    var layer = topo[node].layer\n\n    var ret=sch3.find_empty_subslot([node],8,{type:\"beacon\",layer:0});\n    sch3.add_subslot(ret.slot, ret.subslot, {type:\"beacon\",layer:layer,row:ret.row, sender:node,receiver:0xffff}, ret.is_optimal);\n\n    var ret=sch3.find_empty_subslot([node,parent],1,{type:\"uplink\",layer:layer});\n    sch3.add_subslot(ret.slot, ret.subslot, {type:\"uplink\",layer:layer,row:ret.row,sender:node,receiver:parent}, ret.is_optimal);    \n    var ret=sch3.find_empty_subslot([parent, node],1,{type:\"downlink\",layer:layer});\n    sch3.add_subslot(ret.slot, ret.subslot, {type:\"downlink\",layer:layer,row:ret.row,sender:parent,receiver:node}, ret.is_optimal);\n  }\n}\n\nfunction static_schedule4() {\n  var max_hop = 0\n  for(var x=0;x<join_seq.length;x++) {\n    var node = join_seq[x]\n    if ((topo[node].path.length-1)>max_hop)\n      max_hop = topo[node].path.length-1\n  }\n  console.log(\"max hop\", max_hop)\n  for(var i=0;i<join_seq.length;i++) {\n    var node = join_seq[i]\n    var parent = topo[node].parent\n    var layer = topo[node].layer\n\n    // var ret=sch3.find_empty_subslot([node],8,{type:\"beacon\",layer:0});\n    // sch3.add_subslot(ret.slot, ret.subslot, {type:\"beacon\",layer:layer,row:ret.row, sender:node,receiver:0xffff}, ret.is_optimal);\n    var hop = topo[node].path.length-1\n    for(var j=0;j<max_hop+1-hop;j++) {\n      var ret=sch4.find_empty_subslot([node,parent],1,{type:\"uplink\",layer:layer});\n      if(ret!=null)\n        sch4.add_subslot(ret.slot, ret.subslot, {type:\"uplink\",layer:layer,row:ret.row,sender:node,receiver:parent}, ret.is_optimal);    \n      else\n        console.log(\"cannot find an optimal cell\")\n    }\n    // var ret=sch4.find_empty_subslot([parent, node],1,{type:\"downlink\",layer:layer});\n    // if(ret!=null)\n    //   sch4.add_subslot(ret.slot, ret.subslot, {type:\"downlink\",layer:layer,row:ret.row,sender:parent,receiver:node}, ret.is_optimal);\n    // else\n    //   console.log(\"cannot find an optimal cell\")\n  }\n}\n\nfunction static_schedule5() {\n  for(var i=0;i<join_seq.length;i++) {\n    var node = join_seq[i]\n    var parent = topo[node].parent\n    var layer = topo[node].layer\n\n    // var ret=sch3.find_empty_subslot([node],8,{type:\"beacon\",layer:0});\n    // sch3.add_subslot(ret.slot, ret.subslot, {type:\"beacon\",layer:layer,row:ret.row, sender:node,receiver:0xffff}, ret.is_optimal);\n\n    var ret=sch5.find_empty_subslot([node,parent],1,{type:\"uplink\",layer:layer});\n    if(ret!=null)\n      sch5.add_subslot(ret.slot, ret.subslot, {type:\"uplink\",layer:layer,row:ret.row,sender:node,receiver:parent}, ret.is_optimal);    \n    else\n      console.log(\"cannot find an optimal cell\")\n    var ret=sch5.find_empty_subslot([parent, node],1,{type:\"downlink\",layer:layer});\n    if(ret!=null)\n      sch5.add_subslot(ret.slot, ret.subslot, {type:\"downlink\",layer:layer,row:ret.row,sender:parent,receiver:node}, ret.is_optimal);\n    else\n      console.log(\"cannot find an optimal cell\")\n  }\n}\n\nfunction static_schedule6() {\n  for(var i=0;i<join_seq.length;i++) {\n    var node = join_seq[i]\n    var parent = topo[node].parent\n    var layer = topo[node].layer\n\n    var ret=sch6.find_empty_subslot([node],8,{type:\"beacon\",layer:0});\n    sch6.add_subslot(ret.slot, ret.subslot, {type:\"beacon\",layer:layer, sender:node,receiver:0xffff}, ret.is_optimal);\n\n    var ret=sch6.find_empty_subslot([node,parent],1,{type:\"uplink\",layer:layer});\n    sch6.add_subslot(ret.slot, ret.subslot, {type:\"uplink\",layer:layer, sender:node,receiver:parent}, ret.is_optimal);    \n    var ret=sch6.find_empty_subslot([parent, node],1,{type:\"downlink\",layer:layer});\n    sch6.add_subslot(ret.slot, ret.subslot, {type:\"downlink\",layer:layer,sender:parent,receiver:node}, ret.is_optimal);\n  }\n}\n\n// rm old links, add new links\nfunction dynamic_schedule(node) {\n  // add new up/downlink\n  var ret=sch1.find_empty_subslot([node.id,node.parent],1,{type:\"uplink\",layer:node.layer});\n  sch1.add_subslot(ret.slot, ret.subslot, {row:ret.row,type:\"uplink\",layer:node.layer,sender:node.id,receiver:node.parent}, ret.is_optimal);\n\n  ret=sch1.find_empty_subslot([node.parent, node.id],1,{type:\"downlink\",layer:node.layer});\n  sch1.add_subslot(ret.slot, ret.subslot, {row:ret.row, type:\"downlink\",layer:node.layer,sender:node.parent,receiver:node.id}, ret.is_optimal);\n  \n  // var ret=sch2.find_empty_subslot([node.id,node.parent],1,{type:\"uplink\",layer:node.layer});\n  // sch2.add_subslot(ret.slot, ret.subslot, {row:ret.row,type:\"uplink\",layer:node.layer,sender:node.id,receiver:node.parent}, ret.is_optimal);\n\n  // ret=sch2.find_empty_subslot([node.parent, node.id],1,{type:\"downlink\",layer:node.layer});\n  // sch2.add_subslot(ret.slot, ret.subslot, {row:ret.row, type:\"downlink\",layer:node.layer,sender:node.parent,receiver:node.id}, ret.is_optimal);\n\n  // var ret=sch3.find_empty_subslot([node.id,node.parent],1,{type:\"uplink\",layer:node.layer});\n  // sch3.add_subslot(ret.slot, ret.subslot, {row:ret.row,type:\"uplink\",layer:node.layer,sender:node.id,receiver:node.parent}, ret.is_optimal);\n\n  // ret=sch3.find_empty_subslot([node.parent, node.id],1,{type:\"downlink\",layer:node.layer});\n  // sch3.add_subslot(ret.slot, ret.subslot, {row:ret.row, type:\"downlink\",layer:node.layer,sender:node.parent,receiver:node.id}, ret.is_optimal);\n\n  // var ret=sch4.find_empty_subslot([node.id,node.parent],1,{type:\"uplink\",layer:node.layer});\n  // sch4.add_subslot(ret.slot, ret.subslot, {row:ret.row,type:\"uplink\",layer:node.layer,sender:node.id,receiver:node.parent}, ret.is_optimal);\n\n  // ret=sch4.find_empty_subslot([node.parent, node.id],1,{type:\"downlink\",layer:node.layer});\n  // sch4.add_subslot(ret.slot, ret.subslot, {row:ret.row, type:\"downlink\",layer:node.layer,sender:node.parent,receiver:node.id}, ret.is_optimal);\n\n  return ret.is_optimal\n}\n\nfunction kick(nodes) {\n  var used_subslot = JSON.parse(JSON.stringify(sch1.used_subslot));\n  // console.log(used_subslot.length)\n  // rm old up/downlink\n  for(var i=0;i<nodes.length;i++ ) {\n    node = nodes[i]\n    for(var j=0;j<used_subslot.length;j++) {\n      if((used_subslot[j].cell.type==\"uplink\"&&used_subslot[j].cell.sender==node) ||\n        (used_subslot[j].cell.type==\"downlink\"&&used_subslot[j].cell.receiver==node)) {\n        sch1.remove_slot({slot_offset:used_subslot[j].slot[0],channel_offset:used_subslot[j].slot[1]})\n      }\n    }\n  }\n}\n\nfunction kick2(nodes) {\n  var used_subslot = JSON.parse(JSON.stringify(sch2.used_subslot));\n  // console.log(used_subslot.length)\n  // rm old up/downlink\n  for(var i=0;i<nodes.length;i++ ) {\n    node = nodes[i]\n    for(var j=0;j<used_subslot.length;j++) {\n      if((used_subslot[j].cell.type==\"uplink\"&&used_subslot[j].cell.sender==node) ||\n        (used_subslot[j].cell.type==\"downlink\"&&used_subslot[j].cell.receiver==node)) {\n        sch2.remove_slot({slot_offset:used_subslot[j].slot[0],channel_offset:used_subslot[j].slot[1]})\n      }\n    }\n  }\n}\n\nfunction kick3(nodes) {\n  var used_subslot = JSON.parse(JSON.stringify(sch3.used_subslot));\n  // console.log(used_subslot.length)\n  // rm old up/downlink\n  for(var i=0;i<nodes.length;i++ ) {\n    node = nodes[i]\n    for(var j=0;j<used_subslot.length;j++) {\n      if((used_subslot[j].cell.type==\"uplink\"&&used_subslot[j].cell.sender==node) ||\n        (used_subslot[j].cell.type==\"downlink\"&&used_subslot[j].cell.receiver==node)) {\n        sch3.remove_slot({slot_offset:used_subslot[j].slot[0],channel_offset:used_subslot[j].slot[1]})\n      }\n    }\n  }\n}\n\nfunction kick4(nodes) {\n  var used_subslot = JSON.parse(JSON.stringify(sch4.used_subslot));\n  // console.log(used_subslot.length)\n  // rm old up/downlink\n  for(var i=0;i<nodes.length;i++ ) {\n    node = nodes[i]\n    for(var j=0;j<used_subslot.length;j++) {\n      if((used_subslot[j].cell.type==\"uplink\"&&used_subslot[j].cell.sender==node) ||\n        (used_subslot[j].cell.type==\"downlink\"&&used_subslot[j].cell.receiver==node)) {\n        sch4.remove_slot({slot_offset:used_subslot[j].slot[0],channel_offset:used_subslot[j].slot[1]})\n      }\n    }\n  }\n}\n\nfunction init1(topology,seq) {\n  sch1 = scheduler.create_scheduler(100,[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16],\"partition\")\n\n  topo = topology\n  // topo for scheduler, {parent: [children]}\n  var sch_topo = {0:[]}\n  for(var n=1;n<Object.keys(topo).length;n++) {\n    if(sch_topo[topo[n].parent]!=null) sch_topo[topo[n].parent].push(n)\n    else sch_topo[topo[n].parent] = [n]\n  }\n  // sch1.setTopology(sch_topo)\n  join_seq = seq\n  // sort_join_seq()\n  static_schedule1()\n  \n  return {cells:sch1.used_subslot, partitions: get_partition()}\n}\n\nfunction init2(topology,seq) {\n  sch2 = scheduler.create_scheduler(127,[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16], \"LLSF\")\n  \n  // topo = topology\n  // topo for scheduler, {parent: [children]}\n  // var sch_topo = {0:[]}\n  // for(var n=1;n<Object.keys(topo).length;n++) {\n  //   if(sch_topo[topo[n].parent]!=null) sch_topo[topo[n].parent].push(n)\n  //   else sch_topo[topo[n].parent] = [n]\n  // }\n  // sch2.setTopology(sch_topo)\n  join_seq = seq\n  static_schedule2()\n  var n1 = sch2.count_used_slots()\n  var n2 = sch2.count_multi_ch_slots()\n  // console.log(\"1D PART uses\", n1, \"slots, and\", n2,\"slots\",\"(\"+(n2/n1*100.0).toFixed(2)+\"%)\", \"use multiple channels\")\n  // sch.dynamic_partition_adjustment()\n  return {cells:sch2.used_subslot,  n1:n1, n2:n2}\n}\n\nfunction init3(topology,seq) {\n  sch3 = scheduler.create_scheduler(127,[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16],\"random\")\n  \n  topo = topology\n  // topo for scheduler, {parent: [children]}\n  var sch_topo = {0:[]}\n  for(var n=1;n<Object.keys(topo).length;n++) {\n    if(sch_topo[topo[n].parent]!=null) sch_topo[topo[n].parent].push(n)\n    else sch_topo[topo[n].parent] = [n]\n  }\n  sch3.setTopology(sch_topo)\n  join_seq = seq\n  static_schedule3()\n  // sch.dynamic_partition_adjustment()\n  return {cells:sch3.used_subslot, partitions: get_partition()}\n}\n\nfunction init4(topology,seq) {\n  sch4 = scheduler.create_scheduler(127,[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16],\"LDSF\")\n\n  topo = topology\n  // topo for scheduler, {parent: [children]}\n  var sch_topo = {0:[]}\n  for(var n=1;n<Object.keys(topo).length;n++) {\n    if(sch_topo[topo[n].parent]!=null) sch_topo[topo[n].parent].push(n)\n    else sch_topo[topo[n].parent] = [n]\n  }\n  // sch1.setTopology(sch_topo)\n  join_seq = seq\n  static_schedule4()\n  var n1 = sch4.count_used_slotss()\n  var n2 = sch4.count_multi_ch_slots()\n  // console.log(\"2D PART uses\", n1, \"slots, and\", n2,\"slots\",\"(\"+(n2/n1*100.0).toFixed(2)+\"%)\", \"use multiple channels\")\n  // sch.dynamic_partition_adjustment()\n  return {cells:sch4.used_subslot, n1:n1, n2:n2}\n}\n\nfunction init5(topology,seq) {\n  sch4 = scheduler.create_scheduler(127,[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16],\"block\")\n\n  topo = topology\n  // topo for scheduler, {parent: [children]}\n  var sch_topo = {0:[]}\n  for(var n=1;n<Object.keys(topo).length;n++) {\n    if(sch_topo[topo[n].parent]!=null) sch_topo[topo[n].parent].push(n)\n    else sch_topo[topo[n].parent] = [n]\n  }\n  // sch1.setTopology(sch_topo)\n  join_seq = seq\n  static_schedule4()\n\n  return {cells:sch5.used_subslot}\n}\n\n\nfunction init6(topology,seq) {\n  sch6 = scheduler.create_scheduler(127,[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16],\"partition+\")\n\n  topo = topology\n  // topo for scheduler, {parent: [children]}\n  var sch_topo = {0:[]}\n  for(var n=1;n<Object.keys(topo).length;n++) {\n    if(sch_topo[topo[n].parent]!=null) sch_topo[topo[n].parent].push(n)\n    else sch_topo[topo[n].parent] = [n]\n  }\n  // sch1.setTopology(sch_topo)\n  join_seq = seq\n  static_schedule6()\n\n  return {cells:sch6.used_subslot, partitions: get_partition()}\n}\n\nfunction get_sch() {\n  return {cells:sch1.used_subslot, partitions: get_partition()}\n}\nfunction get_sch2() {\n  return {cells:sch2.used_subslot}\n}\nfunction get_sch3() {\n  return {cells:sch3.used_subslot}\n}\n\nfunction get_sch4() {\n  return {cells:sch4.used_subslot}\n}\n\nfunction get_sch5() {\n  return {cells:sch5.used_subslot}\n}\n\nfunction get_sch6() {\n  return {cells:sch5.used_subslot}\n}\n\nfunction sort_join_seq() {\n  // console.log(topo)\n\n  var arr_1 = []\n  for(var l=0;l<6;l++) {\n    var p_c = {}\n    for(var n=1;n<Object.keys(topo).length;n++) {\n      if(topo[n].layer==l) {\n        p_c[n] = 0\n        for(var nn=1;nn<Object.keys(topo).length;nn++) {\n          if(topo[nn].parent == n) p_c[n]++\n        }\n      }\n    }\n    \n    var sorted = Object.keys(p_c).sort(function(a,b){return p_c[b]-p_c[a]})\n    // console.log(p_c)\n    // console.log(sorted)\n    Array.prototype.push.apply(arr_1, sorted)\n  }\n\n  // console.log(arr_1)\n  join_seq = arr_1\n}\n\nfunction foo() {\n  // sch.adjust_partition_offset('uplink',0,-37)\n  // sch.adjust_partition_offset('downlink',0,37)\n}\nl = -1\nfunction intra_partition_adjustment(topology) {\n  var edits = 0\n  var sch_topo = {0:[]}\n  // topo for scheduler, {parent: [children]}\n  for(var n=1;n<Object.keys(topology).length;n++) {\n    if(sch_topo[topology[n].parent]!=null) sch_topo[topology[n].parent].push(n)\n    else sch_topo[topology[n].parent] = [n]\n  }\n  sch1.setTopology(sch_topo)\n  \n  l++\n  edits += sch1.intra_partition_adjustment(\"uplink\", l)\n  \n  if(l==5) l = -1\n  \n  // // console.log(sch.get_idles_all())\n  // sch.dynamic_partition_adjustment()\n  return {cells:sch1.used_subslot, partitions: get_partition(), edits}\n}\n\nfunction inter_partition_adjustment() {\n  sch1.adjust_unaligned_cells()\n  return {cells:sch1.used_subslot, partitions: get_partition()}\n}\n\nfunction get_scheduler() {\n  return sch6\n}\n\nmodule.exports={\n  init1: init1,\n  init2: init2,\n  init3: init3,\n  init4: init4,\n  init5: init5,\n  init6: init6,\n  intra_partition_adjustment: intra_partition_adjustment,\n  inter_partition_adjustment: inter_partition_adjustment,\n  kick: kick,\n  kick2: kick2,\n  kick3: kick3,\n  kick4: kick4,\n  dynamic_schedule: dynamic_schedule,\n  get_scheduler: get_scheduler,\n  get_sch: get_sch,\n  get_sch2: get_sch2,\n  get_sch3: get_sch3,\n  get_sch4: get_sch4,\n  get_sch5: get_sch5,\n  get_sch6: get_sch6,\n  foo: foo\n};\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-3!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NWTable.vue?vue&type=style&index=0&id=b2a4b412&lang=stylus&scoped=true&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"0dbfabb4\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".header-sidebar[data-v-5ddbea69]{-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.header-sidebar[data-v-5ddbea69],.header-sidebar h4[data-v-5ddbea69]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:100%}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".echarts[data-v-3f880cc8]{width:140px;height:90px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","import mod from \"-!../../../node_modules/vue-style-loader/index.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-3!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Sim.vue?vue&type=style&index=0&lang=stylus&\"; export default mod; export * from \"-!../../../node_modules/vue-style-loader/index.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-3!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Sim.vue?vue&type=style&index=0&lang=stylus&\"","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-3!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PowerChart.vue?vue&type=style&index=0&id=3f880cc8&lang=stylus&scoped=true&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"33842022\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-3!../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Navbar.vue?vue&type=style&index=0&lang=stylus&scope=true&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"82368278\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-3!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TxTotal.vue?vue&type=style&index=0&id=93048102&lang=stylus&scoped=true&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"79bfc012\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","import mod from \"-!../../../node_modules/vue-style-loader/index.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-3!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Table.vue?vue&type=style&index=0&id=183cb6df&lang=stylus&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/vue-style-loader/index.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-3!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Table.vue?vue&type=style&index=0&id=183cb6df&lang=stylus&scoped=true&\"","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-3!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Table.vue?vue&type=style&index=0&id=183cb6df&lang=stylus&scoped=true&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"9590f324\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"#events{text-align:center;color:#fff;font-size:1rem;display:block}.echarts{width:400px;height:100px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-3!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Uptime.vue?vue&type=style&index=0&id=1938c24a&lang=stylus&scoped=true&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"5e58815f\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-3!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RSSiChart.vue?vue&type=style&index=0&id=5c3fbead&lang=stylus&scoped=true&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"76a6bb85\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".bts[data-v-183cb6df]{float:right}.bts .vs-button[data-v-183cb6df]{margin-left:10px;font-size:.8rem;font-weight:600}#topo[data-v-183cb6df]{height:480px;width:100%}.non-optimal[data-v-183cb6df]{font-weight:600;color:red}.partition-usage[data-v-183cb6df]{font-size:.9rem;text-align:center}.partition-usage #part[data-v-183cb6df]{margin-top:4px}#sch-table[data-v-183cb6df]{width:100%;height:250px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","import mod from \"-!../../../node_modules/vue-style-loader/index.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-3!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Events.vue?vue&type=style&index=0&lang=stylus&scope=true&\"; export default mod; export * from \"-!../../../node_modules/vue-style-loader/index.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-3!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Events.vue?vue&type=style&index=0&lang=stylus&scope=true&\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"#title{position:absolute;font-weight:600;font-size:1.15rem;margin:10px}.topo .vs-card--content{padding:0}.topo .vs-tabs--btn span{font-size:.9rem}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","import mod from \"-!../../node_modules/vue-style-loader/index.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-3!../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Navbar.vue?vue&type=style&index=0&lang=stylus&scope=true&\"; export default mod; export * from \"-!../../node_modules/vue-style-loader/index.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-3!../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Navbar.vue?vue&type=style&index=0&lang=stylus&scope=true&\"","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-3!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DeviceCnt.vue?vue&type=style&index=0&id=083ff0da&lang=stylus&scoped=true&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"43fdb940\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-3!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TopoMap.vue?vue&type=style&index=0&lang=stylus&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"6890d126\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","import mod from \"-!../../../node_modules/vue-style-loader/index.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-3!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Topo.vue?vue&type=style&index=0&lang=stylus&\"; export default mod; export * from \"-!../../../node_modules/vue-style-loader/index.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-3!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Topo.vue?vue&type=style&index=0&lang=stylus&\"","import mod from \"-!../../../node_modules/vue-style-loader/index.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-3!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PowerChart.vue?vue&type=style&index=0&id=3f880cc8&lang=stylus&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/vue-style-loader/index.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-3!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PowerChart.vue?vue&type=style&index=0&id=3f880cc8&lang=stylus&scoped=true&\"","import mod from \"-!../../../node_modules/vue-style-loader/index.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-3!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TopoGraph.vue?vue&type=style&index=0&id=146e76fa&lang=stylus&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/vue-style-loader/index.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-3!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TopoGraph.vue?vue&type=style&index=0&id=146e76fa&lang=stylus&scoped=true&\"","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-3!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TopoGraph.vue?vue&type=style&index=0&id=146e76fa&lang=stylus&scoped=true&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"096bac8a\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"body,html{max-height:120%;width:100%;margin:0;padding:0;background-color:#ebecf1;font-size:1.15rem}#app{position:relative;min-height:calc(100vh - 80px);font-family:Noto Sans,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;color:#2c3e50;margin-top:80px}#content-wrap{padding-bottom:50px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"#r[data-v-1938c24a]{font-size:.92rem;overflow:hidden}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","import mod from \"-!../../../node_modules/vue-style-loader/index.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-3!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NWTable.vue?vue&type=style&index=0&id=b2a4b412&lang=stylus&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/vue-style-loader/index.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-3!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NWTable.vue?vue&type=style&index=0&id=b2a4b412&lang=stylus&scoped=true&\"","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-3!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Topo.vue?vue&type=style&index=0&lang=stylus&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"3187bd5d\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-3!../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Footer.vue?vue&type=style&index=0&id=3e4ee0f8&lang=stylus&scoped=true&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"232264d0\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","import mod from \"-!../../../node_modules/vue-style-loader/index.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-3!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RSSiChart.vue?vue&type=style&index=0&id=5c3fbead&lang=stylus&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/vue-style-loader/index.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-3!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RSSiChart.vue?vue&type=style&index=0&id=5c3fbead&lang=stylus&scoped=true&\"","import mod from \"-!../../../node_modules/vue-style-loader/index.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-3!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TxTotal.vue?vue&type=style&index=0&id=93048102&lang=stylus&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/vue-style-loader/index.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-3!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TxTotal.vue?vue&type=style&index=0&id=93048102&lang=stylus&scoped=true&\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"#graph[data-v-146e76fa]{width:100%;height:656px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n"],"sourceRoot":""}